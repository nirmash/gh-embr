#!/usr/bin/env node
"use strict";var Xg=Object.create;var ec=Object.defineProperty;var Yg=Object.getOwnPropertyDescriptor;var Qg=Object.getOwnPropertyNames;var Zg=Object.getPrototypeOf,e0=Object.prototype.hasOwnProperty;var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var t0=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Qg(e))!e0.call(t,s)&&s!==r&&ec(t,s,{get:()=>e[s],enumerable:!(n=Yg(e,s))||n.enumerable});return t};var ve=(t,e,r)=>(r=t!=null?Xg(Zg(t)):{},t0(e||!t||!t.__esModule?ec(r,"default",{value:t,enumerable:!0}):r,t));var Hr=h(go=>{var Un=class extends Error{constructor(e,r,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=e,this.nestedError=void 0}},ho=class extends Un{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};go.CommanderError=Un;go.InvalidArgumentError=ho});var Vn=h(yo=>{var{InvalidArgumentError:r0}=Hr(),Do=class{constructor(e,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.endsWith("...")&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_collectValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:(r.push(e),r)}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new r0(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._collectValue(r,n):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function n0(t){let e=t.name()+(t.variadic===!0?"...":"");return t.required?"<"+e+">":"["+e+"]"}yo.Argument=Do;yo.humanReadableArgName=n0});var $o=h(vo=>{var{humanReadableArgName:s0}=Vn(),Eo=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(e){this.helpWidth=this.helpWidth??e.helpWidth??80}visibleCommands(e){let r=e.commands.filter(s=>!s._hidden),n=e._getHelpCommand();return n&&!n._hidden&&r.push(n),this.sortSubcommands&&r.sort((s,o)=>s.name().localeCompare(o.name())),r}compareOptions(e,r){let n=s=>s.short?s.short.replace(/^-/,""):s.long.replace(/^--/,"");return n(e).localeCompare(n(r))}visibleOptions(e){let r=e.options.filter(s=>!s.hidden),n=e._getHelpOption();if(n&&!n.hidden){let s=n.short&&e._findOption(n.short),o=n.long&&e._findOption(n.long);!s&&!o?r.push(n):n.long&&!o?r.push(e.createOption(n.long,n.description)):n.short&&!s&&r.push(e.createOption(n.short,n.description))}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let r=[];for(let n=e.parent;n;n=n.parent){let s=n.options.filter(o=>!o.hidden);r.push(...s)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(r=>{r.description=r.description||e._argsDescription[r.name()]||""}),e.registeredArguments.find(r=>r.description)?e.registeredArguments:[]}subcommandTerm(e){let r=e.registeredArguments.map(n=>s0(n)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,r){return r.visibleCommands(e).reduce((n,s)=>Math.max(n,this.displayWidth(r.styleSubcommandTerm(r.subcommandTerm(s)))),0)}longestOptionTermLength(e,r){return r.visibleOptions(e).reduce((n,s)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(s)))),0)}longestGlobalOptionTermLength(e,r){return r.visibleGlobalOptions(e).reduce((n,s)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(s)))),0)}longestArgumentTermLength(e,r){return r.visibleArguments(e).reduce((n,s)=>Math.max(n,this.displayWidth(r.styleArgumentTerm(r.argumentTerm(s)))),0)}commandUsage(e){let r=e._name;e._aliases[0]&&(r=r+"|"+e._aliases[0]);let n="";for(let s=e.parent;s;s=s.parent)n=s.name()+" "+n;return n+r+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let r=[];if(e.argChoices&&r.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&r.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&r.push(`env: ${e.envVar}`),r.length>0){let n=`(${r.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}argumentDescription(e){let r=[];if(e.argChoices&&r.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),r.length>0){let n=`(${r.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}formatItemList(e,r,n){return r.length===0?[]:[n.styleTitle(e),...r,""]}groupItems(e,r,n){let s=new Map;return e.forEach(o=>{let i=n(o);s.has(i)||s.set(i,[])}),r.forEach(o=>{let i=n(o);s.has(i)||s.set(i,[]),s.get(i).push(o)}),s}formatHelp(e,r){let n=r.padWidth(e,r),s=r.helpWidth??80;function o(d,p){return r.formatItem(d,n,p,r)}let i=[`${r.styleTitle("Usage:")} ${r.styleUsage(r.commandUsage(e))}`,""],a=r.commandDescription(e);a.length>0&&(i=i.concat([r.boxWrap(r.styleCommandDescription(a),s),""]));let u=r.visibleArguments(e).map(d=>o(r.styleArgumentTerm(r.argumentTerm(d)),r.styleArgumentDescription(r.argumentDescription(d))));if(i=i.concat(this.formatItemList("Arguments:",u,r)),this.groupItems(e.options,r.visibleOptions(e),d=>d.helpGroupHeading??"Options:").forEach((d,p)=>{let f=d.map(m=>o(r.styleOptionTerm(r.optionTerm(m)),r.styleOptionDescription(r.optionDescription(m))));i=i.concat(this.formatItemList(p,f,r))}),r.showGlobalOptions){let d=r.visibleGlobalOptions(e).map(p=>o(r.styleOptionTerm(r.optionTerm(p)),r.styleOptionDescription(r.optionDescription(p))));i=i.concat(this.formatItemList("Global Options:",d,r))}return this.groupItems(e.commands,r.visibleCommands(e),d=>d.helpGroup()||"Commands:").forEach((d,p)=>{let f=d.map(m=>o(r.styleSubcommandTerm(r.subcommandTerm(m)),r.styleSubcommandDescription(r.subcommandDescription(m))));i=i.concat(this.formatItemList(p,f,r))}),i.join(`
`)}displayWidth(e){return tc(e).length}styleTitle(e){return e}styleUsage(e){return e.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r==="[command]"?this.styleSubcommandText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleCommandText(r)).join(" ")}styleCommandDescription(e){return this.styleDescriptionText(e)}styleOptionDescription(e){return this.styleDescriptionText(e)}styleSubcommandDescription(e){return this.styleDescriptionText(e)}styleArgumentDescription(e){return this.styleDescriptionText(e)}styleDescriptionText(e){return e}styleOptionTerm(e){return this.styleOptionText(e)}styleSubcommandTerm(e){return e.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleSubcommandText(r)).join(" ")}styleArgumentTerm(e){return this.styleArgumentText(e)}styleOptionText(e){return e}styleArgumentText(e){return e}styleSubcommandText(e){return e}styleCommandText(e){return e}padWidth(e,r){return Math.max(r.longestOptionTermLength(e,r),r.longestGlobalOptionTermLength(e,r),r.longestSubcommandTermLength(e,r),r.longestArgumentTermLength(e,r))}preformatted(e){return/\n[^\S\r\n]/.test(e)}formatItem(e,r,n,s){let i=" ".repeat(2);if(!n)return i+e;let a=e.padEnd(r+e.length-s.displayWidth(e)),u=2,l=(this.helpWidth??80)-r-u-2,d;return l<this.minWidthToWrap||s.preformatted(n)?d=n:d=s.boxWrap(n,l).replace(/\n/g,`
`+" ".repeat(r+u)),i+a+" ".repeat(u)+d.replace(/\n/g,`
${i}`)}boxWrap(e,r){if(r<this.minWidthToWrap)return e;let n=e.split(/\r\n|\n/),s=/[\s]*[^\s]+/g,o=[];return n.forEach(i=>{let a=i.match(s);if(a===null){o.push("");return}let u=[a.shift()],c=this.displayWidth(u[0]);a.forEach(l=>{let d=this.displayWidth(l);if(c+d<=r){u.push(l),c+=d;return}o.push(u.join(""));let p=l.trimStart();u=[p],c=this.displayWidth(p)}),o.push(u.join(""))}),o.join(`
`)}};function tc(t){let e=/\x1b\[\d*(;\d*)*m/g;return t.replace(e,"")}vo.Help=Eo;vo.stripColor=tc});var Co=h(_o=>{var{InvalidArgumentError:o0}=Hr(),bo=class{constructor(e,r){this.flags=e,this.description=r||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let n=i0(e);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0,this.helpGroupHeading=void 0}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let r=e;return typeof e=="string"&&(r={[e]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_collectValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:(r.push(e),r)}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new o0(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._collectValue(r,n):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?rc(this.name().replace(/^no-/,"")):rc(this.name())}helpGroup(e){return this.helpGroupHeading=e,this}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},wo=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,n)=>{this.positiveOptions.has(n)&&this.dualOptions.add(n)})}valueFromOption(e,r){let n=r.attributeName();if(!this.dualOptions.has(n))return!0;let s=this.negativeOptions.get(n).presetArg,o=s!==void 0?s:!1;return r.negate===(o===e)}};function rc(t){return t.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function i0(t){let e,r,n=/^-[^-]$/,s=/^--[^-]/,o=t.split(/[ |,]+/).concat("guard");if(n.test(o[0])&&(e=o.shift()),s.test(o[0])&&(r=o.shift()),!e&&n.test(o[0])&&(e=o.shift()),!e&&s.test(o[0])&&(e=r,r=o.shift()),o[0].startsWith("-")){let i=o[0],a=`option creation failed due to '${i}' in option flags '${t}'`;throw/^-[^-][^-]/.test(i)?new Error(`${a}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):n.test(i)?new Error(`${a}
- too many short flags`):s.test(i)?new Error(`${a}
- too many long flags`):new Error(`${a}
- unrecognised flag format`)}if(e===void 0&&r===void 0)throw new Error(`option creation failed due to no flags found in '${t}'.`);return{shortFlag:e,longFlag:r}}_o.Option=bo;_o.DualOptions=wo});var sc=h(nc=>{function a0(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);let r=[];for(let n=0;n<=t.length;n++)r[n]=[n];for(let n=0;n<=e.length;n++)r[0][n]=n;for(let n=1;n<=e.length;n++)for(let s=1;s<=t.length;s++){let o=1;t[s-1]===e[n-1]?o=0:o=1,r[s][n]=Math.min(r[s-1][n]+1,r[s][n-1]+1,r[s-1][n-1]+o),s>1&&n>1&&t[s-1]===e[n-2]&&t[s-2]===e[n-1]&&(r[s][n]=Math.min(r[s][n],r[s-2][n-2]+1))}return r[t.length][e.length]}function u0(t,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let r=t.startsWith("--");r&&(t=t.slice(2),e=e.map(i=>i.slice(2)));let n=[],s=3,o=.4;return e.forEach(i=>{if(i.length<=1)return;let a=a0(t,i),u=Math.max(t.length,i.length);(u-a)/u>o&&(a<s?(s=a,n=[i]):a===s&&n.push(i))}),n.sort((i,a)=>i.localeCompare(a)),r&&(n=n.map(i=>`--${i}`)),n.length>1?`
(Did you mean one of ${n.join(", ")}?)`:n.length===1?`
(Did you mean ${n[0]}?)`:""}nc.suggestSimilar=u0});var uc=h(Fo=>{var c0=require("node:events").EventEmitter,So=require("node:child_process"),Dt=require("node:path"),Gn=require("node:fs"),H=require("node:process"),{Argument:l0,humanReadableArgName:d0}=Vn(),{CommanderError:Oo}=Hr(),{Help:f0,stripColor:p0}=$o(),{Option:oc,DualOptions:m0}=Co(),{suggestSimilar:ic}=sc(),Io=class t extends c0{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:r=>H.stdout.write(r),writeErr:r=>H.stderr.write(r),outputError:(r,n)=>n(r),getOutHelpWidth:()=>H.stdout.isTTY?H.stdout.columns:void 0,getErrHelpWidth:()=>H.stderr.isTTY?H.stderr.columns:void 0,getOutHasColors:()=>Ao()??(H.stdout.isTTY&&H.stdout.hasColors?.()),getErrHasColors:()=>Ao()??(H.stderr.isTTY&&H.stderr.hasColors?.()),stripColor:r=>p0(r)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={},this._helpGroupHeading=void 0,this._defaultCommandGroup=void 0,this._defaultOptionGroup=void 0}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._helpOption=e._helpOption,this._helpCommand=e._helpCommand,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){let e=[];for(let r=this;r;r=r.parent)e.push(r);return e}command(e,r,n){let s=r,o=n;typeof s=="object"&&s!==null&&(o=s,s=null),o=o||{};let[,i,a]=e.match(/([^ ]+) *(.*)/),u=this.createCommand(i);return s&&(u.description(s),u._executableHandler=!0),o.isDefault&&(this._defaultCommandName=u._name),u._hidden=!!(o.noHelp||o.hidden),u._executableFile=o.executableFile||null,a&&u.arguments(a),this._registerCommand(u),u.parent=this,u.copyInheritedSettings(this),s?this:u}createCommand(e){return new t(e)}createHelp(){return Object.assign(new f0,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(this._outputConfiguration={...this._outputConfiguration,...e},this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,r){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=e._name),(r.noHelp||r.hidden)&&(e._hidden=!0),this._registerCommand(e),e.parent=this,e._checkForBrokenPassThrough(),this}createArgument(e,r){return new l0(e,r)}argument(e,r,n,s){let o=this.createArgument(e,r);return typeof n=="function"?o.default(s).argParser(n):o.default(n),this.addArgument(o),this}arguments(e){return e.trim().split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(e){let r=this.registeredArguments.slice(-1)[0];if(r?.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}helpCommand(e,r){if(typeof e=="boolean")return this._addImplicitHelpCommand=e,e&&this._defaultCommandGroup&&this._initCommandGroup(this._getHelpCommand()),this;let n=e??"help [command]",[,s,o]=n.match(/([^ ]+) *(.*)/),i=r??"display help for command",a=this.createCommand(s);return a.helpOption(!1),o&&a.arguments(o),i&&a.description(i),this._addImplicitHelpCommand=!0,this._helpCommand=a,(e||r)&&this._initCommandGroup(a),this}addHelpCommand(e,r){return typeof e!="object"?(this.helpCommand(e,r),this):(this._addImplicitHelpCommand=!0,this._helpCommand=e,this._initCommandGroup(e),this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(e,r){let n=["preSubcommand","preAction","postAction"];if(!n.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(r):this._lifeCycleHooks[e]=[r],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(e,r,n){this._exitCallback&&this._exitCallback(new Oo(e,r,n)),H.exit(e)}action(e){let r=n=>{let s=this.registeredArguments.length,o=n.slice(0,s);return this._storeOptionsAsProperties?o[s]=this:o[s]=this.opts(),o.push(this),e.apply(this,o)};return this._actionHandler=r,this}createOption(e,r){return new oc(e,r)}_callParseArg(e,r,n,s){try{return e.parseArg(r,n)}catch(o){if(o.code==="commander.invalidArgument"){let i=`${s} ${o.message}`;this.error(i,{exitCode:o.exitCode,code:o.code})}throw o}}_registerOption(e){let r=e.short&&this._findOption(e.short)||e.long&&this._findOption(e.long);if(r){let n=e.long&&this._findOption(e.long)?e.long:e.short;throw new Error(`Cannot add option '${e.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${n}'
-  already used by option '${r.flags}'`)}this._initOptionGroup(e),this.options.push(e)}_registerCommand(e){let r=s=>[s.name()].concat(s.aliases()),n=r(e).find(s=>this._findCommand(s));if(n){let s=r(this._findCommand(n)).join("|"),o=r(e).join("|");throw new Error(`cannot add command '${o}' as already have command '${s}'`)}this._initCommandGroup(e),this.commands.push(e)}addOption(e){this._registerOption(e);let r=e.name(),n=e.attributeName();if(e.negate){let o=e.long.replace(/^--no-/,"--");this._findOption(o)||this.setOptionValueWithSource(n,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(n,e.defaultValue,"default");let s=(o,i,a)=>{o==null&&e.presetArg!==void 0&&(o=e.presetArg);let u=this.getOptionValue(n);o!==null&&e.parseArg?o=this._callParseArg(e,o,u,i):o!==null&&e.variadic&&(o=e._collectValue(o,u)),o==null&&(e.negate?o=!1:e.isBoolean()||e.optional?o=!0:o=""),this.setOptionValueWithSource(n,o,a)};return this.on("option:"+r,o=>{let i=`error: option '${e.flags}' argument '${o}' is invalid.`;s(o,i,"cli")}),e.envVar&&this.on("optionEnv:"+r,o=>{let i=`error: option '${e.flags}' value '${o}' from env '${e.envVar}' is invalid.`;s(o,i,"env")}),this}_optionEx(e,r,n,s,o){if(typeof r=="object"&&r instanceof oc)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let i=this.createOption(r,n);if(i.makeOptionMandatory(!!e.mandatory),typeof s=="function")i.default(o).argParser(s);else if(s instanceof RegExp){let a=s;s=(u,c)=>{let l=a.exec(u);return l?l[0]:c},i.default(o).argParser(s)}else i.default(s);return this.addOption(i)}option(e,r,n,s){return this._optionEx({},e,r,n,s)}requiredOption(e,r,n,s){return this._optionEx({mandatory:!0},e,r,n,s)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){return this._passThroughOptions=!!e,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,r){return this.setOptionValueWithSource(e,r,void 0)}setOptionValueWithSource(e,r,n){return this._storeOptionsAsProperties?this[e]=r:this._optionValues[e]=r,this._optionValueSources[e]=n,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let r;return this._getCommandAndAncestors().forEach(n=>{n.getOptionValueSource(e)!==void 0&&(r=n.getOptionValueSource(e))}),r}_prepareUserArgs(e,r){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");if(r=r||{},e===void 0&&r.from===void 0){H.versions?.electron&&(r.from="electron");let s=H.execArgv??[];(s.includes("-e")||s.includes("--eval")||s.includes("-p")||s.includes("--print"))&&(r.from="eval")}e===void 0&&(e=H.argv),this.rawArgs=e.slice();let n;switch(r.from){case void 0:case"node":this._scriptPath=e[1],n=e.slice(2);break;case"electron":H.defaultApp?(this._scriptPath=e[1],n=e.slice(2)):n=e.slice(1);break;case"user":n=e.slice(0);break;case"eval":n=e.slice(1);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(e,r){this._prepareForParse();let n=this._prepareUserArgs(e,r);return this._parseCommand([],n),this}async parseAsync(e,r){this._prepareForParse();let n=this._prepareUserArgs(e,r);return await this._parseCommand([],n),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(e,r,n){if(Gn.existsSync(e))return;let s=r?`searched for local subcommand relative to directory '${r}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",o=`'${e}' does not exist
 - if '${n}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${s}`;throw new Error(o)}_executeSubCommand(e,r){r=r.slice();let n=!1,s=[".js",".ts",".tsx",".mjs",".cjs"];function o(l,d){let p=Dt.resolve(l,d);if(Gn.existsSync(p))return p;if(s.includes(Dt.extname(d)))return;let f=s.find(m=>Gn.existsSync(`${p}${m}`));if(f)return`${p}${f}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let i=e._executableFile||`${this._name}-${e._name}`,a=this._executableDir||"";if(this._scriptPath){let l;try{l=Gn.realpathSync(this._scriptPath)}catch{l=this._scriptPath}a=Dt.resolve(Dt.dirname(l),a)}if(a){let l=o(a,i);if(!l&&!e._executableFile&&this._scriptPath){let d=Dt.basename(this._scriptPath,Dt.extname(this._scriptPath));d!==this._name&&(l=o(a,`${d}-${e._name}`))}i=l||i}n=s.includes(Dt.extname(i));let u;H.platform!=="win32"?n?(r.unshift(i),r=ac(H.execArgv).concat(r),u=So.spawn(H.argv[0],r,{stdio:"inherit"})):u=So.spawn(i,r,{stdio:"inherit"}):(this._checkForMissingExecutable(i,a,e._name),r.unshift(i),r=ac(H.execArgv).concat(r),u=So.spawn(H.execPath,r,{stdio:"inherit"})),u.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(d=>{H.on(d,()=>{u.killed===!1&&u.exitCode===null&&u.kill(d)})});let c=this._exitCallback;u.on("close",l=>{l=l??1,c?c(new Oo(l,"commander.executeSubCommandAsync","(close)")):H.exit(l)}),u.on("error",l=>{if(l.code==="ENOENT")this._checkForMissingExecutable(i,a,e._name);else if(l.code==="EACCES")throw new Error(`'${i}' not executable`);if(!c)H.exit(1);else{let d=new Oo(1,"commander.executeSubCommandAsync","(error)");d.nestedError=l,c(d)}}),this.runningCommand=u}_dispatchSubcommand(e,r,n){let s=this._findCommand(e);s||this.help({error:!0}),s._prepareForParse();let o;return o=this._chainOrCallSubCommandHook(o,s,"preSubcommand"),o=this._chainOrCall(o,()=>{if(s._executableHandler)this._executeSubCommand(s,r.concat(n));else return s._parseCommand(r,n)}),o}_dispatchHelpCommand(e){e||this.help();let r=this._findCommand(e);return r&&!r._executableHandler&&r.help(),this._dispatchSubcommand(e,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,r)=>{e.required&&this.args[r]==null&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(n,s,o)=>{let i=s;if(s!==null&&n.parseArg){let a=`error: command-argument value '${s}' is invalid for argument '${n.name()}'.`;i=this._callParseArg(n,s,o,a)}return i};this._checkNumberOfArguments();let r=[];this.registeredArguments.forEach((n,s)=>{let o=n.defaultValue;n.variadic?s<this.args.length?(o=this.args.slice(s),n.parseArg&&(o=o.reduce((i,a)=>e(n,a,i),n.defaultValue))):o===void 0&&(o=[]):s<this.args.length&&(o=this.args[s],n.parseArg&&(o=e(n,o,n.defaultValue))),r[s]=o}),this.processedArgs=r}_chainOrCall(e,r){return e?.then&&typeof e.then=="function"?e.then(()=>r()):r()}_chainOrCallHooks(e,r){let n=e,s=[];return this._getCommandAndAncestors().reverse().filter(o=>o._lifeCycleHooks[r]!==void 0).forEach(o=>{o._lifeCycleHooks[r].forEach(i=>{s.push({hookedCommand:o,callback:i})})}),r==="postAction"&&s.reverse(),s.forEach(o=>{n=this._chainOrCall(n,()=>o.callback(o.hookedCommand,this))}),n}_chainOrCallSubCommandHook(e,r,n){let s=e;return this._lifeCycleHooks[n]!==void 0&&this._lifeCycleHooks[n].forEach(o=>{s=this._chainOrCall(s,()=>o(this,r))}),s}_parseCommand(e,r){let n=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(n.operands),r=n.unknown,this.args=e.concat(r),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),r);if(this._getHelpCommand()&&e[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(r),this._dispatchSubcommand(this._defaultCommandName,e,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let s=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},o=`command:${this.name()}`;if(this._actionHandler){s(),this._processArguments();let i;return i=this._chainOrCallHooks(i,"preAction"),i=this._chainOrCall(i,()=>this._actionHandler(this.processedArgs)),this.parent&&(i=this._chainOrCall(i,()=>{this.parent.emit(o,e,r)})),i=this._chainOrCallHooks(i,"postAction"),i}if(this.parent?.listenerCount(o))s(),this._processArguments(),this.parent.emit(o,e,r);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,r);this.listenerCount("command:*")?this.emit("command:*",e,r):this.commands.length?this.unknownCommand():(s(),this._processArguments())}else this.commands.length?(s(),this.help({error:!0})):(s(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(r=>r._name===e||r._aliases.includes(e))}_findOption(e){return this.options.find(r=>r.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(r=>{r.mandatory&&e.getOptionValue(r.attributeName())===void 0&&e.missingMandatoryOptionValue(r)})})}_checkForConflictingLocalOptions(){let e=this.options.filter(n=>{let s=n.attributeName();return this.getOptionValue(s)===void 0?!1:this.getOptionValueSource(s)!=="default"});e.filter(n=>n.conflictsWith.length>0).forEach(n=>{let s=e.find(o=>n.conflictsWith.includes(o.attributeName()));s&&this._conflictingOption(n,s)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){let r=[],n=[],s=r;function o(l){return l.length>1&&l[0]==="-"}let i=l=>/^-(\d+|\d*\.\d+)(e[+-]?\d+)?$/.test(l)?!this._getCommandAndAncestors().some(d=>d.options.map(p=>p.short).some(p=>/^-\d$/.test(p))):!1,a=null,u=null,c=0;for(;c<e.length||u;){let l=u??e[c++];if(u=null,l==="--"){s===n&&s.push(l),s.push(...e.slice(c));break}if(a&&(!o(l)||i(l))){this.emit(`option:${a.name()}`,l);continue}if(a=null,o(l)){let d=this._findOption(l);if(d){if(d.required){let p=e[c++];p===void 0&&this.optionMissingArgument(d),this.emit(`option:${d.name()}`,p)}else if(d.optional){let p=null;c<e.length&&(!o(e[c])||i(e[c]))&&(p=e[c++]),this.emit(`option:${d.name()}`,p)}else this.emit(`option:${d.name()}`);a=d.variadic?d:null;continue}}if(l.length>2&&l[0]==="-"&&l[1]!=="-"){let d=this._findOption(`-${l[1]}`);if(d){d.required||d.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${d.name()}`,l.slice(2)):(this.emit(`option:${d.name()}`),u=`-${l.slice(2)}`);continue}}if(/^--[^=]+=/.test(l)){let d=l.indexOf("="),p=this._findOption(l.slice(0,d));if(p&&(p.required||p.optional)){this.emit(`option:${p.name()}`,l.slice(d+1));continue}}if(s===r&&o(l)&&!(this.commands.length===0&&i(l))&&(s=n),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&n.length===0){if(this._findCommand(l)){r.push(l),n.push(...e.slice(c));break}else if(this._getHelpCommand()&&l===this._getHelpCommand().name()){r.push(l,...e.slice(c));break}else if(this._defaultCommandName){n.push(l,...e.slice(c));break}}if(this._passThroughOptions){s.push(l,...e.slice(c));break}s.push(l)}return{operands:r,unknown:n}}opts(){if(this._storeOptionsAsProperties){let e={},r=this.options.length;for(let n=0;n<r;n++){let s=this.options[n].attributeName();e[s]=s===this._versionOptionName?this._version:this[s]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,r)=>Object.assign(e,r.opts()),{})}error(e,r){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let n=r||{},s=n.exitCode||1,o=n.code||"commander.error";this._exit(s,o,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in H.env){let r=e.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,H.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new m0(this.options),r=n=>this.getOptionValue(n)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(n));this.options.filter(n=>n.implied!==void 0&&r(n.attributeName())&&e.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(n=>{Object.keys(n.implied).filter(s=>!r(s)).forEach(s=>{this.setOptionValueWithSource(s,n.implied[s],"implied")})})}missingArgument(e){let r=`error: missing required argument '${e}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(e){let r=`error: option '${e.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let r=`error: required option '${e.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,r){let n=i=>{let a=i.attributeName(),u=this.getOptionValue(a),c=this.options.find(d=>d.negate&&a===d.attributeName()),l=this.options.find(d=>!d.negate&&a===d.attributeName());return c&&(c.presetArg===void 0&&u===!1||c.presetArg!==void 0&&u===c.presetArg)?c:l||i},s=i=>{let a=n(i),u=a.attributeName();return this.getOptionValueSource(u)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},o=`error: ${s(e)} cannot be used with ${s(r)}`;this.error(o,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let r="";if(e.startsWith("--")&&this._showSuggestionAfterError){let s=[],o=this;do{let i=o.createHelp().visibleOptions(o).filter(a=>a.long).map(a=>a.long);s=s.concat(i),o=o.parent}while(o&&!o._enablePositionalOptions);r=ic(e,s)}let n=`error: unknown option '${e}'${r}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let r=this.registeredArguments.length,n=r===1?"":"s",o=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${n} but got ${e.length}.`;this.error(o,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],r="";if(this._showSuggestionAfterError){let s=[];this.createHelp().visibleCommands(this).forEach(o=>{s.push(o.name()),o.alias()&&s.push(o.alias())}),r=ic(e,s)}let n=`error: unknown command '${e}'${r}`;this.error(n,{code:"commander.unknownCommand"})}version(e,r,n){if(e===void 0)return this._version;this._version=e,r=r||"-V, --version",n=n||"output the version number";let s=this.createOption(r,n);return this._versionOptionName=s.attributeName(),this._registerOption(s),this.on("option:"+s.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,r){return e===void 0&&r===void 0?this._description:(this._description=e,r&&(this._argsDescription=r),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),e===r._name)throw new Error("Command alias can't be the same as its name");let n=this.parent?._findCommand(e);if(n){let s=[n.name()].concat(n.aliases()).join("|");throw new Error(`cannot add alias '${e}' to command '${this.name()}' as already have command '${s}'`)}return r._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(r=>this.alias(r)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let r=this.registeredArguments.map(n=>d0(n));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?r:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}helpGroup(e){return e===void 0?this._helpGroupHeading??"":(this._helpGroupHeading=e,this)}commandsGroup(e){return e===void 0?this._defaultCommandGroup??"":(this._defaultCommandGroup=e,this)}optionsGroup(e){return e===void 0?this._defaultOptionGroup??"":(this._defaultOptionGroup=e,this)}_initOptionGroup(e){this._defaultOptionGroup&&!e.helpGroupHeading&&e.helpGroup(this._defaultOptionGroup)}_initCommandGroup(e){this._defaultCommandGroup&&!e.helpGroup()&&e.helpGroup(this._defaultCommandGroup)}nameFromFilename(e){return this._name=Dt.basename(e,Dt.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let r=this.createHelp(),n=this._getOutputContext(e);r.prepareContext({error:n.error,helpWidth:n.helpWidth,outputHasColors:n.hasColors});let s=r.formatHelp(this,r);return n.hasColors?s:this._outputConfiguration.stripColor(s)}_getOutputContext(e){e=e||{};let r=!!e.error,n,s,o;return r?(n=a=>this._outputConfiguration.writeErr(a),s=this._outputConfiguration.getErrHasColors(),o=this._outputConfiguration.getErrHelpWidth()):(n=a=>this._outputConfiguration.writeOut(a),s=this._outputConfiguration.getOutHasColors(),o=this._outputConfiguration.getOutHelpWidth()),{error:r,write:a=>(s||(a=this._outputConfiguration.stripColor(a)),n(a)),hasColors:s,helpWidth:o}}outputHelp(e){let r;typeof e=="function"&&(r=e,e=void 0);let n=this._getOutputContext(e),s={error:n.error,write:n.write,command:this};this._getCommandAndAncestors().reverse().forEach(i=>i.emit("beforeAllHelp",s)),this.emit("beforeHelp",s);let o=this.helpInformation({error:n.error});if(r&&(o=r(o),typeof o!="string"&&!Buffer.isBuffer(o)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(o),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",s),this._getCommandAndAncestors().forEach(i=>i.emit("afterAllHelp",s))}helpOption(e,r){return typeof e=="boolean"?(e?(this._helpOption===null&&(this._helpOption=void 0),this._defaultOptionGroup&&this._initOptionGroup(this._getHelpOption())):this._helpOption=null,this):(this._helpOption=this.createOption(e??"-h, --help",r??"display help for command"),(e||r)&&this._initOptionGroup(this._helpOption),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(e){return this._helpOption=e,this._initOptionGroup(e),this}help(e){this.outputHelp(e);let r=Number(H.exitCode??0);r===0&&e&&typeof e!="function"&&e.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(e,r){let n=["beforeAll","before","after","afterAll"];if(!n.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${n.join("', '")}'`);let s=`${e}Help`;return this.on(s,o=>{let i;typeof r=="function"?i=r({error:o.error,command:o.command}):i=r,i&&o.write(`${i}
`)}),this}_outputHelpIfRequested(e){let r=this._getHelpOption();r&&e.find(s=>r.is(s))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function ac(t){return t.map(e=>{if(!e.startsWith("--inspect"))return e;let r,n="127.0.0.1",s="9229",o;return(o=e.match(/^(--inspect(-brk)?)$/))!==null?r=o[1]:(o=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=o[1],/^\d+$/.test(o[3])?s=o[3]:n=o[3]):(o=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=o[1],n=o[3],s=o[4]),r&&s!=="0"?`${r}=${n}:${parseInt(s)+1}`:e})}function Ao(){if(H.env.NO_COLOR||H.env.FORCE_COLOR==="0"||H.env.FORCE_COLOR==="false")return!1;if(H.env.FORCE_COLOR||H.env.CLICOLOR_FORCE!==void 0)return!0}Fo.Command=Io;Fo.useColor=Ao});var fc=h(He=>{var{Argument:cc}=Vn(),{Command:xo}=uc(),{CommanderError:h0,InvalidArgumentError:lc}=Hr(),{Help:g0}=$o(),{Option:dc}=Co();He.program=new xo;He.createCommand=t=>new xo(t);He.createOption=(t,e)=>new dc(t,e);He.createArgument=(t,e)=>new cc(t,e);He.Command=xo;He.Option=dc;He.Argument=cc;He.Help=g0;He.CommanderError=h0;He.InvalidArgumentError=lc;He.InvalidOptionArgumentError=lc});var hc=h((d2,mc)=>{"use strict";mc.exports=t=>{let e=typeof t;return t!==null&&(e==="object"||e==="function")}});var Dc=h((f2,gc)=>{"use strict";var Gt=hc(),D0=new Set(["__proto__","prototype","constructor"]),y0=t=>!t.some(e=>D0.has(e));function zn(t){let e=t.split("."),r=[];for(let n=0;n<e.length;n++){let s=e[n];for(;s[s.length-1]==="\\"&&e[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=e[++n];r.push(s)}return y0(r)?r:[]}gc.exports={get(t,e,r){if(!Gt(t)||typeof e!="string")return r===void 0?t:r;let n=zn(e);if(n.length!==0){for(let s=0;s<n.length;s++)if(t=t[n[s]],t==null){if(s!==n.length-1)return r;break}return t===void 0?r:t}},set(t,e,r){if(!Gt(t)||typeof e!="string")return t;let n=t,s=zn(e);for(let o=0;o<s.length;o++){let i=s[o];Gt(t[i])||(t[i]={}),o===s.length-1&&(t[i]=r),t=t[i]}return n},delete(t,e){if(!Gt(t)||typeof e!="string")return!1;let r=zn(e);for(let n=0;n<r.length;n++){let s=r[n];if(n===r.length-1)return delete t[s],!0;if(t=t[s],!Gt(t))return!1}},has(t,e){if(!Gt(t)||typeof e!="string")return!1;let r=zn(e);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Gt(t)){if(!(r[n]in t))return!1;t=t[r[n]]}else return!1;return!0}}});var Ec=h((p2,Po)=>{"use strict";var yc=require("fs");Po.exports=t=>new Promise(e=>{yc.access(t,r=>{e(!r)})});Po.exports.sync=t=>{try{return yc.accessSync(t),!0}catch{return!1}}});var $c=h((m2,To)=>{"use strict";var vc=(t,...e)=>new Promise(r=>{r(t(...e))});To.exports=vc;To.exports.default=vc});var wc=h((h2,jo)=>{"use strict";var E0=$c(),bc=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let e=[],r=0,n=()=>{r--,e.length>0&&e.shift()()},s=(a,u,...c)=>{r++;let l=E0(a,...c);u(l),l.then(n,n)},o=(a,u,...c)=>{r<t?s(a,u,...c):e.push(s.bind(null,a,u,...c))},i=(a,...u)=>new Promise(c=>o(a,c,...u));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>e.length},clearQueue:{value:()=>{e.length=0}}}),i};jo.exports=bc;jo.exports.default=bc});var Sc=h((g2,Cc)=>{"use strict";var _c=wc(),Hn=class extends Error{constructor(e){super(),this.value=e}},v0=(t,e)=>Promise.resolve(t).then(e),$0=t=>Promise.all(t).then(e=>e[1]===!0&&Promise.reject(new Hn(e[0])));Cc.exports=(t,e,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);let n=_c(r.concurrency),s=[...t].map(i=>[i,n(v0,i,e)]),o=_c(r.preserveOrder?1:1/0);return Promise.all(s.map(i=>o($0,i))).then(()=>{}).catch(i=>i instanceof Hn?i.value:Promise.reject(i))}});var Ac=h((D2,Ro)=>{"use strict";var Oc=require("path"),Ic=Ec(),b0=Sc();Ro.exports=(t,e)=>(e=Object.assign({cwd:process.cwd()},e),b0(t,r=>Ic(Oc.resolve(e.cwd,r)),e));Ro.exports.sync=(t,e)=>{e=Object.assign({cwd:process.cwd()},e);for(let r of t)if(Ic.sync(Oc.resolve(e.cwd,r)))return r}});var xc=h((y2,ko)=>{"use strict";var Ot=require("path"),Fc=Ac();ko.exports=(t,e={})=>{let r=Ot.resolve(e.cwd||""),{root:n}=Ot.parse(r),s=[].concat(t);return new Promise(o=>{(function i(a){Fc(s,{cwd:a}).then(u=>{u?o(Ot.join(a,u)):a===n?o(null):i(Ot.dirname(a))})})(r)})};ko.exports.sync=(t,e={})=>{let r=Ot.resolve(e.cwd||""),{root:n}=Ot.parse(r),s=[].concat(t);for(;;){let o=Fc.sync(s,{cwd:r});if(o)return Ot.join(r,o);if(r===n)return null;r=Ot.dirname(r)}}});var Tc=h((E2,No)=>{"use strict";var Pc=xc();No.exports=async({cwd:t}={})=>Pc("package.json",{cwd:t});No.exports.sync=({cwd:t}={})=>Pc.sync("package.json",{cwd:t})});var kc=h((v2,Lo)=>{"use strict";var oe=require("path"),jc=require("os"),It=jc.homedir(),qo=jc.tmpdir(),{env:or}=process,w0=t=>{let e=oe.join(It,"Library");return{data:oe.join(e,"Application Support",t),config:oe.join(e,"Preferences",t),cache:oe.join(e,"Caches",t),log:oe.join(e,"Logs",t),temp:oe.join(qo,t)}},_0=t=>{let e=or.APPDATA||oe.join(It,"AppData","Roaming"),r=or.LOCALAPPDATA||oe.join(It,"AppData","Local");return{data:oe.join(r,t,"Data"),config:oe.join(e,t,"Config"),cache:oe.join(r,t,"Cache"),log:oe.join(r,t,"Log"),temp:oe.join(qo,t)}},C0=t=>{let e=oe.basename(It);return{data:oe.join(or.XDG_DATA_HOME||oe.join(It,".local","share"),t),config:oe.join(or.XDG_CONFIG_HOME||oe.join(It,".config"),t),cache:oe.join(or.XDG_CACHE_HOME||oe.join(It,".cache"),t),log:oe.join(or.XDG_STATE_HOME||oe.join(It,".local","state"),t),temp:oe.join(qo,e,t)}},Rc=(t,e)=>{if(typeof t!="string")throw new TypeError(`Expected string, got ${typeof t}`);return e=Object.assign({suffix:"nodejs"},e),e.suffix&&(t+=`-${e.suffix}`),process.platform==="darwin"?w0(t):process.platform==="win32"?_0(t):C0(t)};Lo.exports=Rc;Lo.exports.default=Rc});var ir=h(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.NOOP=Z.LIMIT_FILES_DESCRIPTORS=Z.LIMIT_BASENAME_LENGTH=Z.IS_USER_ROOT=Z.IS_POSIX=Z.DEFAULT_TIMEOUT_SYNC=Z.DEFAULT_TIMEOUT_ASYNC=Z.DEFAULT_WRITE_OPTIONS=Z.DEFAULT_READ_OPTIONS=Z.DEFAULT_FOLDER_MODE=Z.DEFAULT_FILE_MODE=Z.DEFAULT_ENCODING=void 0;var S0="utf8";Z.DEFAULT_ENCODING=S0;var O0=438;Z.DEFAULT_FILE_MODE=O0;var I0=511;Z.DEFAULT_FOLDER_MODE=I0;var A0={};Z.DEFAULT_READ_OPTIONS=A0;var F0={};Z.DEFAULT_WRITE_OPTIONS=F0;var x0=5e3;Z.DEFAULT_TIMEOUT_ASYNC=x0;var P0=100;Z.DEFAULT_TIMEOUT_SYNC=P0;var T0=!!process.getuid;Z.IS_POSIX=T0;var j0=process.getuid?!process.getuid():!1;Z.IS_USER_ROOT=j0;var R0=128;Z.LIMIT_BASENAME_LENGTH=R0;var k0=1e4;Z.LIMIT_FILES_DESCRIPTORS=k0;var N0=()=>{};Z.NOOP=N0});var qc=h(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.attemptifySync=ar.attemptifyAsync=void 0;var Nc=ir(),q0=(t,e=Nc.NOOP)=>function(){return t.apply(void 0,arguments).catch(e)};ar.attemptifyAsync=q0;var L0=(t,e=Nc.NOOP)=>function(){try{return t.apply(void 0,arguments)}catch(r){return e(r)}};ar.attemptifySync=L0});var Mc=h(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var M0=ir(),Lc={isChangeErrorOk:t=>{let{code:e}=t;return e==="ENOSYS"||!M0.IS_USER_ROOT&&(e==="EINVAL"||e==="EPERM")},isRetriableError:t=>{let{code:e}=t;return e==="EMFILE"||e==="ENFILE"||e==="EAGAIN"||e==="EBUSY"||e==="EACCESS"||e==="EACCS"||e==="EPERM"},onChangeError:t=>{if(!Lc.isChangeErrorOk(t))throw t}};Mo.default=Lc});var Bc=h(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var B0=ir(),ee={interval:25,intervalId:void 0,limit:B0.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{ee.intervalId||(ee.intervalId=setInterval(ee.tick,ee.interval))},reset:()=>{ee.intervalId&&(clearInterval(ee.intervalId),delete ee.intervalId)},add:t=>{ee.queueWaiting.add(t),ee.queueActive.size<ee.limit/2?ee.tick():ee.init()},remove:t=>{ee.queueWaiting.delete(t),ee.queueActive.delete(t)},schedule:()=>new Promise(t=>{let e=()=>ee.remove(r),r=()=>t(e);ee.add(r)}),tick:()=>{if(!(ee.queueActive.size>=ee.limit)){if(!ee.queueWaiting.size)return ee.reset();for(let t of ee.queueWaiting){if(ee.queueActive.size>=ee.limit)break;ee.queueWaiting.delete(t),ee.queueActive.add(t),t()}}}};Bo.default=ee});var Uc=h(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.retryifySync=ur.retryifyAsync=void 0;var U0=Bc(),V0=(t,e)=>function(r){return function n(){return U0.default.schedule().then(s=>t.apply(void 0,arguments).then(o=>(s(),o),o=>{if(s(),Date.now()>=r)throw o;if(e(o)){let i=Math.round(100+400*Math.random());return new Promise(u=>setTimeout(u,i)).then(()=>n.apply(void 0,arguments))}throw o}))}};ur.retryifyAsync=V0;var G0=(t,e)=>function(r){return function n(){try{return t.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(e(s))return n.apply(void 0,arguments);throw s}}};ur.retryifySync=G0});var Vo=h(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var X=require("fs"),Ie=require("util"),Ae=qc(),de=Mc(),Ne=Uc(),z0={chmodAttempt:Ae.attemptifyAsync(Ie.promisify(X.chmod),de.default.onChangeError),chownAttempt:Ae.attemptifyAsync(Ie.promisify(X.chown),de.default.onChangeError),closeAttempt:Ae.attemptifyAsync(Ie.promisify(X.close)),fsyncAttempt:Ae.attemptifyAsync(Ie.promisify(X.fsync)),mkdirAttempt:Ae.attemptifyAsync(Ie.promisify(X.mkdir)),realpathAttempt:Ae.attemptifyAsync(Ie.promisify(X.realpath)),statAttempt:Ae.attemptifyAsync(Ie.promisify(X.stat)),unlinkAttempt:Ae.attemptifyAsync(Ie.promisify(X.unlink)),closeRetry:Ne.retryifyAsync(Ie.promisify(X.close),de.default.isRetriableError),fsyncRetry:Ne.retryifyAsync(Ie.promisify(X.fsync),de.default.isRetriableError),openRetry:Ne.retryifyAsync(Ie.promisify(X.open),de.default.isRetriableError),readFileRetry:Ne.retryifyAsync(Ie.promisify(X.readFile),de.default.isRetriableError),renameRetry:Ne.retryifyAsync(Ie.promisify(X.rename),de.default.isRetriableError),statRetry:Ne.retryifyAsync(Ie.promisify(X.stat),de.default.isRetriableError),writeRetry:Ne.retryifyAsync(Ie.promisify(X.write),de.default.isRetriableError),chmodSyncAttempt:Ae.attemptifySync(X.chmodSync,de.default.onChangeError),chownSyncAttempt:Ae.attemptifySync(X.chownSync,de.default.onChangeError),closeSyncAttempt:Ae.attemptifySync(X.closeSync),mkdirSyncAttempt:Ae.attemptifySync(X.mkdirSync),realpathSyncAttempt:Ae.attemptifySync(X.realpathSync),statSyncAttempt:Ae.attemptifySync(X.statSync),unlinkSyncAttempt:Ae.attemptifySync(X.unlinkSync),closeSyncRetry:Ne.retryifySync(X.closeSync,de.default.isRetriableError),fsyncSyncRetry:Ne.retryifySync(X.fsyncSync,de.default.isRetriableError),openSyncRetry:Ne.retryifySync(X.openSync,de.default.isRetriableError),readFileSyncRetry:Ne.retryifySync(X.readFileSync,de.default.isRetriableError),renameSyncRetry:Ne.retryifySync(X.renameSync,de.default.isRetriableError),statSyncRetry:Ne.retryifySync(X.statSync,de.default.isRetriableError),writeSyncRetry:Ne.retryifySync(X.writeSync,de.default.isRetriableError)};Uo.default=z0});var Vc=h(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var H0={isFunction:t=>typeof t=="function",isString:t=>typeof t=="string",isUndefined:t=>typeof t>"u"};Go.default=H0});var Gc=h(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var Wn={},zo={next:t=>{let e=Wn[t];if(!e)return;e.shift();let r=e[0];r?r(()=>zo.next(t)):delete Wn[t]},schedule:t=>new Promise(e=>{let r=Wn[t];r||(r=Wn[t]=[]),r.push(e),!(r.length>1)&&e(()=>zo.next(t))})};Ho.default=zo});var Wc=h(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var W0=require("path"),zc=ir(),Hc=Vo(),Ve={store:{},create:t=>{let e=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${e}`;return`${t}${s}`},get:(t,e,r=!0)=>{let n=Ve.truncate(e(t));return n in Ve.store?Ve.get(t,e,r):(Ve.store[n]=r,[n,()=>delete Ve.store[n]])},purge:t=>{Ve.store[t]&&(delete Ve.store[t],Hc.default.unlinkAttempt(t))},purgeSync:t=>{Ve.store[t]&&(delete Ve.store[t],Hc.default.unlinkSyncAttempt(t))},purgeSyncAll:()=>{for(let t in Ve.store)Ve.purgeSync(t)},truncate:t=>{let e=W0.basename(t);if(e.length<=zc.LIMIT_BASENAME_LENGTH)return t;let r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(e);if(!r)return t;let n=e.length-zc.LIMIT_BASENAME_LENGTH;return`${t.slice(0,-e.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Ve.purgeSyncAll);Wo.default=Ve});var el=h(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.writeFileSync=ut.writeFile=ut.readFileSync=ut.readFile=void 0;var Kc=require("path"),me=ir(),K=Vo(),Ge=Vc(),K0=Gc(),At=Wc();function Jc(t,e=me.DEFAULT_READ_OPTIONS){var r;if(Ge.default.isString(e))return Jc(t,{encoding:e});let n=Date.now()+((r=e.timeout)!==null&&r!==void 0?r:me.DEFAULT_TIMEOUT_ASYNC);return K.default.readFileRetry(n)(t,e)}ut.readFile=Jc;function Xc(t,e=me.DEFAULT_READ_OPTIONS){var r;if(Ge.default.isString(e))return Xc(t,{encoding:e});let n=Date.now()+((r=e.timeout)!==null&&r!==void 0?r:me.DEFAULT_TIMEOUT_SYNC);return K.default.readFileSyncRetry(n)(t,e)}ut.readFileSync=Xc;var Yc=(t,e,r,n)=>{if(Ge.default.isFunction(r))return Yc(t,e,me.DEFAULT_WRITE_OPTIONS,r);let s=Qc(t,e,r);return n&&s.then(n,n),s};ut.writeFile=Yc;var Qc=async(t,e,r=me.DEFAULT_WRITE_OPTIONS)=>{var n;if(Ge.default.isString(r))return Qc(t,e,{encoding:r});let s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:me.DEFAULT_TIMEOUT_ASYNC),o=null,i=null,a=null,u=null,c=null;try{r.schedule&&(o=await r.schedule(t)),i=await K0.default.schedule(t),t=await K.default.realpathAttempt(t)||t,[u,a]=At.default.get(t,r.tmpCreate||At.default.create,r.tmpPurge!==!1);let l=me.IS_POSIX&&Ge.default.isUndefined(r.chown),d=Ge.default.isUndefined(r.mode);if(l||d){let f=await K.default.statAttempt(t);f&&(r={...r},l&&(r.chown={uid:f.uid,gid:f.gid}),d&&(r.mode=f.mode))}let p=Kc.dirname(t);await K.default.mkdirAttempt(p,{mode:me.DEFAULT_FOLDER_MODE,recursive:!0}),c=await K.default.openRetry(s)(u,"w",r.mode||me.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(u),Ge.default.isString(e)?await K.default.writeRetry(s)(c,e,0,r.encoding||me.DEFAULT_ENCODING):Ge.default.isUndefined(e)||await K.default.writeRetry(s)(c,e,0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await K.default.fsyncRetry(s)(c):K.default.fsyncAttempt(c)),await K.default.closeRetry(s)(c),c=null,r.chown&&await K.default.chownAttempt(u,r.chown.uid,r.chown.gid),r.mode&&await K.default.chmodAttempt(u,r.mode);try{await K.default.renameRetry(s)(u,t)}catch(f){if(f.code!=="ENAMETOOLONG")throw f;await K.default.renameRetry(s)(u,At.default.truncate(t))}a(),u=null}finally{c&&await K.default.closeAttempt(c),u&&At.default.purge(u),o&&o(),i&&i()}},Zc=(t,e,r=me.DEFAULT_WRITE_OPTIONS)=>{var n;if(Ge.default.isString(r))return Zc(t,e,{encoding:r});let s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:me.DEFAULT_TIMEOUT_SYNC),o=null,i=null,a=null;try{t=K.default.realpathSyncAttempt(t)||t,[i,o]=At.default.get(t,r.tmpCreate||At.default.create,r.tmpPurge!==!1);let u=me.IS_POSIX&&Ge.default.isUndefined(r.chown),c=Ge.default.isUndefined(r.mode);if(u||c){let d=K.default.statSyncAttempt(t);d&&(r={...r},u&&(r.chown={uid:d.uid,gid:d.gid}),c&&(r.mode=d.mode))}let l=Kc.dirname(t);K.default.mkdirSyncAttempt(l,{mode:me.DEFAULT_FOLDER_MODE,recursive:!0}),a=K.default.openSyncRetry(s)(i,"w",r.mode||me.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(i),Ge.default.isString(e)?K.default.writeSyncRetry(s)(a,e,0,r.encoding||me.DEFAULT_ENCODING):Ge.default.isUndefined(e)||K.default.writeSyncRetry(s)(a,e,0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?K.default.fsyncSyncRetry(s)(a):K.default.fsyncAttempt(a)),K.default.closeSyncRetry(s)(a),a=null,r.chown&&K.default.chownSyncAttempt(i,r.chown.uid,r.chown.gid),r.mode&&K.default.chmodSyncAttempt(i,r.mode);try{K.default.renameSyncRetry(s)(i,t)}catch(d){if(d.code!=="ENAMETOOLONG")throw d;K.default.renameSyncRetry(s)(i,At.default.truncate(t))}o(),i=null}finally{a&&K.default.closeSyncAttempt(a),i&&At.default.purge(i)}};ut.writeFileSync=Zc});var Jr=h(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.regexpCode=z.getEsmExportName=z.getProperty=z.safeStringify=z.stringify=z.strConcat=z.addCodeArg=z.str=z._=z.nil=z._Code=z.Name=z.IDENTIFIER=z._CodeOrName=void 0;var Wr=class{};z._CodeOrName=Wr;z.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var zt=class extends Wr{constructor(e){if(super(),!z.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};z.Name=zt;var We=class extends Wr{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof zt&&(r[n.str]=(r[n.str]||0)+1),r),{})}};z._Code=We;z.nil=new We("");function tl(t,...e){let r=[t[0]],n=0;for(;n<e.length;)Jo(r,e[n]),r.push(t[++n]);return new We(r)}z._=tl;var Ko=new We("+");function rl(t,...e){let r=[Kr(t[0])],n=0;for(;n<e.length;)r.push(Ko),Jo(r,e[n]),r.push(Ko,Kr(t[++n]));return J0(r),new We(r)}z.str=rl;function Jo(t,e){e instanceof We?t.push(...e._items):e instanceof zt?t.push(e):t.push(Q0(e))}z.addCodeArg=Jo;function J0(t){let e=1;for(;e<t.length-1;){if(t[e]===Ko){let r=X0(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function X0(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof zt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof zt))return`"${t}${e.slice(1)}`}function Y0(t,e){return e.emptyStr()?t:t.emptyStr()?e:rl`${t}${e}`}z.strConcat=Y0;function Q0(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Kr(Array.isArray(t)?t.join(","):t)}function Z0(t){return new We(Kr(t))}z.stringify=Z0;function Kr(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}z.safeStringify=Kr;function eD(t){return typeof t=="string"&&z.IDENTIFIER.test(t)?new We(`.${t}`):tl`[${t}]`}z.getProperty=eD;function tD(t){if(typeof t=="string"&&z.IDENTIFIER.test(t))return new We(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}z.getEsmExportName=tD;function rD(t){return new We(t.toString())}z.regexpCode=rD});var Qo=h(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.ValueScope=Le.ValueScopeName=Le.Scope=Le.varKinds=Le.UsedValueState=void 0;var qe=Jr(),Xo=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Kn;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Kn||(Le.UsedValueState=Kn={}));Le.varKinds={const:new qe.Name("const"),let:new qe.Name("let"),var:new qe.Name("var")};var Jn=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof qe.Name?e:this.name(e)}name(e){return new qe.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Le.Scope=Jn;var Xn=class extends qe.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,qe._)`.${new qe.Name(r)}[${n}]`}};Le.ValueScopeName=Xn;var nD=(0,qe._)`\n`,Yo=class extends Jn{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?nD:qe.nil}}get(){return this._scope}name(e){return new Xn(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:o}=s,i=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[o];if(a){let l=a.get(i);if(l)return l}else a=this._values[o]=new Map;a.set(i,s);let u=this._scope[o]||(this._scope[o]=[]),c=u.length;return u[c]=r.ref,s.setValue(r,{property:o,itemIndex:c}),s}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,qe._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(e,r,n={},s){let o=qe.nil;for(let i in e){let a=e[i];if(!a)continue;let u=n[i]=n[i]||new Map;a.forEach(c=>{if(u.has(c))return;u.set(c,Kn.Started);let l=r(c);if(l){let d=this.opts.es5?Le.varKinds.var:Le.varKinds.const;o=(0,qe._)`${o}${d} ${c} = ${l};${this.opts._n}`}else if(l=s?.(c))o=(0,qe._)`${o}${l}${this.opts._n}`;else throw new Xo(c);u.set(c,Kn.Completed)})}return o}};Le.ValueScope=Yo});var q=h(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.or=L.and=L.not=L.CodeGen=L.operators=L.varKinds=L.ValueScopeName=L.ValueScope=L.Scope=L.Name=L.regexpCode=L.stringify=L.getProperty=L.nil=L.strConcat=L.str=L._=void 0;var U=Jr(),rt=Qo(),Ft=Jr();Object.defineProperty(L,"_",{enumerable:!0,get:function(){return Ft._}});Object.defineProperty(L,"str",{enumerable:!0,get:function(){return Ft.str}});Object.defineProperty(L,"strConcat",{enumerable:!0,get:function(){return Ft.strConcat}});Object.defineProperty(L,"nil",{enumerable:!0,get:function(){return Ft.nil}});Object.defineProperty(L,"getProperty",{enumerable:!0,get:function(){return Ft.getProperty}});Object.defineProperty(L,"stringify",{enumerable:!0,get:function(){return Ft.stringify}});Object.defineProperty(L,"regexpCode",{enumerable:!0,get:function(){return Ft.regexpCode}});Object.defineProperty(L,"Name",{enumerable:!0,get:function(){return Ft.Name}});var es=Qo();Object.defineProperty(L,"Scope",{enumerable:!0,get:function(){return es.Scope}});Object.defineProperty(L,"ValueScope",{enumerable:!0,get:function(){return es.ValueScope}});Object.defineProperty(L,"ValueScopeName",{enumerable:!0,get:function(){return es.ValueScopeName}});Object.defineProperty(L,"varKinds",{enumerable:!0,get:function(){return es.varKinds}});L.operators={GT:new U._Code(">"),GTE:new U._Code(">="),LT:new U._Code("<"),LTE:new U._Code("<="),EQ:new U._Code("==="),NEQ:new U._Code("!=="),NOT:new U._Code("!"),OR:new U._Code("||"),AND:new U._Code("&&"),ADD:new U._Code("+")};var yt=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Zo=class extends yt{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?rt.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=lr(this.rhs,e,r)),this}get names(){return this.rhs instanceof U._CodeOrName?this.rhs.names:{}}},Yn=class extends yt{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof U.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=lr(this.rhs,e,r),this}get names(){let e=this.lhs instanceof U.Name?{}:{...this.lhs.names};return Zn(e,this.rhs)}},ei=class extends Yn{constructor(e,r,n,s){super(e,n,s),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},ti=class extends yt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},ri=class extends yt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},ni=class extends yt{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},si=class extends yt{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=lr(this.code,e,r),this}get names(){return this.code instanceof U._CodeOrName?this.code.names:{}}},Xr=class extends yt{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,s=n.length;for(;s--;){let o=n[s];o.optimizeNames(e,r)||(sD(e,o.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>Kt(e,r.names),{})}},Et=class extends Xr{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},oi=class extends Xr{},cr=class extends Et{};cr.kind="else";var Ht=class t extends Et{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new cr(n):n}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(nl(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=lr(this.condition,e,r),this}get names(){let e=super.names;return Zn(e,this.condition),this.else&&Kt(e,this.else.names),e}};Ht.kind="if";var Wt=class extends Et{};Wt.kind="for";var ii=class extends Wt{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=lr(this.iteration,e,r),this}get names(){return Kt(super.names,this.iteration.names)}},ai=class extends Wt{constructor(e,r,n,s){super(),this.varKind=e,this.name=r,this.from=n,this.to=s}render(e){let r=e.es5?rt.varKinds.var:this.varKind,{name:n,from:s,to:o}=this;return`for(${r} ${n}=${s}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){let e=Zn(super.names,this.from);return Zn(e,this.to)}},Qn=class extends Wt{constructor(e,r,n,s){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=lr(this.iterable,e,r),this}get names(){return Kt(super.names,this.iterable.names)}},Yr=class extends Et{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Yr.kind="func";var Qr=class extends Xr{render(e){return"return "+super.render(e)}};Qr.kind="return";var ui=class extends Et{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,s;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&Kt(e,this.catch.names),this.finally&&Kt(e,this.finally.names),e}},Zr=class extends Et{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Zr.kind="catch";var en=class extends Et{render(e){return"finally"+super.render(e)}};en.kind="finally";var ci=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new rt.Scope({parent:e}),this._nodes=[new oi]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,s){let o=this._scope.toName(r);return n!==void 0&&s&&(this._constants[o.str]=n),this._leafNode(new Zo(e,o,n)),o}const(e,r,n){return this._def(rt.varKinds.const,e,r,n)}let(e,r,n){return this._def(rt.varKinds.let,e,r,n)}var(e,r,n){return this._def(rt.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new Yn(e,r,n))}add(e,r){return this._leafNode(new ei(e,L.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==U.nil&&this._leafNode(new si(e)),this}object(...e){let r=["{"];for(let[n,s]of e)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),(0,U.addCodeArg)(r,s));return r.push("}"),new U._Code(r)}if(e,r,n){if(this._blockNode(new Ht(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ht(e))}else(){return this._elseNode(new cr)}endIf(){return this._endBlockNode(Ht,cr)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new ii(e),r)}forRange(e,r,n,s,o=this.opts.es5?rt.varKinds.var:rt.varKinds.let){let i=this._scope.toName(e);return this._for(new ai(o,i,r,n),()=>s(i))}forOf(e,r,n,s=rt.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let i=r instanceof U.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,U._)`${i}.length`,a=>{this.var(o,(0,U._)`${i}[${a}]`),n(o)})}return this._for(new Qn("of",s,o,r),()=>n(o))}forIn(e,r,n,s=this.opts.es5?rt.varKinds.var:rt.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,U._)`Object.keys(${r})`,n);let o=this._scope.toName(e);return this._for(new Qn("in",s,o,r),()=>n(o))}endFor(){return this._endBlockNode(Wt)}label(e){return this._leafNode(new ti(e))}break(e){return this._leafNode(new ri(e))}return(e){let r=new Qr;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Qr)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new ui;if(this._blockNode(s),this.code(e),r){let o=this.name("e");this._currNode=s.catch=new Zr(o),r(o)}return n&&(this._currNode=s.finally=new en,this.code(n)),this._endBlockNode(Zr,en)}throw(e){return this._leafNode(new ni(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=U.nil,n,s){return this._blockNode(new Yr(e,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Yr)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ht))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};L.CodeGen=ci;function Kt(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Zn(t,e){return e instanceof U._CodeOrName?Kt(t,e.names):t}function lr(t,e,r){if(t instanceof U.Name)return n(t);if(!s(t))return t;return new U._Code(t._items.reduce((o,i)=>(i instanceof U.Name&&(i=n(i)),i instanceof U._Code?o.push(...i._items):o.push(i),o),[]));function n(o){let i=r[o.str];return i===void 0||e[o.str]!==1?o:(delete e[o.str],i)}function s(o){return o instanceof U._Code&&o._items.some(i=>i instanceof U.Name&&e[i.str]===1&&r[i.str]!==void 0)}}function sD(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function nl(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,U._)`!${li(t)}`}L.not=nl;var oD=sl(L.operators.AND);function iD(...t){return t.reduce(oD)}L.and=iD;var aD=sl(L.operators.OR);function uD(...t){return t.reduce(aD)}L.or=uD;function sl(t){return(e,r)=>e===U.nil?r:r===U.nil?e:(0,U._)`${li(e)} ${t} ${li(r)}`}function li(t){return t instanceof U.Name?t:(0,U._)`(${t})`}});var V=h(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.checkStrictMode=M.getErrorPath=M.Type=M.useFunc=M.setEvaluated=M.evaluatedPropsToName=M.mergeEvaluated=M.eachItem=M.unescapeJsonPointer=M.escapeJsonPointer=M.escapeFragment=M.unescapeFragment=M.schemaRefOrVal=M.schemaHasRulesButRef=M.schemaHasRules=M.checkUnknownRules=M.alwaysValidSchema=M.toHash=void 0;var Q=q(),cD=Jr();function lD(t){let e={};for(let r of t)e[r]=!0;return e}M.toHash=lD;function dD(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(al(t,e),!ul(e,t.self.RULES.all))}M.alwaysValidSchema=dD;function al(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let o in e)s[o]||dl(t,`unknown keyword: "${o}"`)}M.checkUnknownRules=al;function ul(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}M.schemaHasRules=ul;function fD(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}M.schemaHasRulesButRef=fD;function pD({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Q._)`${r}`}return(0,Q._)`${t}${e}${(0,Q.getProperty)(n)}`}M.schemaRefOrVal=pD;function mD(t){return cl(decodeURIComponent(t))}M.unescapeFragment=mD;function hD(t){return encodeURIComponent(fi(t))}M.escapeFragment=hD;function fi(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}M.escapeJsonPointer=fi;function cl(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}M.unescapeJsonPointer=cl;function gD(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}M.eachItem=gD;function ol({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,o,i,a)=>{let u=i===void 0?o:i instanceof Q.Name?(o instanceof Q.Name?t(s,o,i):e(s,o,i),i):o instanceof Q.Name?(e(s,i,o),o):r(o,i);return a===Q.Name&&!(u instanceof Q.Name)?n(s,u):u}}M.mergeEvaluated={props:ol({mergeNames:(t,e,r)=>t.if((0,Q._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Q._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Q._)`${r} || {}`).code((0,Q._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Q._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Q._)`${r} || {}`),pi(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:ll}),items:ol({mergeNames:(t,e,r)=>t.if((0,Q._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Q._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Q._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Q._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function ll(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Q._)`{}`);return e!==void 0&&pi(t,r,e),r}M.evaluatedPropsToName=ll;function pi(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Q._)`${e}${(0,Q.getProperty)(n)}`,!0))}M.setEvaluated=pi;var il={};function DD(t,e){return t.scopeValue("func",{ref:e,code:il[e.code]||(il[e.code]=new cD._Code(e.code))})}M.useFunc=DD;var di;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(di||(M.Type=di={}));function yD(t,e,r){if(t instanceof Q.Name){let n=e===di.Num;return r?n?(0,Q._)`"[" + ${t} + "]"`:(0,Q._)`"['" + ${t} + "']"`:n?(0,Q._)`"/" + ${t}`:(0,Q._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Q.getProperty)(t).toString():"/"+fi(t)}M.getErrorPath=yD;function dl(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}M.checkStrictMode=dl});var vt=h(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});var $e=q(),ED={data:new $e.Name("data"),valCxt:new $e.Name("valCxt"),instancePath:new $e.Name("instancePath"),parentData:new $e.Name("parentData"),parentDataProperty:new $e.Name("parentDataProperty"),rootData:new $e.Name("rootData"),dynamicAnchors:new $e.Name("dynamicAnchors"),vErrors:new $e.Name("vErrors"),errors:new $e.Name("errors"),this:new $e.Name("this"),self:new $e.Name("self"),scope:new $e.Name("scope"),json:new $e.Name("json"),jsonPos:new $e.Name("jsonPos"),jsonLen:new $e.Name("jsonLen"),jsonPart:new $e.Name("jsonPart")};mi.default=ED});var tn=h(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.extendErrors=be.resetErrorsCount=be.reportExtraError=be.reportError=be.keyword$DataError=be.keywordError=void 0;var G=q(),ts=V(),Fe=vt();be.keywordError={message:({keyword:t})=>(0,G.str)`must pass "${t}" keyword validation`};be.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,G.str)`"${t}" keyword must be ${e} ($data)`:(0,G.str)`"${t}" keyword is invalid ($data)`};function vD(t,e=be.keywordError,r,n){let{it:s}=t,{gen:o,compositeRule:i,allErrors:a}=s,u=ml(t,e,r);n??(i||a)?fl(o,u):pl(s,(0,G._)`[${u}]`)}be.reportError=vD;function $D(t,e=be.keywordError,r){let{it:n}=t,{gen:s,compositeRule:o,allErrors:i}=n,a=ml(t,e,r);fl(s,a),o||i||pl(n,Fe.default.vErrors)}be.reportExtraError=$D;function bD(t,e){t.assign(Fe.default.errors,e),t.if((0,G._)`${Fe.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,G._)`${Fe.default.vErrors}.length`,e),()=>t.assign(Fe.default.vErrors,null)))}be.resetErrorsCount=bD;function wD({gen:t,keyword:e,schemaValue:r,data:n,errsCount:s,it:o}){if(s===void 0)throw new Error("ajv implementation error");let i=t.name("err");t.forRange("i",s,Fe.default.errors,a=>{t.const(i,(0,G._)`${Fe.default.vErrors}[${a}]`),t.if((0,G._)`${i}.instancePath === undefined`,()=>t.assign((0,G._)`${i}.instancePath`,(0,G.strConcat)(Fe.default.instancePath,o.errorPath))),t.assign((0,G._)`${i}.schemaPath`,(0,G.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(t.assign((0,G._)`${i}.schema`,r),t.assign((0,G._)`${i}.data`,n))})}be.extendErrors=wD;function fl(t,e){let r=t.const("err",e);t.if((0,G._)`${Fe.default.vErrors} === null`,()=>t.assign(Fe.default.vErrors,(0,G._)`[${r}]`),(0,G._)`${Fe.default.vErrors}.push(${r})`),t.code((0,G._)`${Fe.default.errors}++`)}function pl(t,e){let{gen:r,validateName:n,schemaEnv:s}=t;s.$async?r.throw((0,G._)`new ${t.ValidationError}(${e})`):(r.assign((0,G._)`${n}.errors`,e),r.return(!1))}var Jt={keyword:new G.Name("keyword"),schemaPath:new G.Name("schemaPath"),params:new G.Name("params"),propertyName:new G.Name("propertyName"),message:new G.Name("message"),schema:new G.Name("schema"),parentSchema:new G.Name("parentSchema")};function ml(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,G._)`{}`:_D(t,e,r)}function _D(t,e,r={}){let{gen:n,it:s}=t,o=[CD(s,r),SD(t,r)];return OD(t,e,o),n.object(...o)}function CD({errorPath:t},{instancePath:e}){let r=e?(0,G.str)`${t}${(0,ts.getErrorPath)(e,ts.Type.Str)}`:t;return[Fe.default.instancePath,(0,G.strConcat)(Fe.default.instancePath,r)]}function SD({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let s=n?e:(0,G.str)`${e}/${t}`;return r&&(s=(0,G.str)`${s}${(0,ts.getErrorPath)(r,ts.Type.Str)}`),[Jt.schemaPath,s]}function OD(t,{params:e,message:r},n){let{keyword:s,data:o,schemaValue:i,it:a}=t,{opts:u,propertyName:c,topSchemaRef:l,schemaPath:d}=a;n.push([Jt.keyword,s],[Jt.params,typeof e=="function"?e(t):e||(0,G._)`{}`]),u.messages&&n.push([Jt.message,typeof r=="function"?r(t):r]),u.verbose&&n.push([Jt.schema,i],[Jt.parentSchema,(0,G._)`${l}${d}`],[Fe.default.data,o]),c&&n.push([Jt.propertyName,c])}});var gl=h(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.boolOrEmptySchema=dr.topBoolOrEmptySchema=void 0;var ID=tn(),AD=q(),FD=vt(),xD={message:"boolean schema is false"};function PD(t){let{gen:e,schema:r,validateName:n}=t;r===!1?hl(t,!1):typeof r=="object"&&r.$async===!0?e.return(FD.default.data):(e.assign((0,AD._)`${n}.errors`,null),e.return(!0))}dr.topBoolOrEmptySchema=PD;function TD(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),hl(t)):r.var(e,!0)}dr.boolOrEmptySchema=TD;function hl(t,e){let{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,ID.reportError)(s,xD,void 0,e)}});var hi=h(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.getRules=fr.isJSONType=void 0;var jD=["string","number","integer","boolean","null","object","array"],RD=new Set(jD);function kD(t){return typeof t=="string"&&RD.has(t)}fr.isJSONType=kD;function ND(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}fr.getRules=ND});var gi=h(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.shouldUseRule=xt.shouldUseGroup=xt.schemaHasRulesForType=void 0;function qD({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&Dl(t,n)}xt.schemaHasRulesForType=qD;function Dl(t,e){return e.rules.some(r=>yl(t,r))}xt.shouldUseGroup=Dl;function yl(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}xt.shouldUseRule=yl});var rn=h(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.reportTypeError=we.checkDataTypes=we.checkDataType=we.coerceAndCheckDataType=we.getJSONTypes=we.getSchemaTypes=we.DataType=void 0;var LD=hi(),MD=gi(),BD=tn(),N=q(),El=V(),pr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(pr||(we.DataType=pr={}));function UD(t){let e=vl(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}we.getSchemaTypes=UD;function vl(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(LD.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}we.getJSONTypes=vl;function VD(t,e){let{gen:r,data:n,opts:s}=t,o=GD(e,s.coerceTypes),i=e.length>0&&!(o.length===0&&e.length===1&&(0,MD.schemaHasRulesForType)(t,e[0]));if(i){let a=yi(e,n,s.strictNumbers,pr.Wrong);r.if(a,()=>{o.length?zD(t,e,o):Ei(t)})}return i}we.coerceAndCheckDataType=VD;var $l=new Set(["string","number","integer","boolean","null"]);function GD(t,e){return e?t.filter(r=>$l.has(r)||e==="array"&&r==="array"):[]}function zD(t,e,r){let{gen:n,data:s,opts:o}=t,i=n.let("dataType",(0,N._)`typeof ${s}`),a=n.let("coerced",(0,N._)`undefined`);o.coerceTypes==="array"&&n.if((0,N._)`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,N._)`${s}[0]`).assign(i,(0,N._)`typeof ${s}`).if(yi(e,s,o.strictNumbers),()=>n.assign(a,s))),n.if((0,N._)`${a} !== undefined`);for(let c of r)($l.has(c)||c==="array"&&o.coerceTypes==="array")&&u(c);n.else(),Ei(t),n.endIf(),n.if((0,N._)`${a} !== undefined`,()=>{n.assign(s,a),HD(t,a)});function u(c){switch(c){case"string":n.elseIf((0,N._)`${i} == "number" || ${i} == "boolean"`).assign(a,(0,N._)`"" + ${s}`).elseIf((0,N._)`${s} === null`).assign(a,(0,N._)`""`);return;case"number":n.elseIf((0,N._)`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(a,(0,N._)`+${s}`);return;case"integer":n.elseIf((0,N._)`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(a,(0,N._)`+${s}`);return;case"boolean":n.elseIf((0,N._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(a,!1).elseIf((0,N._)`${s} === "true" || ${s} === 1`).assign(a,!0);return;case"null":n.elseIf((0,N._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(a,null);return;case"array":n.elseIf((0,N._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(a,(0,N._)`[${s}]`)}}}function HD({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,N._)`${e} !== undefined`,()=>t.assign((0,N._)`${e}[${r}]`,n))}function Di(t,e,r,n=pr.Correct){let s=n===pr.Correct?N.operators.EQ:N.operators.NEQ,o;switch(t){case"null":return(0,N._)`${e} ${s} null`;case"array":o=(0,N._)`Array.isArray(${e})`;break;case"object":o=(0,N._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=i((0,N._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=i();break;default:return(0,N._)`typeof ${e} ${s} ${t}`}return n===pr.Correct?o:(0,N.not)(o);function i(a=N.nil){return(0,N.and)((0,N._)`typeof ${e} == "number"`,a,r?(0,N._)`isFinite(${e})`:N.nil)}}we.checkDataType=Di;function yi(t,e,r,n){if(t.length===1)return Di(t[0],e,r,n);let s,o=(0,El.toHash)(t);if(o.array&&o.object){let i=(0,N._)`typeof ${e} != "object"`;s=o.null?i:(0,N._)`!${e} || ${i}`,delete o.null,delete o.array,delete o.object}else s=N.nil;o.number&&delete o.integer;for(let i in o)s=(0,N.and)(s,Di(i,e,r,n));return s}we.checkDataTypes=yi;var WD={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,N._)`{type: ${t}}`:(0,N._)`{type: ${e}}`};function Ei(t){let e=KD(t);(0,BD.reportError)(e,WD)}we.reportTypeError=Ei;function KD(t){let{gen:e,data:r,schema:n}=t,s=(0,El.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}});var wl=h(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.assignDefaults=void 0;var mr=q(),JD=V();function XD(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let s in r)bl(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,o)=>bl(t,o,s.default))}rs.assignDefaults=XD;function bl(t,e,r){let{gen:n,compositeRule:s,data:o,opts:i}=t;if(r===void 0)return;let a=(0,mr._)`${o}${(0,mr.getProperty)(e)}`;if(s){(0,JD.checkStrictMode)(t,`default is ignored for: ${a}`);return}let u=(0,mr._)`${a} === undefined`;i.useDefaults==="empty"&&(u=(0,mr._)`${u} || ${a} === null || ${a} === ""`),n.if(u,(0,mr._)`${a} = ${(0,mr.stringify)(r)}`)}});var Ke=h(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;var te=q(),vi=V(),Pt=vt(),YD=V();function QD(t,e){let{gen:r,data:n,it:s}=t;r.if(bi(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,te._)`${e}`},!0),t.error()})}Y.checkReportMissingProp=QD;function ZD({gen:t,data:e,it:{opts:r}},n,s){return(0,te.or)(...n.map(o=>(0,te.and)(bi(t,e,o,r.ownProperties),(0,te._)`${s} = ${o}`)))}Y.checkMissingProp=ZD;function ey(t,e){t.setParams({missingProperty:e},!0),t.error()}Y.reportMissingProp=ey;function _l(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,te._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=_l;function $i(t,e,r){return(0,te._)`${_l(t)}.call(${e}, ${r})`}Y.isOwnProperty=$i;function ty(t,e,r,n){let s=(0,te._)`${e}${(0,te.getProperty)(r)} !== undefined`;return n?(0,te._)`${s} && ${$i(t,e,r)}`:s}Y.propertyInData=ty;function bi(t,e,r,n){let s=(0,te._)`${e}${(0,te.getProperty)(r)} === undefined`;return n?(0,te.or)(s,(0,te.not)($i(t,e,r))):s}Y.noPropertyInData=bi;function Cl(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Y.allSchemaProperties=Cl;function ry(t,e){return Cl(e).filter(r=>!(0,vi.alwaysValidSchema)(t,e[r]))}Y.schemaProperties=ry;function ny({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:o},it:i},a,u,c){let l=c?(0,te._)`${t}, ${e}, ${n}${s}`:e,d=[[Pt.default.instancePath,(0,te.strConcat)(Pt.default.instancePath,o)],[Pt.default.parentData,i.parentData],[Pt.default.parentDataProperty,i.parentDataProperty],[Pt.default.rootData,Pt.default.rootData]];i.opts.dynamicRef&&d.push([Pt.default.dynamicAnchors,Pt.default.dynamicAnchors]);let p=(0,te._)`${l}, ${r.object(...d)}`;return u!==te.nil?(0,te._)`${a}.call(${u}, ${p})`:(0,te._)`${a}(${p})`}Y.callValidateCode=ny;var sy=(0,te._)`new RegExp`;function oy({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,o=s(r,n);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,te._)`${s.code==="new RegExp"?sy:(0,YD.useFunc)(t,s)}(${r}, ${n})`})}Y.usePattern=oy;function iy(t){let{gen:e,data:r,keyword:n,it:s}=t,o=e.name("valid");if(s.allErrors){let a=e.let("valid",!0);return i(()=>e.assign(a,!1)),a}return e.var(o,!0),i(()=>e.break()),o;function i(a){let u=e.const("len",(0,te._)`${r}.length`);e.forRange("i",0,u,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:vi.Type.Num},o),e.if((0,te.not)(o),a)})}}Y.validateArray=iy;function ay(t){let{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,vi.alwaysValidSchema)(s,u))&&!s.opts.unevaluated)return;let i=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((u,c)=>{let l=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);e.assign(i,(0,te._)`${i} || ${a}`),t.mergeValidEvaluated(l,a)||e.if((0,te.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}Y.validateUnion=ay});var Il=h(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.validateKeywordUsage=ct.validSchemaType=ct.funcKeywordCode=ct.macroKeywordCode=void 0;var xe=q(),Xt=vt(),uy=Ke(),cy=tn();function ly(t,e){let{gen:r,keyword:n,schema:s,parentSchema:o,it:i}=t,a=e.macro.call(i.self,s,o,i),u=Ol(r,n,a);i.opts.validateSchema!==!1&&i.self.validateSchema(a,!0);let c=r.name("valid");t.subschema({schema:a,schemaPath:xe.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}ct.macroKeywordCode=ly;function dy(t,e){var r;let{gen:n,keyword:s,schema:o,parentSchema:i,$data:a,it:u}=t;py(u,e);let c=!a&&e.compile?e.compile.call(u.self,o,i,u):e.validate,l=Ol(n,s,c),d=n.let("valid");t.block$data(d,p),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function p(){if(e.errors===!1)g(),e.modifying&&Sl(t),D(()=>t.error());else{let y=e.async?f():m();e.modifying&&Sl(t),D(()=>fy(t,y))}}function f(){let y=n.let("ruleErrs",null);return n.try(()=>g((0,xe._)`await `),v=>n.assign(d,!1).if((0,xe._)`${v} instanceof ${u.ValidationError}`,()=>n.assign(y,(0,xe._)`${v}.errors`),()=>n.throw(v))),y}function m(){let y=(0,xe._)`${l}.errors`;return n.assign(y,null),g(xe.nil),y}function g(y=e.async?(0,xe._)`await `:xe.nil){let v=u.opts.passContext?Xt.default.this:Xt.default.self,C=!("compile"in e&&!a||e.schema===!1);n.assign(d,(0,xe._)`${y}${(0,uy.callValidateCode)(t,l,v,C)}`,e.modifying)}function D(y){var v;n.if((0,xe.not)((v=e.valid)!==null&&v!==void 0?v:d),y)}}ct.funcKeywordCode=dy;function Sl(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,xe._)`${n.parentData}[${n.parentDataProperty}]`))}function fy(t,e){let{gen:r}=t;r.if((0,xe._)`Array.isArray(${e})`,()=>{r.assign(Xt.default.vErrors,(0,xe._)`${Xt.default.vErrors} === null ? ${e} : ${Xt.default.vErrors}.concat(${e})`).assign(Xt.default.errors,(0,xe._)`${Xt.default.vErrors}.length`),(0,cy.extendErrors)(t)},()=>t.error())}function py({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Ol(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,xe.stringify)(r)})}function my(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}ct.validSchemaType=my;function hy({schema:t,opts:e,self:r,errSchemaPath:n},s,o){if(Array.isArray(s.keyword)?!s.keyword.includes(o):s.keyword!==o)throw new Error("ajv implementation error");let i=s.dependencies;if(i?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${o}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[o])){let u=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}ct.validateKeywordUsage=hy});var Fl=h(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.extendSubschemaMode=Tt.extendSubschemaData=Tt.getSubschema=void 0;var lt=q(),Al=V();function gy(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:o,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,lt._)`${t.schemaPath}${(0,lt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,lt._)`${t.schemaPath}${(0,lt.getProperty)(e)}${(0,lt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Al.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||o===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Tt.getSubschema=gy;function Dy(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:o,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:c,dataPathArr:l,opts:d}=e,p=a.let("data",(0,lt._)`${e.data}${(0,lt.getProperty)(r)}`,!0);u(p),t.errorPath=(0,lt.str)`${c}${(0,Al.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,lt._)`${r}`,t.dataPathArr=[...l,t.parentDataProperty]}if(s!==void 0){let c=s instanceof lt.Name?s:a.let("data",s,!0);u(c),i!==void 0&&(t.propertyName=i)}o&&(t.dataTypes=o);function u(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Tt.extendSubschemaData=Dy;function yy(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:o}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}Tt.extendSubschemaMode=yy});var wi=h((z2,xl)=>{"use strict";xl.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var i=o[s];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}});var Tl=h((H2,Pl)=>{"use strict";var jt=Pl.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};ns(e,n,s,t,"",t)};jt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};jt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};jt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};jt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ns(t,e,r,n,s,o,i,a,u,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,o,i,a,u,c);for(var l in n){var d=n[l];if(Array.isArray(d)){if(l in jt.arrayKeywords)for(var p=0;p<d.length;p++)ns(t,e,r,d[p],s+"/"+l+"/"+p,o,s,l,n,p)}else if(l in jt.propsKeywords){if(d&&typeof d=="object")for(var f in d)ns(t,e,r,d[f],s+"/"+l+"/"+Ey(f),o,s,l,n,f)}else(l in jt.keywords||t.allKeys&&!(l in jt.skipKeywords))&&ns(t,e,r,d,s+"/"+l,o,s,l,n)}r(n,s,o,i,a,u,c)}}function Ey(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var nn=h(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.getSchemaRefs=Me.resolveUrl=Me.normalizeId=Me._getFullPath=Me.getFullPath=Me.inlineRef=void 0;var vy=V(),$y=wi(),by=Tl(),wy=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function _y(t,e=!0){return typeof t=="boolean"?!0:e===!0?!_i(t):e?jl(t)<=e:!1}Me.inlineRef=_y;var Cy=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function _i(t){for(let e in t){if(Cy.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(_i)||typeof r=="object"&&_i(r))return!0}return!1}function jl(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!wy.has(r)&&(typeof t[r]=="object"&&(0,vy.eachItem)(t[r],n=>e+=jl(n)),e===1/0))return 1/0}return e}function Rl(t,e="",r){r!==!1&&(e=hr(e));let n=t.parse(e);return kl(t,n)}Me.getFullPath=Rl;function kl(t,e){return t.serialize(e).split("#")[0]+"#"}Me._getFullPath=kl;var Sy=/#\/?$/;function hr(t){return t?t.replace(Sy,""):""}Me.normalizeId=hr;function Oy(t,e,r){return r=hr(r),t.resolve(e,r)}Me.resolveUrl=Oy;var Iy=/^[a-z_][-a-z0-9._]*$/i;function Ay(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,s=hr(t[r]||e),o={"":s},i=Rl(n,s,!1),a={},u=new Set;return by(t,{allKeys:!0},(d,p,f,m)=>{if(m===void 0)return;let g=i+p,D=o[m];typeof d[r]=="string"&&(D=y.call(this,d[r])),v.call(this,d.$anchor),v.call(this,d.$dynamicAnchor),o[p]=D;function y(C){let R=this.opts.uriResolver.resolve;if(C=hr(D?R(D,C):C),u.has(C))throw l(C);u.add(C);let O=this.refs[C];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?c(d,O.schema,C):C!==hr(g)&&(C[0]==="#"?(c(d,a[C],C),a[C]=d):this.refs[C]=g),C}function v(C){if(typeof C=="string"){if(!Iy.test(C))throw new Error(`invalid anchor "${C}"`);y.call(this,`#${C}`)}}}),a;function c(d,p,f){if(p!==void 0&&!$y(d,p))throw l(f)}function l(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Me.getSchemaRefs=Ay});var an=h(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getData=Rt.KeywordCxt=Rt.validateFunctionCode=void 0;var Bl=gl(),Nl=rn(),Si=gi(),ss=rn(),Fy=wl(),on=Il(),Ci=Fl(),S=q(),x=vt(),xy=nn(),$t=V(),sn=tn();function Py(t){if(Gl(t)&&(zl(t),Vl(t))){Ry(t);return}Ul(t,()=>(0,Bl.topBoolOrEmptySchema)(t))}Rt.validateFunctionCode=Py;function Ul({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},o){s.code.es5?t.func(e,(0,S._)`${x.default.data}, ${x.default.valCxt}`,n.$async,()=>{t.code((0,S._)`"use strict"; ${ql(r,s)}`),jy(t,s),t.code(o)}):t.func(e,(0,S._)`${x.default.data}, ${Ty(s)}`,n.$async,()=>t.code(ql(r,s)).code(o))}function Ty(t){return(0,S._)`{${x.default.instancePath}="", ${x.default.parentData}, ${x.default.parentDataProperty}, ${x.default.rootData}=${x.default.data}${t.dynamicRef?(0,S._)`, ${x.default.dynamicAnchors}={}`:S.nil}}={}`}function jy(t,e){t.if(x.default.valCxt,()=>{t.var(x.default.instancePath,(0,S._)`${x.default.valCxt}.${x.default.instancePath}`),t.var(x.default.parentData,(0,S._)`${x.default.valCxt}.${x.default.parentData}`),t.var(x.default.parentDataProperty,(0,S._)`${x.default.valCxt}.${x.default.parentDataProperty}`),t.var(x.default.rootData,(0,S._)`${x.default.valCxt}.${x.default.rootData}`),e.dynamicRef&&t.var(x.default.dynamicAnchors,(0,S._)`${x.default.valCxt}.${x.default.dynamicAnchors}`)},()=>{t.var(x.default.instancePath,(0,S._)`""`),t.var(x.default.parentData,(0,S._)`undefined`),t.var(x.default.parentDataProperty,(0,S._)`undefined`),t.var(x.default.rootData,x.default.data),e.dynamicRef&&t.var(x.default.dynamicAnchors,(0,S._)`{}`)})}function Ry(t){let{schema:e,opts:r,gen:n}=t;Ul(t,()=>{r.$comment&&e.$comment&&Wl(t),My(t),n.let(x.default.vErrors,null),n.let(x.default.errors,0),r.unevaluated&&ky(t),Hl(t),Vy(t)})}function ky(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,S._)`${r}.evaluated`),e.if((0,S._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,S._)`${t.evaluated}.props`,(0,S._)`undefined`)),e.if((0,S._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,S._)`${t.evaluated}.items`,(0,S._)`undefined`))}function ql(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,S._)`/*# sourceURL=${r} */`:S.nil}function Ny(t,e){if(Gl(t)&&(zl(t),Vl(t))){qy(t,e);return}(0,Bl.boolOrEmptySchema)(t,e)}function Vl({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Gl(t){return typeof t.schema!="boolean"}function qy(t,e){let{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Wl(t),By(t),Uy(t);let o=n.const("_errs",x.default.errors);Hl(t,o),n.var(e,(0,S._)`${o} === ${x.default.errors}`)}function zl(t){(0,$t.checkUnknownRules)(t),Ly(t)}function Hl(t,e){if(t.opts.jtd)return Ll(t,[],!1,e);let r=(0,Nl.getSchemaTypes)(t.schema),n=(0,Nl.coerceAndCheckDataType)(t,r);Ll(t,r,!n,e)}function Ly(t){let{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,$t.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function My(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,$t.checkStrictMode)(t,"default is ignored in the schema root")}function By(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,xy.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Uy(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Wl({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){let o=r.$comment;if(s.$comment===!0)t.code((0,S._)`${x.default.self}.logger.log(${o})`);else if(typeof s.$comment=="function"){let i=(0,S.str)`${n}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,S._)`${x.default.self}.opts.$comment(${o}, ${i}, ${a}.schema)`)}}function Vy(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:o}=t;r.$async?e.if((0,S._)`${x.default.errors} === 0`,()=>e.return(x.default.data),()=>e.throw((0,S._)`new ${s}(${x.default.vErrors})`)):(e.assign((0,S._)`${n}.errors`,x.default.vErrors),o.unevaluated&&Gy(t),e.return((0,S._)`${x.default.errors} === 0`))}function Gy({gen:t,evaluated:e,props:r,items:n}){r instanceof S.Name&&t.assign((0,S._)`${e}.props`,r),n instanceof S.Name&&t.assign((0,S._)`${e}.items`,n)}function Ll(t,e,r,n){let{gen:s,schema:o,data:i,allErrors:a,opts:u,self:c}=t,{RULES:l}=c;if(o.$ref&&(u.ignoreKeywordsWithRef||!(0,$t.schemaHasRulesButRef)(o,l))){s.block(()=>Jl(t,"$ref",l.all.$ref.definition));return}u.jtd||zy(t,e),s.block(()=>{for(let p of l.rules)d(p);d(l.post)});function d(p){(0,Si.shouldUseGroup)(o,p)&&(p.type?(s.if((0,ss.checkDataType)(p.type,i,u.strictNumbers)),Ml(t,p),e.length===1&&e[0]===p.type&&r&&(s.else(),(0,ss.reportTypeError)(t)),s.endIf()):Ml(t,p),a||s.if((0,S._)`${x.default.errors} === ${n||0}`))}}function Ml(t,e){let{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&(0,Fy.assignDefaults)(t,e.type),r.block(()=>{for(let o of e.rules)(0,Si.shouldUseRule)(n,o)&&Jl(t,o.keyword,o.definition,e.type)})}function zy(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Hy(t,e),t.opts.allowUnionTypes||Wy(t,e),Ky(t,t.dataTypes))}function Hy(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Kl(t.dataTypes,r)||Oi(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),Xy(t,e)}}function Wy(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Oi(t,"use allowUnionTypes to allow union type keyword")}function Ky(t,e){let r=t.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&(0,Si.shouldUseRule)(t.schema,s)){let{type:o}=s.definition;o.length&&!o.some(i=>Jy(e,i))&&Oi(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Jy(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Kl(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Xy(t,e){let r=[];for(let n of t.dataTypes)Kl(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function Oi(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,$t.checkStrictMode)(t,e,t.opts.strictTypes)}var os=class{constructor(e,r,n){if((0,on.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,$t.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Xl(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,on.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",x.default.errors))}result(e,r,n){this.failResult((0,S.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,S.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,S._)`${r} !== undefined && (${(0,S.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?sn.reportExtraError:sn.reportError)(this,this.def.error,r)}$dataError(){(0,sn.reportError)(this,this.def.$dataError||sn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,sn.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=S.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=S.nil,r=S.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:o,def:i}=this;n.if((0,S.or)((0,S._)`${s} === undefined`,r)),e!==S.nil&&n.assign(e,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==S.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:s,it:o}=this;return(0,S.or)(i(),a());function i(){if(n.length){if(!(r instanceof S.Name))throw new Error("ajv implementation error");let u=Array.isArray(n)?n:[n];return(0,S._)`${(0,ss.checkDataTypes)(u,r,o.opts.strictNumbers,ss.DataType.Wrong)}`}return S.nil}function a(){if(s.validateSchema){let u=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,S._)`!${u}(${r})`}return S.nil}}subschema(e,r){let n=(0,Ci.getSubschema)(this.it,e);(0,Ci.extendSubschemaData)(n,this.it,e),(0,Ci.extendSubschemaMode)(n,e);let s={...this.it,...n,items:void 0,props:void 0};return Ny(s,r),s}mergeEvaluated(e,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=$t.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=$t.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,S.Name)),!0}};Rt.KeywordCxt=os;function Jl(t,e,r,n){let s=new os(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?(0,on.funcKeywordCode)(s,r):"macro"in r?(0,on.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,on.funcKeywordCode)(s,r)}var Yy=/^\/(?:[^~]|~0|~1)*$/,Qy=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xl(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,o;if(t==="")return x.default.rootData;if(t[0]==="/"){if(!Yy.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,o=x.default.rootData}else{let c=Qy.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let l=+c[1];if(s=c[2],s==="#"){if(l>=e)throw new Error(u("property/index",l));return n[e-l]}if(l>e)throw new Error(u("data",l));if(o=r[e-l],!s)return o}let i=o,a=s.split("/");for(let c of a)c&&(o=(0,S._)`${o}${(0,S.getProperty)((0,$t.unescapeJsonPointer)(c))}`,i=(0,S._)`${i} && ${o}`);return i;function u(c,l){return`Cannot access ${c} ${l} levels up, current level is ${e}`}}Rt.getData=Xl});var is=h(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});var Ii=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};Ai.default=Ii});var un=h(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});var Fi=nn(),xi=class extends Error{constructor(e,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Fi.resolveUrl)(e,r,n),this.missingSchema=(0,Fi.normalizeId)((0,Fi.getFullPath)(e,this.missingRef))}};Pi.default=xi});var us=h(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.resolveSchema=Je.getCompilingSchema=Je.resolveRef=Je.compileSchema=Je.SchemaEnv=void 0;var nt=q(),Zy=is(),Yt=vt(),st=nn(),Yl=V(),eE=an(),gr=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,st.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}};Je.SchemaEnv=gr;function ji(t){let e=Ql.call(this,t);if(e)return e;let r=(0,st.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:o}=this.opts,i=new nt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:o}),a;t.$async&&(a=i.scopeValue("Error",{ref:Zy.default,code:(0,nt._)`require("ajv/dist/runtime/validation_error").default`}));let u=i.scopeName("validate");t.validateName=u;let c={gen:i,allErrors:this.opts.allErrors,data:Yt.default.data,parentData:Yt.default.parentData,parentDataProperty:Yt.default.parentDataProperty,dataNames:[Yt.default.data],dataPathArr:[nt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,nt.stringify)(t.schema)}:{ref:t.schema}),validateName:u,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:nt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,nt._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(t),(0,eE.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);let d=i.toString();l=`${i.scopeRefs(Yt.default.scope)}return ${d}`,this.opts.code.process&&(l=this.opts.code.process(l,t));let f=new Function(`${Yt.default.self}`,`${Yt.default.scope}`,l)(this,this.scope.get());if(this.scope.value(u,{ref:f}),f.errors=null,f.schema=t.schema,f.schemaEnv=t,t.$async&&(f.$async=!0),this.opts.code.source===!0&&(f.source={validateName:u,validateCode:d,scopeValues:i._values}),this.opts.unevaluated){let{props:m,items:g}=c;f.evaluated={props:m instanceof nt.Name?void 0:m,items:g instanceof nt.Name?void 0:g,dynamicProps:m instanceof nt.Name,dynamicItems:g instanceof nt.Name},f.source&&(f.source.evaluated=(0,nt.stringify)(f.evaluated))}return t.validate=f,t}catch(d){throw delete t.validate,delete t.validateName,l&&this.logger.error("Error compiling schema, function code:",l),d}finally{this._compilations.delete(t)}}Je.compileSchema=ji;function tE(t,e,r){var n;r=(0,st.resolveUrl)(this.opts.uriResolver,e,r);let s=t.refs[r];if(s)return s;let o=sE.call(this,t,r);if(o===void 0){let i=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;i&&(o=new gr({schema:i,schemaId:a,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=rE.call(this,o)}Je.resolveRef=tE;function rE(t){return(0,st.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ji.call(this,t)}function Ql(t){for(let e of this._compilations)if(nE(e,t))return e}Je.getCompilingSchema=Ql;function nE(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function sE(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||as.call(this,t,e)}function as(t,e){let r=this.opts.uriResolver.parse(e),n=(0,st._getFullPath)(this.opts.uriResolver,r),s=(0,st.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===s)return Ti.call(this,r,t);let o=(0,st.normalizeId)(n),i=this.refs[o]||this.schemas[o];if(typeof i=="string"){let a=as.call(this,t,i);return typeof a?.schema!="object"?void 0:Ti.call(this,r,a)}if(typeof i?.schema=="object"){if(i.validate||ji.call(this,i),o===(0,st.normalizeId)(e)){let{schema:a}=i,{schemaId:u}=this.opts,c=a[u];return c&&(s=(0,st.resolveUrl)(this.opts.uriResolver,s,c)),new gr({schema:a,schemaId:u,root:t,baseId:s})}return Ti.call(this,r,i)}}Je.resolveSchema=as;var oE=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ti(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,Yl.unescapeFragment)(a)];if(u===void 0)return;r=u;let c=typeof r=="object"&&r[this.opts.schemaId];!oE.has(a)&&c&&(e=(0,st.resolveUrl)(this.opts.uriResolver,e,c))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Yl.schemaHasRulesButRef)(r,this.RULES)){let a=(0,st.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=as.call(this,n,a)}let{schemaId:i}=this.opts;if(o=o||new gr({schema:r,schemaId:i,root:n,baseId:e}),o.schema!==o.root.schema)return o}});var Zl=h((Q2,iE)=>{iE.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var ki=h((Z2,nd)=>{"use strict";var aE=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),td=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function Ri(t){let e="",r=0,n=0;for(n=0;n<t.length;n++)if(r=t[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n];break}for(n+=1;n<t.length;n++){if(r=t[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n]}return e}var uE=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function ed(t){return t.length=0,!0}function cE(t,e,r){if(t.length){let n=Ri(t);if(n!=="")e.push(n);else return r.error=!0,!1;t.length=0}return!0}function lE(t){let e=0,r={error:!1,address:"",zone:""},n=[],s=[],o=!1,i=!1,a=cE;for(let u=0;u<t.length;u++){let c=t[u];if(!(c==="["||c==="]"))if(c===":"){if(o===!0&&(i=!0),!a(s,n,r))break;if(++e>7){r.error=!0;break}u>0&&t[u-1]===":"&&(o=!0),n.push(":");continue}else if(c==="%"){if(!a(s,n,r))break;a=ed}else{s.push(c);continue}}return s.length&&(a===ed?r.zone=s.join(""):i?n.push(s.join("")):n.push(Ri(s))),r.address=n.join(""),r}function rd(t){if(dE(t,":")<2)return{host:t,isIPV6:!1};let e=lE(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,n=e.address;return e.zone&&(r+="%"+e.zone,n+="%25"+e.zone),{host:r,isIPV6:!0,escapedHost:n}}}function dE(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}function fE(t){let e=t,r=[],n=-1,s=0;for(;s=e.length;){if(s===1){if(e===".")break;if(e==="/"){r.push("/");break}else{r.push(e);break}}else if(s===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){r.push("/");break}}else if(s===3&&e==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),r.length!==0&&r.pop();continue}}if((n=e.indexOf("/",1))===-1){r.push(e);break}else r.push(e.slice(0,n)),e=e.slice(n)}return r.join("")}function pE(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function mE(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host);if(!td(r)){let n=rd(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}nd.exports={nonSimpleDomain:uE,recomposeAuthority:mE,normalizeComponentEncoding:pE,removeDotSegments:fE,isIPv4:td,isUUID:aE,normalizeIPv6:rd,stringArrayToHexStripped:Ri}});var ud=h((eO,ad)=>{"use strict";var{isUUID:hE}=ki(),gE=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,DE=["http","https","ws","wss","urn","urn:uuid"];function yE(t){return DE.indexOf(t)!==-1}function Ni(t){return t.secure===!0?!0:t.secure===!1?!1:t.scheme?t.scheme.length===3&&(t.scheme[0]==="w"||t.scheme[0]==="W")&&(t.scheme[1]==="s"||t.scheme[1]==="S")&&(t.scheme[2]==="s"||t.scheme[2]==="S"):!1}function sd(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function od(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function EE(t){return t.secure=Ni(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function vE(t){if((t.port===(Ni(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function $E(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(gE);if(r){let n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let s=`${n}:${e.nid||t.nid}`,o=qi(s);t.path=void 0,o&&(t=o.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function bE(t,e){if(t.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),s=`${r}:${e.nid||n}`,o=qi(s);o&&(t=o.serialize(t,e));let i=t,a=t.nss;return i.path=`${n||e.nid}:${a}`,e.skipEscape=!0,i}function wE(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!hE(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function _E(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var id={scheme:"http",domainHost:!0,parse:sd,serialize:od},CE={scheme:"https",domainHost:id.domainHost,parse:sd,serialize:od},cs={scheme:"ws",domainHost:!0,parse:EE,serialize:vE},SE={scheme:"wss",domainHost:cs.domainHost,parse:cs.parse,serialize:cs.serialize},OE={scheme:"urn",parse:$E,serialize:bE,skipNormalize:!0},IE={scheme:"urn:uuid",parse:wE,serialize:_E,skipNormalize:!0},ls={http:id,https:CE,ws:cs,wss:SE,urn:OE,"urn:uuid":IE};Object.setPrototypeOf(ls,null);function qi(t){return t&&(ls[t]||ls[t.toLowerCase()])||void 0}ad.exports={wsIsSecure:Ni,SCHEMES:ls,isValidSchemeName:yE,getSchemeHandler:qi}});var dd=h((tO,fs)=>{"use strict";var{normalizeIPv6:AE,removeDotSegments:cn,recomposeAuthority:FE,normalizeComponentEncoding:ds,isIPv4:xE,nonSimpleDomain:PE}=ki(),{SCHEMES:TE,getSchemeHandler:cd}=ud();function jE(t,e){return typeof t=="string"?t=dt(bt(t,e),e):typeof t=="object"&&(t=bt(dt(t,e),e)),t}function RE(t,e,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=ld(bt(t,n),bt(e,n),n,!0);return n.skipEscape=!0,dt(s,n)}function ld(t,e,r,n){let s={};return n||(t=bt(dt(t,r),r),e=bt(dt(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(s.scheme=e.scheme,s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=cn(e.path||""),s.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=cn(e.path||""),s.query=e.query):(e.path?(e.path[0]==="/"?s.path=cn(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?s.path="/"+e.path:t.path?s.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:s.path=e.path,s.path=cn(s.path)),s.query=e.query):(s.path=t.path,e.query!==void 0?s.query=e.query:s.query=t.query),s.userinfo=t.userinfo,s.host=t.host,s.port=t.port),s.scheme=t.scheme),s.fragment=e.fragment,s}function kE(t,e,r){return typeof t=="string"?(t=unescape(t),t=dt(ds(bt(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=dt(ds(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=dt(ds(bt(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=dt(ds(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function dt(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),s=[],o=cd(n.scheme||r.scheme);o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");let i=FE(r);if(i!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(i),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(a=cn(a)),i===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),s.push(a)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}var NE=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function bt(t,e){let r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=!1;r.reference==="suffix"&&(r.scheme?t=r.scheme+":"+t:t="//"+t);let o=t.match(NE);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host)if(xE(n.host)===!1){let u=AE(n.host);n.host=u.host.toLowerCase(),s=u.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let i=cd(r.scheme||n.scheme);if(!r.unicodeSupport&&(!i||!i.unicodeSupport)&&n.host&&(r.domainHost||i&&i.domainHost)&&s===!1&&PE(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!i||i&&!i.skipNormalize)&&(t.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),i&&i.parse&&i.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var Li={SCHEMES:TE,normalize:jE,resolve:RE,resolveComponent:ld,equal:kE,serialize:dt,parse:bt};fs.exports=Li;fs.exports.default=Li;fs.exports.fastUri=Li});var pd=h(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});var fd=dd();fd.code='require("ajv/dist/runtime/uri").default';Mi.default=fd});var $d=h(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.CodeGen=he.Name=he.nil=he.stringify=he.str=he._=he.KeywordCxt=void 0;var qE=an();Object.defineProperty(he,"KeywordCxt",{enumerable:!0,get:function(){return qE.KeywordCxt}});var Dr=q();Object.defineProperty(he,"_",{enumerable:!0,get:function(){return Dr._}});Object.defineProperty(he,"str",{enumerable:!0,get:function(){return Dr.str}});Object.defineProperty(he,"stringify",{enumerable:!0,get:function(){return Dr.stringify}});Object.defineProperty(he,"nil",{enumerable:!0,get:function(){return Dr.nil}});Object.defineProperty(he,"Name",{enumerable:!0,get:function(){return Dr.Name}});Object.defineProperty(he,"CodeGen",{enumerable:!0,get:function(){return Dr.CodeGen}});var LE=is(),yd=un(),ME=hi(),ln=us(),BE=q(),dn=nn(),ps=rn(),Ui=V(),md=Zl(),UE=pd(),Ed=(t,e)=>new RegExp(t,e);Ed.code="new RegExp";var VE=["removeAdditional","useDefaults","coerceTypes"],GE=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),zE={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},HE={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},hd=200;function WE(t){var e,r,n,s,o,i,a,u,c,l,d,p,f,m,g,D,y,v,C,R,O,ke,tt,Gr,po;let zr=t.strict,mo=(e=t.code)===null||e===void 0?void 0:e.optimize,Qu=mo===!0||mo===void 0?1:mo||0,Zu=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:Ed,Jg=(s=t.uriResolver)!==null&&s!==void 0?s:UE.default;return{strictSchema:(i=(o=t.strictSchema)!==null&&o!==void 0?o:zr)!==null&&i!==void 0?i:!0,strictNumbers:(u=(a=t.strictNumbers)!==null&&a!==void 0?a:zr)!==null&&u!==void 0?u:!0,strictTypes:(l=(c=t.strictTypes)!==null&&c!==void 0?c:zr)!==null&&l!==void 0?l:"log",strictTuples:(p=(d=t.strictTuples)!==null&&d!==void 0?d:zr)!==null&&p!==void 0?p:"log",strictRequired:(m=(f=t.strictRequired)!==null&&f!==void 0?f:zr)!==null&&m!==void 0?m:!1,code:t.code?{...t.code,optimize:Qu,regExp:Zu}:{optimize:Qu,regExp:Zu},loopRequired:(g=t.loopRequired)!==null&&g!==void 0?g:hd,loopEnum:(D=t.loopEnum)!==null&&D!==void 0?D:hd,meta:(y=t.meta)!==null&&y!==void 0?y:!0,messages:(v=t.messages)!==null&&v!==void 0?v:!0,inlineRefs:(C=t.inlineRefs)!==null&&C!==void 0?C:!0,schemaId:(R=t.schemaId)!==null&&R!==void 0?R:"$id",addUsedSchema:(O=t.addUsedSchema)!==null&&O!==void 0?O:!0,validateSchema:(ke=t.validateSchema)!==null&&ke!==void 0?ke:!0,validateFormats:(tt=t.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(Gr=t.unicodeRegExp)!==null&&Gr!==void 0?Gr:!0,int32range:(po=t.int32range)!==null&&po!==void 0?po:!0,uriResolver:Jg}}var fn=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...WE(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new BE.ValueScope({scope:{},prefixes:GE,es5:r,lines:n}),this.logger=ZE(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=(0,ME.getRules)(),gd.call(this,zE,e,"NOT SUPPORTED"),gd.call(this,HE,e,"DEPRECATED","warn"),this._metaOpts=YE.call(this),e.formats&&JE.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&XE.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),KE.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,s=md;n==="id"&&(s={...md},s.id=s.$id,delete s.$id),r&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,r);async function s(l,d){await o.call(this,l.$schema);let p=this._addSchema(l,d);return p.validate||i.call(this,p)}async function o(l){l&&!this.getSchema(l)&&await s.call(this,{$ref:l},!0)}async function i(l){try{return this._compileSchemaEnv(l)}catch(d){if(!(d instanceof yd.default))throw d;return a.call(this,d),await u.call(this,d.missingSchema),i.call(this,l)}}function a({missingSchema:l,missingRef:d}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${d} cannot be resolved`)}async function u(l){let d=await c.call(this,l);this.refs[l]||await o.call(this,d.$schema),this.refs[l]||this.addSchema(d,l,r)}async function c(l){let d=this._loading[l];if(d)return d;try{return await(this._loading[l]=n(l))}finally{delete this._loading[l]}}}addSchema(e,r,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let i of e)this.addSchema(i,void 0,n,s);return this}let o;if(typeof e=="object"){let{schemaId:i}=this.opts;if(o=e[i],o!==void 0&&typeof o!="string")throw new Error(`schema ${i} must be string`)}return r=(0,dn.normalizeId)(r||o),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,s,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&r){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return s}getSchema(e){let r;for(;typeof(r=Dd.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,s=new ln.SchemaEnv({schema:{},schemaId:n});if(r=ln.resolveSchema.call(this,s,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Dd.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,dn.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(tv.call(this,n,r),!r)return(0,Ui.eachItem)(n,o=>Bi.call(this,o)),this;nv.call(this,r);let s={...r,type:(0,ps.getJSONTypes)(r.type),schemaType:(0,ps.getJSONTypes)(r.schemaType)};return(0,Ui.eachItem)(n,s.type.length===0?o=>Bi.call(this,o,s):o=>s.type.forEach(i=>Bi.call(this,o,s,i))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let s=n.rules.findIndex(o=>o.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,o)=>s+r+o)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let o=s.split("/").slice(1),i=e;for(let a of o)i=i[a];for(let a in n){let u=n[a];if(typeof u!="object")continue;let{$data:c}=u.definition,l=i[a];c&&l&&(i[a]=vd(l))}}return e}_removeAllSchemas(e,r){for(let n in e){let s=e[n];(!r||r.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,r,n,s=this.opts.validateSchema,o=this.opts.addUsedSchema){let i,{schemaId:a}=this.opts;if(typeof e=="object")i=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(e);if(u!==void 0)return u;n=(0,dn.normalizeId)(i||n);let c=dn.getSchemaRefs.call(this,e,n);return u=new ln.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:n,localRefs:c}),this._cache.set(u.schema,u),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),s&&this.validateSchema(e,!0),u}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):ln.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{ln.compileSchema.call(this,e)}finally{this.opts=r}}};fn.ValidationError=LE.default;fn.MissingRefError=yd.default;he.default=fn;function gd(t,e,r,n="error"){for(let s in t){let o=s;o in e&&this.logger[n](`${r}: option ${s}. ${t[o]}`)}}function Dd(t){return t=(0,dn.normalizeId)(t),this.schemas[t]||this.refs[t]}function KE(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function JE(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function XE(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function YE(){let t={...this.opts};for(let e of VE)delete t[e];return t}var QE={log(){},warn(){},error(){}};function ZE(t){if(t===!1)return QE;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var ev=/^[a-z_$][a-z0-9_$:-]*$/i;function tv(t,e){let{RULES:r}=this;if((0,Ui.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!ev.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function Bi(t,e,r){var n;let s=e?.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,i=s?o.post:o.rules.find(({type:u})=>u===r);if(i||(i={type:r,rules:[]},o.rules.push(i)),o.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,ps.getJSONTypes)(e.type),schemaType:(0,ps.getJSONTypes)(e.schemaType)}};e.before?rv.call(this,i,a,e.before):i.rules.push(a),o.all[t]=a,(n=e.implements)===null||n===void 0||n.forEach(u=>this.addKeyword(u))}function rv(t,e,r){let n=t.rules.findIndex(s=>s.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function nv(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=vd(e)),t.validateSchema=this.compile(e,!0))}var sv={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function vd(t){return{anyOf:[t,sv]}}});var bd=h(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var ov={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Vi.default=ov});var Sd=h(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.callRef=Qt.getValidate=void 0;var iv=un(),wd=Ke(),Be=q(),yr=vt(),_d=us(),ms=V(),av={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:o,validateName:i,opts:a,self:u}=n,{root:c}=o;if((r==="#"||r==="#/")&&s===c.baseId)return d();let l=_d.resolveRef.call(u,c,s,r);if(l===void 0)throw new iv.default(n.opts.uriResolver,s,r);if(l instanceof _d.SchemaEnv)return p(l);return f(l);function d(){if(o===c)return hs(t,i,o,o.$async);let m=e.scopeValue("root",{ref:c});return hs(t,(0,Be._)`${m}.validate`,c,c.$async)}function p(m){let g=Cd(t,m);hs(t,g,m,m.$async)}function f(m){let g=e.scopeValue("schema",a.code.source===!0?{ref:m,code:(0,Be.stringify)(m)}:{ref:m}),D=e.name("valid"),y=t.subschema({schema:m,dataTypes:[],schemaPath:Be.nil,topSchemaRef:g,errSchemaPath:r},D);t.mergeEvaluated(y),t.ok(D)}}};function Cd(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Be._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Qt.getValidate=Cd;function hs(t,e,r,n){let{gen:s,it:o}=t,{allErrors:i,schemaEnv:a,opts:u}=o,c=u.passContext?yr.default.this:Be.nil;n?l():d();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");let m=s.let("valid");s.try(()=>{s.code((0,Be._)`await ${(0,wd.callValidateCode)(t,e,c)}`),f(e),i||s.assign(m,!0)},g=>{s.if((0,Be._)`!(${g} instanceof ${o.ValidationError})`,()=>s.throw(g)),p(g),i||s.assign(m,!1)}),t.ok(m)}function d(){t.result((0,wd.callValidateCode)(t,e,c),()=>f(e),()=>p(e))}function p(m){let g=(0,Be._)`${m}.errors`;s.assign(yr.default.vErrors,(0,Be._)`${yr.default.vErrors} === null ? ${g} : ${yr.default.vErrors}.concat(${g})`),s.assign(yr.default.errors,(0,Be._)`${yr.default.vErrors}.length`)}function f(m){var g;if(!o.opts.unevaluated)return;let D=(g=r?.validate)===null||g===void 0?void 0:g.evaluated;if(o.props!==!0)if(D&&!D.dynamicProps)D.props!==void 0&&(o.props=ms.mergeEvaluated.props(s,D.props,o.props));else{let y=s.var("props",(0,Be._)`${m}.evaluated.props`);o.props=ms.mergeEvaluated.props(s,y,o.props,Be.Name)}if(o.items!==!0)if(D&&!D.dynamicItems)D.items!==void 0&&(o.items=ms.mergeEvaluated.items(s,D.items,o.items));else{let y=s.var("items",(0,Be._)`${m}.evaluated.items`);o.items=ms.mergeEvaluated.items(s,y,o.items,Be.Name)}}}Qt.callRef=hs;Qt.default=av});var Od=h(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});var uv=bd(),cv=Sd(),lv=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",uv.default,cv.default];Gi.default=lv});var Id=h(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});var gs=q(),kt=gs.operators,Ds={maximum:{okStr:"<=",ok:kt.LTE,fail:kt.GT},minimum:{okStr:">=",ok:kt.GTE,fail:kt.LT},exclusiveMaximum:{okStr:"<",ok:kt.LT,fail:kt.GTE},exclusiveMinimum:{okStr:">",ok:kt.GT,fail:kt.LTE}},dv={message:({keyword:t,schemaCode:e})=>(0,gs.str)`must be ${Ds[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,gs._)`{comparison: ${Ds[t].okStr}, limit: ${e}}`},fv={keyword:Object.keys(Ds),type:"number",schemaType:"number",$data:!0,error:dv,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,gs._)`${r} ${Ds[e].fail} ${n} || isNaN(${r})`)}};zi.default=fv});var Ad=h(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});var pn=q(),pv={message:({schemaCode:t})=>(0,pn.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,pn._)`{multipleOf: ${t}}`},mv={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:pv,code(t){let{gen:e,data:r,schemaCode:n,it:s}=t,o=s.opts.multipleOfPrecision,i=e.let("res"),a=o?(0,pn._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${o}`:(0,pn._)`${i} !== parseInt(${i})`;t.fail$data((0,pn._)`(${n} === 0 || (${i} = ${r}/${n}, ${a}))`)}};Hi.default=mv});var xd=h(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});function Fd(t){let e=t.length,r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}Wi.default=Fd;Fd.code='require("ajv/dist/runtime/ucs2length").default'});var Pd=h(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});var Zt=q(),hv=V(),gv=xd(),Dv={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Zt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Zt._)`{limit: ${t}}`},yv={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Dv,code(t){let{keyword:e,data:r,schemaCode:n,it:s}=t,o=e==="maxLength"?Zt.operators.GT:Zt.operators.LT,i=s.opts.unicode===!1?(0,Zt._)`${r}.length`:(0,Zt._)`${(0,hv.useFunc)(t.gen,gv.default)}(${r})`;t.fail$data((0,Zt._)`${i} ${o} ${n}`)}};Ki.default=yv});var Td=h(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});var Ev=Ke(),vv=V(),Er=q(),$v={message:({schemaCode:t})=>(0,Er.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Er._)`{pattern: ${t}}`},bv={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:$v,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:o,it:i}=t,a=i.opts.unicodeRegExp?"u":"";if(n){let{regExp:u}=i.opts.code,c=u.code==="new RegExp"?(0,Er._)`new RegExp`:(0,vv.useFunc)(e,u),l=e.let("valid");e.try(()=>e.assign(l,(0,Er._)`${c}(${o}, ${a}).test(${r})`),()=>e.assign(l,!1)),t.fail$data((0,Er._)`!${l}`)}else{let u=(0,Ev.usePattern)(t,s);t.fail$data((0,Er._)`!${u}.test(${r})`)}}};Ji.default=bv});var jd=h(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});var mn=q(),wv={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,mn.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,mn._)`{limit: ${t}}`},_v={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:wv,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?mn.operators.GT:mn.operators.LT;t.fail$data((0,mn._)`Object.keys(${r}).length ${s} ${n}`)}};Xi.default=_v});var Rd=h(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var hn=Ke(),gn=q(),Cv=V(),Sv={message:({params:{missingProperty:t}})=>(0,gn.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,gn._)`{missingProperty: ${t}}`},Ov={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Sv,code(t){let{gen:e,schema:r,schemaCode:n,data:s,$data:o,it:i}=t,{opts:a}=i;if(!o&&r.length===0)return;let u=r.length>=a.loopRequired;if(i.allErrors?c():l(),a.strictRequired){let f=t.parentSchema.properties,{definedProperties:m}=t.it;for(let g of r)if(f?.[g]===void 0&&!m.has(g)){let D=i.schemaEnv.baseId+i.errSchemaPath,y=`required property "${g}" is not defined at "${D}" (strictRequired)`;(0,Cv.checkStrictMode)(i,y,i.opts.strictRequired)}}function c(){if(u||o)t.block$data(gn.nil,d);else for(let f of r)(0,hn.checkReportMissingProp)(t,f)}function l(){let f=e.let("missing");if(u||o){let m=e.let("valid",!0);t.block$data(m,()=>p(f,m)),t.ok(m)}else e.if((0,hn.checkMissingProp)(t,r,f)),(0,hn.reportMissingProp)(t,f),e.else()}function d(){e.forOf("prop",n,f=>{t.setParams({missingProperty:f}),e.if((0,hn.noPropertyInData)(e,s,f,a.ownProperties),()=>t.error())})}function p(f,m){t.setParams({missingProperty:f}),e.forOf(f,n,()=>{e.assign(m,(0,hn.propertyInData)(e,s,f,a.ownProperties)),e.if((0,gn.not)(m),()=>{t.error(),e.break()})},gn.nil)}}};Yi.default=Ov});var kd=h(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var Dn=q(),Iv={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Dn.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Dn._)`{limit: ${t}}`},Av={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Iv,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?Dn.operators.GT:Dn.operators.LT;t.fail$data((0,Dn._)`${r}.length ${s} ${n}`)}};Qi.default=Av});var ys=h(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});var Nd=wi();Nd.code='require("ajv/dist/runtime/equal").default';Zi.default=Nd});var qd=h(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var ea=rn(),ge=q(),Fv=V(),xv=ys(),Pv={message:({params:{i:t,j:e}})=>(0,ge.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ge._)`{i: ${t}, j: ${e}}`},Tv={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Pv,code(t){let{gen:e,data:r,$data:n,schema:s,parentSchema:o,schemaCode:i,it:a}=t;if(!n&&!s)return;let u=e.let("valid"),c=o.items?(0,ea.getSchemaTypes)(o.items):[];t.block$data(u,l,(0,ge._)`${i} === false`),t.ok(u);function l(){let m=e.let("i",(0,ge._)`${r}.length`),g=e.let("j");t.setParams({i:m,j:g}),e.assign(u,!0),e.if((0,ge._)`${m} > 1`,()=>(d()?p:f)(m,g))}function d(){return c.length>0&&!c.some(m=>m==="object"||m==="array")}function p(m,g){let D=e.name("item"),y=(0,ea.checkDataTypes)(c,D,a.opts.strictNumbers,ea.DataType.Wrong),v=e.const("indices",(0,ge._)`{}`);e.for((0,ge._)`;${m}--;`,()=>{e.let(D,(0,ge._)`${r}[${m}]`),e.if(y,(0,ge._)`continue`),c.length>1&&e.if((0,ge._)`typeof ${D} == "string"`,(0,ge._)`${D} += "_"`),e.if((0,ge._)`typeof ${v}[${D}] == "number"`,()=>{e.assign(g,(0,ge._)`${v}[${D}]`),t.error(),e.assign(u,!1).break()}).code((0,ge._)`${v}[${D}] = ${m}`)})}function f(m,g){let D=(0,Fv.useFunc)(e,xv.default),y=e.name("outer");e.label(y).for((0,ge._)`;${m}--;`,()=>e.for((0,ge._)`${g} = ${m}; ${g}--;`,()=>e.if((0,ge._)`${D}(${r}[${m}], ${r}[${g}])`,()=>{t.error(),e.assign(u,!1).break(y)})))}}};ta.default=Tv});var Ld=h(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var ra=q(),jv=V(),Rv=ys(),kv={message:"must be equal to constant",params:({schemaCode:t})=>(0,ra._)`{allowedValue: ${t}}`},Nv={keyword:"const",$data:!0,error:kv,code(t){let{gen:e,data:r,$data:n,schemaCode:s,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,ra._)`!${(0,jv.useFunc)(e,Rv.default)}(${r}, ${s})`):t.fail((0,ra._)`${o} !== ${r}`)}};na.default=Nv});var Md=h(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var yn=q(),qv=V(),Lv=ys(),Mv={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,yn._)`{allowedValues: ${t}}`},Bv={keyword:"enum",schemaType:"array",$data:!0,error:Mv,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:o,it:i}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let a=s.length>=i.opts.loopEnum,u,c=()=>u??(u=(0,qv.useFunc)(e,Lv.default)),l;if(a||n)l=e.let("valid"),t.block$data(l,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let f=e.const("vSchema",o);l=(0,yn.or)(...s.map((m,g)=>p(f,g)))}t.pass(l);function d(){e.assign(l,!1),e.forOf("v",o,f=>e.if((0,yn._)`${c()}(${r}, ${f})`,()=>e.assign(l,!0).break()))}function p(f,m){let g=s[m];return typeof g=="object"&&g!==null?(0,yn._)`${c()}(${r}, ${f}[${m}])`:(0,yn._)`${r} === ${g}`}}};sa.default=Bv});var Bd=h(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var Uv=Id(),Vv=Ad(),Gv=Pd(),zv=Td(),Hv=jd(),Wv=Rd(),Kv=kd(),Jv=qd(),Xv=Ld(),Yv=Md(),Qv=[Uv.default,Vv.default,Gv.default,zv.default,Hv.default,Wv.default,Kv.default,Jv.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Xv.default,Yv.default];oa.default=Qv});var aa=h(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.validateAdditionalItems=void 0;var er=q(),ia=V(),Zv={message:({params:{len:t}})=>(0,er.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,er._)`{limit: ${t}}`},e$={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Zv,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,ia.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ud(t,n)}};function Ud(t,e){let{gen:r,schema:n,data:s,keyword:o,it:i}=t;i.items=!0;let a=r.const("len",(0,er._)`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,er._)`${a} <= ${e.length}`);else if(typeof n=="object"&&!(0,ia.alwaysValidSchema)(i,n)){let c=r.var("valid",(0,er._)`${a} <= ${e.length}`);r.if((0,er.not)(c),()=>u(c)),t.ok(c)}function u(c){r.forRange("i",e.length,a,l=>{t.subschema({keyword:o,dataProp:l,dataPropType:ia.Type.Num},c),i.allErrors||r.if((0,er.not)(c),()=>r.break())})}}En.validateAdditionalItems=Ud;En.default=e$});var ua=h(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.validateTuple=void 0;var Vd=q(),Es=V(),t$=Ke(),r$={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Gd(t,"additionalItems",e);r.items=!0,!(0,Es.alwaysValidSchema)(r,e)&&t.ok((0,t$.validateArray)(t))}};function Gd(t,e,r=t.schema){let{gen:n,parentSchema:s,data:o,keyword:i,it:a}=t;l(s),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Es.mergeEvaluated.items(n,r.length,a.items));let u=n.name("valid"),c=n.const("len",(0,Vd._)`${o}.length`);r.forEach((d,p)=>{(0,Es.alwaysValidSchema)(a,d)||(n.if((0,Vd._)`${c} > ${p}`,()=>t.subschema({keyword:i,schemaProp:p,dataProp:p},u)),t.ok(u))});function l(d){let{opts:p,errSchemaPath:f}=a,m=r.length,g=m===d.minItems&&(m===d.maxItems||d[e]===!1);if(p.strictTuples&&!g){let D=`"${i}" is ${m}-tuple, but minItems or maxItems/${e} are not specified or different at path "${f}"`;(0,Es.checkStrictMode)(a,D,p.strictTuples)}}}vn.validateTuple=Gd;vn.default=r$});var zd=h(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var n$=ua(),s$={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,n$.validateTuple)(t,"items")};ca.default=s$});var Wd=h(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var Hd=q(),o$=V(),i$=Ke(),a$=aa(),u$={message:({params:{len:t}})=>(0,Hd.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Hd._)`{limit: ${t}}`},c$={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:u$,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!(0,o$.alwaysValidSchema)(n,e)&&(s?(0,a$.validateAdditionalItems)(t,s):t.ok((0,i$.validateArray)(t)))}};la.default=c$});var Kd=h(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var Xe=q(),vs=V(),l$={message:({params:{min:t,max:e}})=>e===void 0?(0,Xe.str)`must contain at least ${t} valid item(s)`:(0,Xe.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Xe._)`{minContains: ${t}}`:(0,Xe._)`{minContains: ${t}, maxContains: ${e}}`},d$={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:l$,code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:o}=t,i,a,{minContains:u,maxContains:c}=n;o.opts.next?(i=u===void 0?1:u,a=c):i=1;let l=e.const("len",(0,Xe._)`${s}.length`);if(t.setParams({min:i,max:a}),a===void 0&&i===0){(0,vs.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&i>a){(0,vs.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,vs.alwaysValidSchema)(o,r)){let g=(0,Xe._)`${l} >= ${i}`;a!==void 0&&(g=(0,Xe._)`${g} && ${l} <= ${a}`),t.pass(g);return}o.items=!0;let d=e.name("valid");a===void 0&&i===1?f(d,()=>e.if(d,()=>e.break())):i===0?(e.let(d,!0),a!==void 0&&e.if((0,Xe._)`${s}.length > 0`,p)):(e.let(d,!1),p()),t.result(d,()=>t.reset());function p(){let g=e.name("_valid"),D=e.let("count",0);f(g,()=>e.if(g,()=>m(D)))}function f(g,D){e.forRange("i",0,l,y=>{t.subschema({keyword:"contains",dataProp:y,dataPropType:vs.Type.Num,compositeRule:!0},g),D()})}function m(g){e.code((0,Xe._)`${g}++`),a===void 0?e.if((0,Xe._)`${g} >= ${i}`,()=>e.assign(d,!0).break()):(e.if((0,Xe._)`${g} > ${a}`,()=>e.assign(d,!1).break()),i===1?e.assign(d,!0):e.if((0,Xe._)`${g} >= ${i}`,()=>e.assign(d,!0)))}}};da.default=d$});var Yd=h(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.validateSchemaDeps=ft.validatePropertyDeps=ft.error=void 0;var fa=q(),f$=V(),$n=Ke();ft.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,fa.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,fa._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var p$={keyword:"dependencies",type:"object",schemaType:"object",error:ft.error,code(t){let[e,r]=m$(t);Jd(t,e),Xd(t,r)}};function m$({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let s=Array.isArray(t[n])?e:r;s[n]=t[n]}return[e,r]}function Jd(t,e=t.schema){let{gen:r,data:n,it:s}=t;if(Object.keys(e).length===0)return;let o=r.let("missing");for(let i in e){let a=e[i];if(a.length===0)continue;let u=(0,$n.propertyInData)(r,n,i,s.opts.ownProperties);t.setParams({property:i,depsCount:a.length,deps:a.join(", ")}),s.allErrors?r.if(u,()=>{for(let c of a)(0,$n.checkReportMissingProp)(t,c)}):(r.if((0,fa._)`${u} && (${(0,$n.checkMissingProp)(t,a,o)})`),(0,$n.reportMissingProp)(t,o),r.else())}}ft.validatePropertyDeps=Jd;function Xd(t,e=t.schema){let{gen:r,data:n,keyword:s,it:o}=t,i=r.name("valid");for(let a in e)(0,f$.alwaysValidSchema)(o,e[a])||(r.if((0,$n.propertyInData)(r,n,a,o.opts.ownProperties),()=>{let u=t.subschema({keyword:s,schemaProp:a},i);t.mergeValidEvaluated(u,i)},()=>r.var(i,!0)),t.ok(i))}ft.validateSchemaDeps=Xd;ft.default=p$});var Zd=h(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var Qd=q(),h$=V(),g$={message:"property name must be valid",params:({params:t})=>(0,Qd._)`{propertyName: ${t.propertyName}}`},D$={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:g$,code(t){let{gen:e,schema:r,data:n,it:s}=t;if((0,h$.alwaysValidSchema)(s,r))return;let o=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},o),e.if((0,Qd.not)(o),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(o)}};pa.default=D$});var ha=h(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var $s=Ke(),ot=q(),y$=vt(),bs=V(),E$={message:"must NOT have additional properties",params:({params:t})=>(0,ot._)`{additionalProperty: ${t.additionalProperty}}`},v$={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:E$,code(t){let{gen:e,schema:r,parentSchema:n,data:s,errsCount:o,it:i}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:a,opts:u}=i;if(i.props=!0,u.removeAdditional!=="all"&&(0,bs.alwaysValidSchema)(i,r))return;let c=(0,$s.allSchemaProperties)(n.properties),l=(0,$s.allSchemaProperties)(n.patternProperties);d(),t.ok((0,ot._)`${o} === ${y$.default.errors}`);function d(){e.forIn("key",s,D=>{!c.length&&!l.length?m(D):e.if(p(D),()=>m(D))})}function p(D){let y;if(c.length>8){let v=(0,bs.schemaRefOrVal)(i,n.properties,"properties");y=(0,$s.isOwnProperty)(e,v,D)}else c.length?y=(0,ot.or)(...c.map(v=>(0,ot._)`${D} === ${v}`)):y=ot.nil;return l.length&&(y=(0,ot.or)(y,...l.map(v=>(0,ot._)`${(0,$s.usePattern)(t,v)}.test(${D})`))),(0,ot.not)(y)}function f(D){e.code((0,ot._)`delete ${s}[${D}]`)}function m(D){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){f(D);return}if(r===!1){t.setParams({additionalProperty:D}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,bs.alwaysValidSchema)(i,r)){let y=e.name("valid");u.removeAdditional==="failing"?(g(D,y,!1),e.if((0,ot.not)(y),()=>{t.reset(),f(D)})):(g(D,y),a||e.if((0,ot.not)(y),()=>e.break()))}}function g(D,y,v){let C={keyword:"additionalProperties",dataProp:D,dataPropType:bs.Type.Str};v===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(C,y)}}};ma.default=v$});var rf=h(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});var $$=an(),ef=Ke(),ga=V(),tf=ha(),b$={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&tf.default.code(new $$.KeywordCxt(o,tf.default,"additionalProperties"));let i=(0,ef.allSchemaProperties)(r);for(let d of i)o.definedProperties.add(d);o.opts.unevaluated&&i.length&&o.props!==!0&&(o.props=ga.mergeEvaluated.props(e,(0,ga.toHash)(i),o.props));let a=i.filter(d=>!(0,ga.alwaysValidSchema)(o,r[d]));if(a.length===0)return;let u=e.name("valid");for(let d of a)c(d)?l(d):(e.if((0,ef.propertyInData)(e,s,d,o.opts.ownProperties)),l(d),o.allErrors||e.else().var(u,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(u);function c(d){return o.opts.useDefaults&&!o.compositeRule&&r[d].default!==void 0}function l(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},u)}}};Da.default=b$});var af=h(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var nf=Ke(),ws=q(),sf=V(),of=V(),w$={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:s,it:o}=t,{opts:i}=o,a=(0,nf.allSchemaProperties)(r),u=a.filter(g=>(0,sf.alwaysValidSchema)(o,r[g]));if(a.length===0||u.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;let c=i.strictSchema&&!i.allowMatchingProperties&&s.properties,l=e.name("valid");o.props!==!0&&!(o.props instanceof ws.Name)&&(o.props=(0,of.evaluatedPropsToName)(e,o.props));let{props:d}=o;p();function p(){for(let g of a)c&&f(g),o.allErrors?m(g):(e.var(l,!0),m(g),e.if(l))}function f(g){for(let D in c)new RegExp(g).test(D)&&(0,sf.checkStrictMode)(o,`property ${D} matches pattern ${g} (use allowMatchingProperties)`)}function m(g){e.forIn("key",n,D=>{e.if((0,ws._)`${(0,nf.usePattern)(t,g)}.test(${D})`,()=>{let y=u.includes(g);y||t.subschema({keyword:"patternProperties",schemaProp:g,dataProp:D,dataPropType:of.Type.Str},l),o.opts.unevaluated&&d!==!0?e.assign((0,ws._)`${d}[${D}]`,!0):!y&&!o.allErrors&&e.if((0,ws.not)(l),()=>e.break())})})}}};ya.default=w$});var uf=h(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});var _$=V(),C$={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,_$.alwaysValidSchema)(n,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ea.default=C$});var cf=h(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var S$=Ke(),O$={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:S$.validateUnion,error:{message:"must match a schema in anyOf"}};va.default=O$});var lf=h($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});var _s=q(),I$=V(),A$={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,_s._)`{passingSchemas: ${t.passing}}`},F$={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:A$,code(t){let{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let o=r,i=e.let("valid",!1),a=e.let("passing",null),u=e.name("_valid");t.setParams({passing:a}),e.block(c),t.result(i,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((l,d)=>{let p;(0,I$.alwaysValidSchema)(s,l)?e.var(u,!0):p=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},u),d>0&&e.if((0,_s._)`${u} && ${i}`).assign(i,!1).assign(a,(0,_s._)`[${a}, ${d}]`).else(),e.if(u,()=>{e.assign(i,!0),e.assign(a,d),p&&t.mergeEvaluated(p,_s.Name)})})}}};$a.default=F$});var df=h(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});var x$=V(),P$={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((o,i)=>{if((0,x$.alwaysValidSchema)(n,o))return;let a=t.subschema({keyword:"allOf",schemaProp:i},s);t.ok(s),t.mergeEvaluated(a)})}};ba.default=P$});var mf=h(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});var Cs=q(),pf=V(),T$={message:({params:t})=>(0,Cs.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Cs._)`{failingKeyword: ${t.ifClause}}`},j$={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:T$,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,pf.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let s=ff(n,"then"),o=ff(n,"else");if(!s&&!o)return;let i=e.let("valid",!0),a=e.name("_valid");if(u(),t.reset(),s&&o){let l=e.let("ifClause");t.setParams({ifClause:l}),e.if(a,c("then",l),c("else",l))}else s?e.if(a,c("then")):e.if((0,Cs.not)(a),c("else"));t.pass(i,()=>t.error(!0));function u(){let l=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(l)}function c(l,d){return()=>{let p=t.subschema({keyword:l},a);e.assign(i,a),t.mergeValidEvaluated(p,i),d?e.assign(d,(0,Cs._)`${l}`):t.setParams({ifClause:l})}}}};function ff(t,e){let r=t.schema[e];return r!==void 0&&!(0,pf.alwaysValidSchema)(t,r)}wa.default=j$});var hf=h(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var R$=V(),k$={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,R$.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};_a.default=k$});var gf=h(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var N$=aa(),q$=zd(),L$=ua(),M$=Wd(),B$=Kd(),U$=Yd(),V$=Zd(),G$=ha(),z$=rf(),H$=af(),W$=uf(),K$=cf(),J$=lf(),X$=df(),Y$=mf(),Q$=hf();function Z$(t=!1){let e=[W$.default,K$.default,J$.default,X$.default,Y$.default,Q$.default,V$.default,G$.default,U$.default,z$.default,H$.default];return t?e.push(q$.default,M$.default):e.push(N$.default,L$.default),e.push(B$.default),e}Ca.default=Z$});var Df=h(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});var ue=q(),eb={message:({schemaCode:t})=>(0,ue.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ue._)`{format: ${t}}`},tb={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:eb,code(t,e){let{gen:r,data:n,$data:s,schema:o,schemaCode:i,it:a}=t,{opts:u,errSchemaPath:c,schemaEnv:l,self:d}=a;if(!u.validateFormats)return;s?p():f();function p(){let m=r.scopeValue("formats",{ref:d.formats,code:u.code.formats}),g=r.const("fDef",(0,ue._)`${m}[${i}]`),D=r.let("fType"),y=r.let("format");r.if((0,ue._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(D,(0,ue._)`${g}.type || "string"`).assign(y,(0,ue._)`${g}.validate`),()=>r.assign(D,(0,ue._)`"string"`).assign(y,g)),t.fail$data((0,ue.or)(v(),C()));function v(){return u.strictSchema===!1?ue.nil:(0,ue._)`${i} && !${y}`}function C(){let R=l.$async?(0,ue._)`(${g}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,ue._)`${y}(${n})`,O=(0,ue._)`(typeof ${y} == "function" ? ${R} : ${y}.test(${n}))`;return(0,ue._)`${y} && ${y} !== true && ${D} === ${e} && !${O}`}}function f(){let m=d.formats[o];if(!m){v();return}if(m===!0)return;let[g,D,y]=C(m);g===e&&t.pass(R());function v(){if(u.strictSchema===!1){d.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function C(O){let ke=O instanceof RegExp?(0,ue.regexpCode)(O):u.code.formats?(0,ue._)`${u.code.formats}${(0,ue.getProperty)(o)}`:void 0,tt=r.scopeValue("formats",{key:o,ref:O,code:ke});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,ue._)`${tt}.validate`]:["string",O,tt]}function R(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!l.$async)throw new Error("async format in sync schema");return(0,ue._)`await ${y}(${n})`}return typeof D=="function"?(0,ue._)`${y}(${n})`:(0,ue._)`${y}.test(${n})`}}}};Sa.default=tb});var yf=h(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});var rb=Df(),nb=[rb.default];Oa.default=nb});var Ef=h(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.contentVocabulary=vr.metadataVocabulary=void 0;vr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];vr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var $f=h(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});var sb=Od(),ob=Bd(),ib=gf(),ab=yf(),vf=Ef(),ub=[sb.default,ob.default,(0,ib.default)(),ab.default,vf.metadataVocabulary,vf.contentVocabulary];Ia.default=ub});var wf=h(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.DiscrError=void 0;var bf;(function(t){t.Tag="tag",t.Mapping="mapping"})(bf||(Ss.DiscrError=bf={}))});var Cf=h(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});var $r=q(),Aa=wf(),_f=us(),cb=un(),lb=V(),db={message:({params:{discrError:t,tagName:e}})=>t===Aa.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,$r._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},fb={keyword:"discriminator",type:"object",schemaType:"object",error:db,code(t){let{gen:e,data:r,schema:n,parentSchema:s,it:o}=t,{oneOf:i}=s;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");let u=e.let("valid",!1),c=e.const("tag",(0,$r._)`${r}${(0,$r.getProperty)(a)}`);e.if((0,$r._)`typeof ${c} == "string"`,()=>l(),()=>t.error(!1,{discrError:Aa.DiscrError.Tag,tag:c,tagName:a})),t.ok(u);function l(){let f=p();e.if(!1);for(let m in f)e.elseIf((0,$r._)`${c} === ${m}`),e.assign(u,d(f[m]));e.else(),t.error(!1,{discrError:Aa.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function d(f){let m=e.name("valid"),g=t.subschema({keyword:"oneOf",schemaProp:f},m);return t.mergeEvaluated(g,$r.Name),m}function p(){var f;let m={},g=y(s),D=!0;for(let R=0;R<i.length;R++){let O=i[R];if(O?.$ref&&!(0,lb.schemaHasRulesButRef)(O,o.self.RULES)){let tt=O.$ref;if(O=_f.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,tt),O instanceof _f.SchemaEnv&&(O=O.schema),O===void 0)throw new cb.default(o.opts.uriResolver,o.baseId,tt)}let ke=(f=O?.properties)===null||f===void 0?void 0:f[a];if(typeof ke!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);D=D&&(g||y(O)),v(ke,R)}if(!D)throw new Error(`discriminator: "${a}" must be required`);return m;function y({required:R}){return Array.isArray(R)&&R.includes(a)}function v(R,O){if(R.const)C(R.const,O);else if(R.enum)for(let ke of R.enum)C(ke,O);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function C(R,O){if(typeof R!="string"||R in m)throw new Error(`discriminator: "${a}" values must be unique strings`);m[R]=O}}}};Fa.default=fb});var Sf=h((VO,pb)=>{pb.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Pa=h((re,xa)=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.MissingRefError=re.ValidationError=re.CodeGen=re.Name=re.nil=re.stringify=re.str=re._=re.KeywordCxt=re.Ajv=void 0;var mb=$d(),hb=$f(),gb=Cf(),Of=Sf(),Db=["/properties"],Os="http://json-schema.org/draft-07/schema",br=class extends mb.default{_addVocabularies(){super._addVocabularies(),hb.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(gb.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Of,Db):Of;this.addMetaSchema(e,Os,!1),this.refs["http://json-schema.org/schema"]=Os}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Os)?Os:void 0)}};re.Ajv=br;xa.exports=re=br;xa.exports.Ajv=br;Object.defineProperty(re,"__esModule",{value:!0});re.default=br;var yb=an();Object.defineProperty(re,"KeywordCxt",{enumerable:!0,get:function(){return yb.KeywordCxt}});var wr=q();Object.defineProperty(re,"_",{enumerable:!0,get:function(){return wr._}});Object.defineProperty(re,"str",{enumerable:!0,get:function(){return wr.str}});Object.defineProperty(re,"stringify",{enumerable:!0,get:function(){return wr.stringify}});Object.defineProperty(re,"nil",{enumerable:!0,get:function(){return wr.nil}});Object.defineProperty(re,"Name",{enumerable:!0,get:function(){return wr.Name}});Object.defineProperty(re,"CodeGen",{enumerable:!0,get:function(){return wr.CodeGen}});var Eb=is();Object.defineProperty(re,"ValidationError",{enumerable:!0,get:function(){return Eb.default}});var vb=un();Object.defineProperty(re,"MissingRefError",{enumerable:!0,get:function(){return vb.default}})});var Tf=h(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.formatNames=pt.fastFormats=pt.fullFormats=void 0;function _r(t,e){return{validate:t,compare:e}}pt.fullFormats={date:_r(Ff,Ra),time:_r(xf,ka),"date-time":_r(_b,Pf),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Ob,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:jb,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Ib,int32:{type:"number",validate:xb},int64:{type:"number",validate:Pb},float:{type:"number",validate:Af},double:{type:"number",validate:Af},password:!0,binary:!0};pt.fastFormats={...pt.fullFormats,date:_r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Ra),time:_r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,ka),"date-time":_r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Pf),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};pt.formatNames=Object.keys(pt.fullFormats);function $b(t){return t%4===0&&(t%100!==0||t%400===0)}var bb=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,wb=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Ff(t){let e=bb.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],s=+e[3];return n>=1&&n<=12&&s>=1&&s<=(n===2&&$b(r)?29:wb[n])}function Ra(t,e){if(t&&e)return t>e?1:t<e?-1:0}var Ta=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function xf(t,e){let r=Ta.exec(t);if(!r)return!1;let n=+r[1],s=+r[2],o=+r[3],i=r[5];return(n<=23&&s<=59&&o<=59||n===23&&s===59&&o===60)&&(!e||i!=="")}function ka(t,e){if(!(t&&e))return;let r=Ta.exec(t),n=Ta.exec(e);if(r&&n)return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var ja=/t|\s/i;function _b(t){let e=t.split(ja);return e.length===2&&Ff(e[0])&&xf(e[1],!0)}function Pf(t,e){if(!(t&&e))return;let[r,n]=t.split(ja),[s,o]=e.split(ja),i=Ra(r,s);if(i!==void 0)return i||ka(n,o)}var Cb=/\/|:/,Sb=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Ob(t){return Cb.test(t)&&Sb.test(t)}var If=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Ib(t){return If.lastIndex=0,If.test(t)}var Ab=-(2**31),Fb=2**31-1;function xb(t){return Number.isInteger(t)&&t<=Fb&&t>=Ab}function Pb(t){return Number.isInteger(t)}function Af(){return!0}var Tb=/[^\\]\\Z/;function jb(t){if(Tb.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var jf=h(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.formatLimitDefinition=void 0;var Rb=Pa(),it=q(),Nt=it.operators,Is={formatMaximum:{okStr:"<=",ok:Nt.LTE,fail:Nt.GT},formatMinimum:{okStr:">=",ok:Nt.GTE,fail:Nt.LT},formatExclusiveMaximum:{okStr:"<",ok:Nt.LT,fail:Nt.GTE},formatExclusiveMinimum:{okStr:">",ok:Nt.GT,fail:Nt.LTE}},kb={message:({keyword:t,schemaCode:e})=>it.str`should be ${Is[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>it._`{comparison: ${Is[t].okStr}, limit: ${e}}`};Cr.formatLimitDefinition={keyword:Object.keys(Is),type:"string",schemaType:"string",$data:!0,error:kb,code(t){let{gen:e,data:r,schemaCode:n,keyword:s,it:o}=t,{opts:i,self:a}=o;if(!i.validateFormats)return;let u=new Rb.KeywordCxt(o,a.RULES.all.format.definition,"format");u.$data?c():l();function c(){let p=e.scopeValue("formats",{ref:a.formats,code:i.code.formats}),f=e.const("fmt",it._`${p}[${u.schemaCode}]`);t.fail$data(it.or(it._`typeof ${f} != "object"`,it._`${f} instanceof RegExp`,it._`typeof ${f}.compare != "function"`,d(f)))}function l(){let p=u.schema,f=a.formats[p];if(!f||f===!0)return;if(typeof f!="object"||f instanceof RegExp||typeof f.compare!="function")throw new Error(`"${s}": format "${p}" does not define "compare" function`);let m=e.scopeValue("formats",{key:p,ref:f,code:i.code.formats?it._`${i.code.formats}${it.getProperty(p)}`:void 0});t.fail$data(d(m))}function d(p){return it._`${p}.compare(${r}, ${n}) ${Is[s].fail} 0`}},dependencies:["format"]};var Nb=t=>(t.addKeyword(Cr.formatLimitDefinition),t);Cr.default=Nb});var qf=h((bn,Nf)=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var Sr=Tf(),qb=jf(),Na=q(),Rf=new Na.Name("fullFormats"),Lb=new Na.Name("fastFormats"),qa=(t,e={keywords:!0})=>{if(Array.isArray(e))return kf(t,e,Sr.fullFormats,Rf),t;let[r,n]=e.mode==="fast"?[Sr.fastFormats,Lb]:[Sr.fullFormats,Rf],s=e.formats||Sr.formatNames;return kf(t,s,r,n),e.keywords&&qb.default(t),t};qa.get=(t,e="full")=>{let n=(e==="fast"?Sr.fastFormats:Sr.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function kf(t,e,r,n){var s,o;(s=(o=t.opts.code).formats)!==null&&s!==void 0||(o.formats=Na._`require("ajv-formats/dist/formats").${n}`);for(let i of e)t.addFormat(i,r[i])}Nf.exports=bn=qa;Object.defineProperty(bn,"__esModule",{value:!0});bn.default=qa});var Mf=h((HO,Lf)=>{"use strict";var Mb=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let s=Object.getOwnPropertyDescriptor(t,r),o=Object.getOwnPropertyDescriptor(e,r);!Bb(s,o)&&n||Object.defineProperty(t,r,o)},Bb=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},Ub=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},Vb=(t,e)=>`/* Wrapped ${t}*/
${e}`,Gb=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),zb=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Hb=(t,e,r)=>{let n=r===""?"":`with ${r.trim()}() `,s=Vb.bind(null,n,e.toString());Object.defineProperty(s,"name",zb),Object.defineProperty(t,"toString",{...Gb,value:s})},Wb=(t,e,{ignoreNonConfigurable:r=!1}={})=>{let{name:n}=t;for(let s of Reflect.ownKeys(e))Mb(t,e,s,r);return Ub(t,e),Hb(t,e,n),t};Lf.exports=Wb});var Uf=h((WO,Bf)=>{"use strict";var Kb=Mf();Bf.exports=(t,e={})=>{if(typeof t!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);let{wait:r=0,before:n=!1,after:s=!0}=e;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,i,a=function(...u){let c=this,l=()=>{o=void 0,s&&(i=t.apply(c,u))},d=n&&!o;return clearTimeout(o),o=setTimeout(l,r),d&&(i=t.apply(c,u)),i};return Kb(a,t),a.cancel=()=>{o&&(clearTimeout(o),o=void 0)},a}});var wn=h((KO,Vf)=>{"use strict";var Jb="2.0.0",Xb=Number.MAX_SAFE_INTEGER||9007199254740991,Yb=16,Qb=250,Zb=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Vf.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Yb,MAX_SAFE_BUILD_LENGTH:Qb,MAX_SAFE_INTEGER:Xb,RELEASE_TYPES:Zb,SEMVER_SPEC_VERSION:Jb,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var _n=h((JO,Gf)=>{"use strict";var ew=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Gf.exports=ew});var Or=h((mt,zf)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:La,MAX_SAFE_BUILD_LENGTH:tw,MAX_LENGTH:rw}=wn(),nw=_n();mt=zf.exports={};var sw=mt.re=[],ow=mt.safeRe=[],$=mt.src=[],iw=mt.safeSrc=[],b=mt.t={},aw=0,Ma="[a-zA-Z0-9-]",uw=[["\\s",1],["\\d",rw],[Ma,tw]],cw=t=>{for(let[e,r]of uw)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},j=(t,e,r)=>{let n=cw(e),s=aw++;nw(t,s,e),b[t]=s,$[s]=e,iw[s]=n,sw[s]=new RegExp(e,r?"g":void 0),ow[s]=new RegExp(n,r?"g":void 0)};j("NUMERICIDENTIFIER","0|[1-9]\\d*");j("NUMERICIDENTIFIERLOOSE","\\d+");j("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ma}*`);j("MAINVERSION",`(${$[b.NUMERICIDENTIFIER]})\\.(${$[b.NUMERICIDENTIFIER]})\\.(${$[b.NUMERICIDENTIFIER]})`);j("MAINVERSIONLOOSE",`(${$[b.NUMERICIDENTIFIERLOOSE]})\\.(${$[b.NUMERICIDENTIFIERLOOSE]})\\.(${$[b.NUMERICIDENTIFIERLOOSE]})`);j("PRERELEASEIDENTIFIER",`(?:${$[b.NONNUMERICIDENTIFIER]}|${$[b.NUMERICIDENTIFIER]})`);j("PRERELEASEIDENTIFIERLOOSE",`(?:${$[b.NONNUMERICIDENTIFIER]}|${$[b.NUMERICIDENTIFIERLOOSE]})`);j("PRERELEASE",`(?:-(${$[b.PRERELEASEIDENTIFIER]}(?:\\.${$[b.PRERELEASEIDENTIFIER]})*))`);j("PRERELEASELOOSE",`(?:-?(${$[b.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${$[b.PRERELEASEIDENTIFIERLOOSE]})*))`);j("BUILDIDENTIFIER",`${Ma}+`);j("BUILD",`(?:\\+(${$[b.BUILDIDENTIFIER]}(?:\\.${$[b.BUILDIDENTIFIER]})*))`);j("FULLPLAIN",`v?${$[b.MAINVERSION]}${$[b.PRERELEASE]}?${$[b.BUILD]}?`);j("FULL",`^${$[b.FULLPLAIN]}$`);j("LOOSEPLAIN",`[v=\\s]*${$[b.MAINVERSIONLOOSE]}${$[b.PRERELEASELOOSE]}?${$[b.BUILD]}?`);j("LOOSE",`^${$[b.LOOSEPLAIN]}$`);j("GTLT","((?:<|>)?=?)");j("XRANGEIDENTIFIERLOOSE",`${$[b.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);j("XRANGEIDENTIFIER",`${$[b.NUMERICIDENTIFIER]}|x|X|\\*`);j("XRANGEPLAIN",`[v=\\s]*(${$[b.XRANGEIDENTIFIER]})(?:\\.(${$[b.XRANGEIDENTIFIER]})(?:\\.(${$[b.XRANGEIDENTIFIER]})(?:${$[b.PRERELEASE]})?${$[b.BUILD]}?)?)?`);j("XRANGEPLAINLOOSE",`[v=\\s]*(${$[b.XRANGEIDENTIFIERLOOSE]})(?:\\.(${$[b.XRANGEIDENTIFIERLOOSE]})(?:\\.(${$[b.XRANGEIDENTIFIERLOOSE]})(?:${$[b.PRERELEASELOOSE]})?${$[b.BUILD]}?)?)?`);j("XRANGE",`^${$[b.GTLT]}\\s*${$[b.XRANGEPLAIN]}$`);j("XRANGELOOSE",`^${$[b.GTLT]}\\s*${$[b.XRANGEPLAINLOOSE]}$`);j("COERCEPLAIN",`(^|[^\\d])(\\d{1,${La}})(?:\\.(\\d{1,${La}}))?(?:\\.(\\d{1,${La}}))?`);j("COERCE",`${$[b.COERCEPLAIN]}(?:$|[^\\d])`);j("COERCEFULL",$[b.COERCEPLAIN]+`(?:${$[b.PRERELEASE]})?(?:${$[b.BUILD]})?(?:$|[^\\d])`);j("COERCERTL",$[b.COERCE],!0);j("COERCERTLFULL",$[b.COERCEFULL],!0);j("LONETILDE","(?:~>?)");j("TILDETRIM",`(\\s*)${$[b.LONETILDE]}\\s+`,!0);mt.tildeTrimReplace="$1~";j("TILDE",`^${$[b.LONETILDE]}${$[b.XRANGEPLAIN]}$`);j("TILDELOOSE",`^${$[b.LONETILDE]}${$[b.XRANGEPLAINLOOSE]}$`);j("LONECARET","(?:\\^)");j("CARETTRIM",`(\\s*)${$[b.LONECARET]}\\s+`,!0);mt.caretTrimReplace="$1^";j("CARET",`^${$[b.LONECARET]}${$[b.XRANGEPLAIN]}$`);j("CARETLOOSE",`^${$[b.LONECARET]}${$[b.XRANGEPLAINLOOSE]}$`);j("COMPARATORLOOSE",`^${$[b.GTLT]}\\s*(${$[b.LOOSEPLAIN]})$|^$`);j("COMPARATOR",`^${$[b.GTLT]}\\s*(${$[b.FULLPLAIN]})$|^$`);j("COMPARATORTRIM",`(\\s*)${$[b.GTLT]}\\s*(${$[b.LOOSEPLAIN]}|${$[b.XRANGEPLAIN]})`,!0);mt.comparatorTrimReplace="$1$2$3";j("HYPHENRANGE",`^\\s*(${$[b.XRANGEPLAIN]})\\s+-\\s+(${$[b.XRANGEPLAIN]})\\s*$`);j("HYPHENRANGELOOSE",`^\\s*(${$[b.XRANGEPLAINLOOSE]})\\s+-\\s+(${$[b.XRANGEPLAINLOOSE]})\\s*$`);j("STAR","(<|>)?=?\\s*\\*");j("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");j("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var As=h((XO,Hf)=>{"use strict";var lw=Object.freeze({loose:!0}),dw=Object.freeze({}),fw=t=>t?typeof t!="object"?lw:t:dw;Hf.exports=fw});var Ba=h((YO,Jf)=>{"use strict";var Wf=/^[0-9]+$/,Kf=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;let r=Wf.test(t),n=Wf.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},pw=(t,e)=>Kf(e,t);Jf.exports={compareIdentifiers:Kf,rcompareIdentifiers:pw}});var _e=h((QO,Yf)=>{"use strict";var Fs=_n(),{MAX_LENGTH:Xf,MAX_SAFE_INTEGER:xs}=wn(),{safeRe:Ps,t:Ts}=Or(),mw=As(),{compareIdentifiers:Ua}=Ba(),Va=class t{constructor(e,r){if(r=mw(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Xf)throw new TypeError(`version is longer than ${Xf} characters`);Fs("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Ps[Ts.LOOSE]:Ps[Ts.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>xs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xs||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let o=+s;if(o>=0&&o<xs)return o}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Fs("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=e.prerelease[r];if(Fs("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Ua(n,s)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],s=e.build[r];if(Fs("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Ua(n,s)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?Ps[Ts.PRERELEASELOOSE]:Ps[Ts.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let o=[r,s];n===!1&&(o=[r]),Ua(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Yf.exports=Va});var tr=h((ZO,Zf)=>{"use strict";var Qf=_e(),hw=(t,e,r=!1)=>{if(t instanceof Qf)return t;try{return new Qf(t,e)}catch(n){if(!r)return null;throw n}};Zf.exports=hw});var tp=h((eI,ep)=>{"use strict";var gw=tr(),Dw=(t,e)=>{let r=gw(t,e);return r?r.version:null};ep.exports=Dw});var np=h((tI,rp)=>{"use strict";var yw=tr(),Ew=(t,e)=>{let r=yw(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};rp.exports=Ew});var ip=h((rI,op)=>{"use strict";var sp=_e(),vw=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new sp(t instanceof sp?t.version:t,r).inc(e,n,s).version}catch{return null}};op.exports=vw});var cp=h((nI,up)=>{"use strict";var ap=tr(),$w=(t,e)=>{let r=ap(t,null,!0),n=ap(e,null,!0),s=r.compare(n);if(s===0)return null;let o=s>0,i=o?r:n,a=o?n:r,u=!!i.prerelease.length;if(!!a.prerelease.length&&!u){if(!a.patch&&!a.minor)return"major";if(a.compareMain(i)===0)return a.minor&&!a.patch?"minor":"patch"}let l=u?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};up.exports=$w});var dp=h((sI,lp)=>{"use strict";var bw=_e(),ww=(t,e)=>new bw(t,e).major;lp.exports=ww});var pp=h((oI,fp)=>{"use strict";var _w=_e(),Cw=(t,e)=>new _w(t,e).minor;fp.exports=Cw});var hp=h((iI,mp)=>{"use strict";var Sw=_e(),Ow=(t,e)=>new Sw(t,e).patch;mp.exports=Ow});var Dp=h((aI,gp)=>{"use strict";var Iw=tr(),Aw=(t,e)=>{let r=Iw(t,e);return r&&r.prerelease.length?r.prerelease:null};gp.exports=Aw});var Ye=h((uI,Ep)=>{"use strict";var yp=_e(),Fw=(t,e,r)=>new yp(t,r).compare(new yp(e,r));Ep.exports=Fw});var $p=h((cI,vp)=>{"use strict";var xw=Ye(),Pw=(t,e,r)=>xw(e,t,r);vp.exports=Pw});var wp=h((lI,bp)=>{"use strict";var Tw=Ye(),jw=(t,e)=>Tw(t,e,!0);bp.exports=jw});var js=h((dI,Cp)=>{"use strict";var _p=_e(),Rw=(t,e,r)=>{let n=new _p(t,r),s=new _p(e,r);return n.compare(s)||n.compareBuild(s)};Cp.exports=Rw});var Op=h((fI,Sp)=>{"use strict";var kw=js(),Nw=(t,e)=>t.sort((r,n)=>kw(r,n,e));Sp.exports=Nw});var Ap=h((pI,Ip)=>{"use strict";var qw=js(),Lw=(t,e)=>t.sort((r,n)=>qw(n,r,e));Ip.exports=Lw});var Cn=h((mI,Fp)=>{"use strict";var Mw=Ye(),Bw=(t,e,r)=>Mw(t,e,r)>0;Fp.exports=Bw});var Rs=h((hI,xp)=>{"use strict";var Uw=Ye(),Vw=(t,e,r)=>Uw(t,e,r)<0;xp.exports=Vw});var Ga=h((gI,Pp)=>{"use strict";var Gw=Ye(),zw=(t,e,r)=>Gw(t,e,r)===0;Pp.exports=zw});var za=h((DI,Tp)=>{"use strict";var Hw=Ye(),Ww=(t,e,r)=>Hw(t,e,r)!==0;Tp.exports=Ww});var ks=h((yI,jp)=>{"use strict";var Kw=Ye(),Jw=(t,e,r)=>Kw(t,e,r)>=0;jp.exports=Jw});var Ns=h((EI,Rp)=>{"use strict";var Xw=Ye(),Yw=(t,e,r)=>Xw(t,e,r)<=0;Rp.exports=Yw});var Ha=h((vI,kp)=>{"use strict";var Qw=Ga(),Zw=za(),e_=Cn(),t_=ks(),r_=Rs(),n_=Ns(),s_=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Qw(t,r,n);case"!=":return Zw(t,r,n);case">":return e_(t,r,n);case">=":return t_(t,r,n);case"<":return r_(t,r,n);case"<=":return n_(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};kp.exports=s_});var qp=h(($I,Np)=>{"use strict";var o_=_e(),i_=tr(),{safeRe:qs,t:Ls}=Or(),a_=(t,e)=>{if(t instanceof o_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?qs[Ls.COERCEFULL]:qs[Ls.COERCE]);else{let u=e.includePrerelease?qs[Ls.COERCERTLFULL]:qs[Ls.COERCERTL],c;for(;(c=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",o=r[4]||"0",i=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return i_(`${n}.${s}.${o}${i}${a}`,e)};Np.exports=a_});var Mp=h((bI,Lp)=>{"use strict";var Wa=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}};Lp.exports=Wa});var Qe=h((wI,Gp)=>{"use strict";var u_=/\s+/g,Ka=class t{constructor(e,r){if(r=l_(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Ja)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(u_," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!Up(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&D_(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&h_)|(this.options.loose&&g_))+":"+e,s=Bp.get(n);if(s)return s;let o=this.options.loose,i=o?Pe[Ce.HYPHENRANGELOOSE]:Pe[Ce.HYPHENRANGE];e=e.replace(i,O_(this.options.includePrerelease)),ne("hyphen replace",e),e=e.replace(Pe[Ce.COMPARATORTRIM],f_),ne("comparator trim",e),e=e.replace(Pe[Ce.TILDETRIM],p_),ne("tilde trim",e),e=e.replace(Pe[Ce.CARETTRIM],m_),ne("caret trim",e);let a=e.split(" ").map(d=>y_(d,this.options)).join(" ").split(/\s+/).map(d=>S_(d,this.options));o&&(a=a.filter(d=>(ne("loose invalid filter",d,this.options),!!d.match(Pe[Ce.COMPARATORLOOSE])))),ne("range list",a);let u=new Map,c=a.map(d=>new Ja(d,this.options));for(let d of c){if(Up(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let l=[...u.values()];return Bp.set(n,l),l}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Vp(n,r)&&e.set.some(s=>Vp(s,r)&&n.every(o=>s.every(i=>o.intersects(i,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new d_(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(I_(this.set[r],e,this.options))return!0;return!1}};Gp.exports=Ka;var c_=Mp(),Bp=new c_,l_=As(),Ja=Sn(),ne=_n(),d_=_e(),{safeRe:Pe,t:Ce,comparatorTrimReplace:f_,tildeTrimReplace:p_,caretTrimReplace:m_}=Or(),{FLAG_INCLUDE_PRERELEASE:h_,FLAG_LOOSE:g_}=wn(),Up=t=>t.value==="<0.0.0-0",D_=t=>t.value==="",Vp=(t,e)=>{let r=!0,n=t.slice(),s=n.pop();for(;r&&n.length;)r=n.every(o=>s.intersects(o,e)),s=n.pop();return r},y_=(t,e)=>(t=t.replace(Pe[Ce.BUILD],""),ne("comp",t,e),t=$_(t,e),ne("caret",t),t=E_(t,e),ne("tildes",t),t=w_(t,e),ne("xrange",t),t=C_(t,e),ne("stars",t),t),Te=t=>!t||t.toLowerCase()==="x"||t==="*",E_=(t,e)=>t.trim().split(/\s+/).map(r=>v_(r,e)).join(" "),v_=(t,e)=>{let r=e.loose?Pe[Ce.TILDELOOSE]:Pe[Ce.TILDE];return t.replace(r,(n,s,o,i,a)=>{ne("tilde",t,n,s,o,i,a);let u;return Te(s)?u="":Te(o)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:Te(i)?u=`>=${s}.${o}.0 <${s}.${+o+1}.0-0`:a?(ne("replaceTilde pr",a),u=`>=${s}.${o}.${i}-${a} <${s}.${+o+1}.0-0`):u=`>=${s}.${o}.${i} <${s}.${+o+1}.0-0`,ne("tilde return",u),u})},$_=(t,e)=>t.trim().split(/\s+/).map(r=>b_(r,e)).join(" "),b_=(t,e)=>{ne("caret",t,e);let r=e.loose?Pe[Ce.CARETLOOSE]:Pe[Ce.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(s,o,i,a,u)=>{ne("caret",t,s,o,i,a,u);let c;return Te(o)?c="":Te(i)?c=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Te(a)?o==="0"?c=`>=${o}.${i}.0${n} <${o}.${+i+1}.0-0`:c=`>=${o}.${i}.0${n} <${+o+1}.0.0-0`:u?(ne("replaceCaret pr",u),o==="0"?i==="0"?c=`>=${o}.${i}.${a}-${u} <${o}.${i}.${+a+1}-0`:c=`>=${o}.${i}.${a}-${u} <${o}.${+i+1}.0-0`:c=`>=${o}.${i}.${a}-${u} <${+o+1}.0.0-0`):(ne("no pr"),o==="0"?i==="0"?c=`>=${o}.${i}.${a}${n} <${o}.${i}.${+a+1}-0`:c=`>=${o}.${i}.${a}${n} <${o}.${+i+1}.0-0`:c=`>=${o}.${i}.${a} <${+o+1}.0.0-0`),ne("caret return",c),c})},w_=(t,e)=>(ne("replaceXRanges",t,e),t.split(/\s+/).map(r=>__(r,e)).join(" ")),__=(t,e)=>{t=t.trim();let r=e.loose?Pe[Ce.XRANGELOOSE]:Pe[Ce.XRANGE];return t.replace(r,(n,s,o,i,a,u)=>{ne("xRange",t,n,s,o,i,a,u);let c=Te(o),l=c||Te(i),d=l||Te(a),p=d;return s==="="&&p&&(s=""),u=e.includePrerelease?"-0":"",c?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&p?(l&&(i=0),a=0,s===">"?(s=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):s==="<="&&(s="<",l?o=+o+1:i=+i+1),s==="<"&&(u="-0"),n=`${s+o}.${i}.${a}${u}`):l?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${i}.0${u} <${o}.${+i+1}.0-0`),ne("xRange return",n),n})},C_=(t,e)=>(ne("replaceStars",t,e),t.trim().replace(Pe[Ce.STAR],"")),S_=(t,e)=>(ne("replaceGTE0",t,e),t.trim().replace(Pe[e.includePrerelease?Ce.GTE0PRE:Ce.GTE0],"")),O_=t=>(e,r,n,s,o,i,a,u,c,l,d,p)=>(Te(n)?r="":Te(s)?r=`>=${n}.0.0${t?"-0":""}`:Te(o)?r=`>=${n}.${s}.0${t?"-0":""}`:i?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Te(c)?u="":Te(l)?u=`<${+c+1}.0.0-0`:Te(d)?u=`<${c}.${+l+1}.0-0`:p?u=`<=${c}.${l}.${d}-${p}`:t?u=`<${c}.${l}.${+d+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),I_=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(ne(t[n].semver),t[n].semver!==Ja.ANY&&t[n].semver.prerelease.length>0){let s=t[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Sn=h((_I,Xp)=>{"use strict";var On=Symbol("SemVer ANY"),Qa=class t{static get ANY(){return On}constructor(e,r){if(r=zp(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Ya("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===On?this.value="":this.value=this.operator+this.semver.version,Ya("comp",this)}parse(e){let r=this.options.loose?Hp[Wp.COMPARATORLOOSE]:Hp[Wp.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Kp(n[2],this.options.loose):this.semver=On}toString(){return this.value}test(e){if(Ya("Comparator.test",e,this.options.loose),this.semver===On||e===On)return!0;if(typeof e=="string")try{e=new Kp(e,this.options)}catch{return!1}return Xa(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Jp(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Jp(this.value,r).test(e.semver):(r=zp(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Xa(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Xa(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Xp.exports=Qa;var zp=As(),{safeRe:Hp,t:Wp}=Or(),Xa=Ha(),Ya=_n(),Kp=_e(),Jp=Qe()});var In=h((CI,Yp)=>{"use strict";var A_=Qe(),F_=(t,e,r)=>{try{e=new A_(e,r)}catch{return!1}return e.test(t)};Yp.exports=F_});var Zp=h((SI,Qp)=>{"use strict";var x_=Qe(),P_=(t,e)=>new x_(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Qp.exports=P_});var tm=h((OI,em)=>{"use strict";var T_=_e(),j_=Qe(),R_=(t,e,r)=>{let n=null,s=null,o=null;try{o=new j_(e,r)}catch{return null}return t.forEach(i=>{o.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new T_(n,r))}),n};em.exports=R_});var nm=h((II,rm)=>{"use strict";var k_=_e(),N_=Qe(),q_=(t,e,r)=>{let n=null,s=null,o=null;try{o=new N_(e,r)}catch{return null}return t.forEach(i=>{o.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new k_(n,r))}),n};rm.exports=q_});var im=h((AI,om)=>{"use strict";var Za=_e(),L_=Qe(),sm=Cn(),M_=(t,e)=>{t=new L_(t,e);let r=new Za("0.0.0");if(t.test(r)||(r=new Za("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let s=t.set[n],o=null;s.forEach(i=>{let a=new Za(i.semver.version);switch(i.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||sm(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),o&&(!r||sm(r,o))&&(r=o)}return r&&t.test(r)?r:null};om.exports=M_});var um=h((FI,am)=>{"use strict";var B_=Qe(),U_=(t,e)=>{try{return new B_(t,e).range||"*"}catch{return null}};am.exports=U_});var Ms=h((xI,fm)=>{"use strict";var V_=_e(),dm=Sn(),{ANY:G_}=dm,z_=Qe(),H_=In(),cm=Cn(),lm=Rs(),W_=Ns(),K_=ks(),J_=(t,e,r,n)=>{t=new V_(t,n),e=new z_(e,n);let s,o,i,a,u;switch(r){case">":s=cm,o=W_,i=lm,a=">",u=">=";break;case"<":s=lm,o=K_,i=cm,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(H_(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let l=e.set[c],d=null,p=null;if(l.forEach(f=>{f.semver===G_&&(f=new dm(">=0.0.0")),d=d||f,p=p||f,s(f.semver,d.semver,n)?d=f:i(f.semver,p.semver,n)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(t,p.semver))return!1;if(p.operator===u&&i(t,p.semver))return!1}return!0};fm.exports=J_});var mm=h((PI,pm)=>{"use strict";var X_=Ms(),Y_=(t,e,r)=>X_(t,e,">",r);pm.exports=Y_});var gm=h((TI,hm)=>{"use strict";var Q_=Ms(),Z_=(t,e,r)=>Q_(t,e,"<",r);hm.exports=Z_});var Em=h((jI,ym)=>{"use strict";var Dm=Qe(),e1=(t,e,r)=>(t=new Dm(t,r),e=new Dm(e,r),t.intersects(e,r));ym.exports=e1});var $m=h((RI,vm)=>{"use strict";var t1=In(),r1=Ye();vm.exports=(t,e,r)=>{let n=[],s=null,o=null,i=t.sort((l,d)=>r1(l,d,r));for(let l of i)t1(l,e,r)?(o=l,s||(s=l)):(o&&n.push([s,o]),o=null,s=null);s&&n.push([s,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===i[0]?a.push("*"):d?l===i[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var Om=h((kI,Sm)=>{"use strict";var bm=Qe(),tu=Sn(),{ANY:eu}=tu,An=In(),ru=Ye(),n1=(t,e,r={})=>{if(t===e)return!0;t=new bm(t,r),e=new bm(e,r);let n=!1;e:for(let s of t.set){for(let o of e.set){let i=o1(s,o,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},s1=[new tu(">=0.0.0-0")],wm=[new tu(">=0.0.0")],o1=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===eu){if(e.length===1&&e[0].semver===eu)return!0;r.includePrerelease?t=s1:t=wm}if(e.length===1&&e[0].semver===eu){if(r.includePrerelease)return!0;e=wm}let n=new Set,s,o;for(let f of t)f.operator===">"||f.operator===">="?s=_m(s,f,r):f.operator==="<"||f.operator==="<="?o=Cm(o,f,r):n.add(f.semver);if(n.size>1)return null;let i;if(s&&o){if(i=ru(s.semver,o.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||o.operator!=="<="))return null}for(let f of n){if(s&&!An(f,String(s),r)||o&&!An(f,String(o),r))return null;for(let m of e)if(!An(f,String(m),r))return!1;return!0}let a,u,c,l,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,p=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of e){if(l=l||f.operator===">"||f.operator===">=",c=c||f.operator==="<"||f.operator==="<=",s){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=_m(s,f,r),a===f&&a!==s)return!1}else if(s.operator===">="&&!An(s.semver,String(f),r))return!1}if(o){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(u=Cm(o,f,r),u===f&&u!==o)return!1}else if(o.operator==="<="&&!An(o.semver,String(f),r))return!1}if(!f.operator&&(o||s)&&i!==0)return!1}return!(s&&c&&!o&&i!==0||o&&l&&!s&&i!==0||p||d)},_m=(t,e,r)=>{if(!t)return e;let n=ru(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Cm=(t,e,r)=>{if(!t)return e;let n=ru(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Sm.exports=n1});var xm=h((NI,Fm)=>{"use strict";var nu=Or(),Im=wn(),i1=_e(),Am=Ba(),a1=tr(),u1=tp(),c1=np(),l1=ip(),d1=cp(),f1=dp(),p1=pp(),m1=hp(),h1=Dp(),g1=Ye(),D1=$p(),y1=wp(),E1=js(),v1=Op(),$1=Ap(),b1=Cn(),w1=Rs(),_1=Ga(),C1=za(),S1=ks(),O1=Ns(),I1=Ha(),A1=qp(),F1=Sn(),x1=Qe(),P1=In(),T1=Zp(),j1=tm(),R1=nm(),k1=im(),N1=um(),q1=Ms(),L1=mm(),M1=gm(),B1=Em(),U1=$m(),V1=Om();Fm.exports={parse:a1,valid:u1,clean:c1,inc:l1,diff:d1,major:f1,minor:p1,patch:m1,prerelease:h1,compare:g1,rcompare:D1,compareLoose:y1,compareBuild:E1,sort:v1,rsort:$1,gt:b1,lt:w1,eq:_1,neq:C1,gte:S1,lte:O1,cmp:I1,coerce:A1,Comparator:F1,Range:x1,satisfies:P1,toComparators:T1,maxSatisfying:j1,minSatisfying:R1,minVersion:k1,validRange:N1,outside:q1,gtr:L1,ltr:M1,intersects:B1,simplifyRange:U1,subset:V1,SemVer:i1,re:nu.re,src:nu.src,tokens:nu.t,SEMVER_SPEC_VERSION:Im.SEMVER_SPEC_VERSION,RELEASE_TYPES:Im.RELEASE_TYPES,compareIdentifiers:Am.compareIdentifiers,rcompareIdentifiers:Am.rcompareIdentifiers}});var Tm=h((qI,su)=>{"use strict";var Pm=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};su.exports=Pm;su.exports.default=Pm});var Rm=h((LI,Us)=>{"use strict";var G1=Tm(),Bs=new WeakMap,jm=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,s=t.displayName||t.name||"<anonymous>",o=function(...i){if(Bs.set(o,++n),n===1)r=t.apply(this,i),t=null;else if(e.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return G1(o,t),Bs.set(o,n),o};Us.exports=jm;Us.exports.default=jm;Us.exports.callCount=t=>{if(!Bs.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Bs.get(t)}});var qm=h((nr,zs)=>{"use strict";var Vs=nr&&nr.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},se=nr&&nr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ou,iu,rr,ht,Ze,qt;Object.defineProperty(nr,"__esModule",{value:!0});var z1=require("util"),Lt=require("fs"),cu=require("path"),Ir=require("crypto"),H1=require("assert"),W1=require("events"),Fn=Dc(),K1=Tc(),J1=kc(),X1=el(),Y1=Pa(),Q1=qf(),km=Uf(),Ar=xm(),Z1=Rm(),au="aes-256-cbc",Fr=()=>Object.create(null),eC=t=>t!=null,Nm="";try{delete require.cache[__filename],Nm=cu.dirname((iu=(ou=zs.parent)===null||ou===void 0?void 0:ou.filename)!==null&&iu!==void 0?iu:".")}catch{}var tC=(t,e)=>{let r=new Set(["undefined","symbol","function"]),n=typeof e;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${t}\` is not allowed as it's not supported by JSON`)},Gs="__internal__",uu=`${Gs}.migrations.version`,xn=class{constructor(e={}){var r;rr.set(this,void 0),ht.set(this,void 0),Ze.set(this,void 0),qt.set(this,{}),this._deserialize=u=>JSON.parse(u),this._serialize=u=>JSON.stringify(u,void 0,"	");let n={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...e},s=Z1(()=>{let u=K1.sync({cwd:Nm}),c=u&&JSON.parse(Lt.readFileSync(u,"utf8"));return c??{}});if(!n.cwd){if(n.projectName||(n.projectName=s().name),!n.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");n.cwd=J1(n.projectName,{suffix:n.projectSuffix}).config}if(Vs(this,Ze,n,"f"),n.schema){if(typeof n.schema!="object")throw new TypeError("The `schema` option must be an object.");let u=new Y1.default({allErrors:!0,useDefaults:!0});(0,Q1.default)(u);let c={type:"object",properties:n.schema};Vs(this,rr,u.compile(c),"f");for(let[l,d]of Object.entries(n.schema))d?.default&&(se(this,qt,"f")[l]=d.default)}n.defaults&&Vs(this,qt,{...se(this,qt,"f"),...n.defaults},"f"),n.serialize&&(this._serialize=n.serialize),n.deserialize&&(this._deserialize=n.deserialize),this.events=new W1.EventEmitter,Vs(this,ht,n.encryptionKey,"f");let o=n.fileExtension?`.${n.fileExtension}`:"";this.path=cu.resolve(n.cwd,`${(r=n.configName)!==null&&r!==void 0?r:"config"}${o}`);let i=this.store,a=Object.assign(Fr(),n.defaults,i);this._validate(a);try{H1.deepEqual(i,a)}catch{this.store=a}if(n.watch&&this._watch(),n.migrations){if(n.projectVersion||(n.projectVersion=s().version),!n.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(n.migrations,n.projectVersion,n.beforeEachMigration)}}get(e,r){if(se(this,Ze,"f").accessPropertiesByDotNotation)return this._get(e,r);let{store:n}=this;return e in n?n[e]:r}set(e,r){if(typeof e!="string"&&typeof e!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof e}`);if(typeof e!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(e))throw new TypeError(`Please don't use the ${Gs} key, as it's used to manage this module internal operations.`);let{store:n}=this,s=(o,i)=>{tC(o,i),se(this,Ze,"f").accessPropertiesByDotNotation?Fn.set(n,o,i):n[o]=i};if(typeof e=="object"){let o=e;for(let[i,a]of Object.entries(o))s(i,a)}else s(e,r);this.store=n}has(e){return se(this,Ze,"f").accessPropertiesByDotNotation?Fn.has(this.store,e):e in this.store}reset(...e){for(let r of e)eC(se(this,qt,"f")[r])&&this.set(r,se(this,qt,"f")[r])}delete(e){let{store:r}=this;se(this,Ze,"f").accessPropertiesByDotNotation?Fn.delete(r,e):delete r[e],this.store=r}clear(){this.store=Fr();for(let e of Object.keys(se(this,qt,"f")))this.reset(e)}onDidChange(e,r){if(typeof e!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof e}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleChange(()=>this.get(e),r)}onDidAnyChange(e){if(typeof e!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof e}`);return this._handleChange(()=>this.store,e)}get size(){return Object.keys(this.store).length}get store(){try{let e=Lt.readFileSync(this.path,se(this,ht,"f")?null:"utf8"),r=this._encryptData(e),n=this._deserialize(r);return this._validate(n),Object.assign(Fr(),n)}catch(e){if(e?.code==="ENOENT")return this._ensureDirectory(),Fr();if(se(this,Ze,"f").clearInvalidConfig&&e.name==="SyntaxError")return Fr();throw e}}set store(e){this._ensureDirectory(),this._validate(e),this._write(e),this.events.emit("change")}*[(rr=new WeakMap,ht=new WeakMap,Ze=new WeakMap,qt=new WeakMap,Symbol.iterator)](){for(let[e,r]of Object.entries(this.store))yield[e,r]}_encryptData(e){if(!se(this,ht,"f"))return e.toString();try{if(se(this,ht,"f"))try{if(e.slice(16,17).toString()===":"){let r=e.slice(0,16),n=Ir.pbkdf2Sync(se(this,ht,"f"),r.toString(),1e4,32,"sha512"),s=Ir.createDecipheriv(au,n,r);e=Buffer.concat([s.update(Buffer.from(e.slice(17))),s.final()]).toString("utf8")}else{let r=Ir.createDecipher(au,se(this,ht,"f"));e=Buffer.concat([r.update(Buffer.from(e)),r.final()]).toString("utf8")}}catch{}}catch{}return e.toString()}_handleChange(e,r){let n=e(),s=()=>{let o=n,i=e();(0,z1.isDeepStrictEqual)(i,o)||(n=i,r.call(this,i,o))};return this.events.on("change",s),()=>this.events.removeListener("change",s)}_validate(e){if(!se(this,rr,"f")||se(this,rr,"f").call(this,e)||!se(this,rr,"f").errors)return;let n=se(this,rr,"f").errors.map(({instancePath:s,message:o=""})=>`\`${s.slice(1)}\` ${o}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){Lt.mkdirSync(cu.dirname(this.path),{recursive:!0})}_write(e){let r=this._serialize(e);if(se(this,ht,"f")){let n=Ir.randomBytes(16),s=Ir.pbkdf2Sync(se(this,ht,"f"),n.toString(),1e4,32,"sha512"),o=Ir.createCipheriv(au,s,n);r=Buffer.concat([n,Buffer.from(":"),o.update(Buffer.from(r)),o.final()])}if(process.env.SNAP)Lt.writeFileSync(this.path,r,{mode:se(this,Ze,"f").configFileMode});else try{X1.writeFileSync(this.path,r,{mode:se(this,Ze,"f").configFileMode})}catch(n){if(n?.code==="EXDEV"){Lt.writeFileSync(this.path,r,{mode:se(this,Ze,"f").configFileMode});return}throw n}}_watch(){this._ensureDirectory(),Lt.existsSync(this.path)||this._write(Fr()),process.platform==="win32"?Lt.watch(this.path,{persistent:!1},km(()=>{this.events.emit("change")},{wait:100})):Lt.watchFile(this.path,{persistent:!1},km(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(e,r,n){let s=this._get(uu,"0.0.0"),o=Object.keys(e).filter(a=>this._shouldPerformMigration(a,s,r)),i={...this.store};for(let a of o)try{n&&n(this,{fromVersion:s,toVersion:a,finalVersion:r,versions:o});let u=e[a];u(this),this._set(uu,a),s=a,i={...this.store}}catch(u){throw this.store=i,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${u}`)}(this._isVersionInRangeFormat(s)||!Ar.eq(s,r))&&this._set(uu,r)}_containsReservedKey(e){return typeof e=="object"&&Object.keys(e)[0]===Gs?!0:typeof e!="string"?!1:se(this,Ze,"f").accessPropertiesByDotNotation?!!e.startsWith(`${Gs}.`):!1}_isVersionInRangeFormat(e){return Ar.clean(e)===null}_shouldPerformMigration(e,r,n){return this._isVersionInRangeFormat(e)?r!=="0.0.0"&&Ar.satisfies(r,e)?!1:Ar.satisfies(n,e):!(Ar.lte(e,r)||Ar.gt(e,n))}_get(e,r){return Fn.get(this.store,e,r)}_set(e,r){let{store:n}=this;Fn.set(n,e,r),this.store=n}};nr.default=xn;zs.exports=xn;zs.exports.default=xn});var Xm=h((zI,Jm)=>{"use strict";Jm.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var pu=h((HI,Qm)=>{var jn=Xm(),Ym={};for(let t of Object.keys(jn))Ym[jn[t]]=t;var w={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Qm.exports=w;for(let t of Object.keys(w)){if(!("channels"in w[t]))throw new Error("missing channels property: "+t);if(!("labels"in w[t]))throw new Error("missing channel labels property: "+t);if(w[t].labels.length!==w[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=w[t];delete w[t].channels,delete w[t].labels,Object.defineProperty(w[t],"channels",{value:e}),Object.defineProperty(w[t],"labels",{value:r})}w.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(e,r,n),o=Math.max(e,r,n),i=o-s,a,u;o===s?a=0:e===o?a=(r-n)/i:r===o?a=2+(n-e)/i:n===o&&(a=4+(e-r)/i),a=Math.min(a*60,360),a<0&&(a+=360);let c=(s+o)/2;return o===s?u=0:c<=.5?u=i/(o+s):u=i/(2-o-s),[a,u*100,c*100]};w.rgb.hsv=function(t){let e,r,n,s,o,i=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(i,a,u),l=c-Math.min(i,a,u),d=function(p){return(c-p)/6/l+1/2};return l===0?(s=0,o=0):(o=l/c,e=d(i),r=d(a),n=d(u),i===c?s=n-r:a===c?s=1/3+e-n:u===c&&(s=2/3+r-e),s<0?s+=1:s>1&&(s-=1)),[s*360,o*100,c*100]};w.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],s=w.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[s,o*100,n*100]};w.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(1-e,1-r,1-n),o=(1-e-s)/(1-s)||0,i=(1-r-s)/(1-s)||0,a=(1-n-s)/(1-s)||0;return[o*100,i*100,a*100,s*100]};function iC(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}w.rgb.keyword=function(t){let e=Ym[t];if(e)return e;let r=1/0,n;for(let s of Object.keys(jn)){let o=jn[s],i=iC(t,o);i<r&&(r=i,n=s)}return n};w.keyword.rgb=function(t){return jn[t]};w.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let s=e*.4124+r*.3576+n*.1805,o=e*.2126+r*.7152+n*.0722,i=e*.0193+r*.1192+n*.9505;return[s*100,o*100,i*100]};w.rgb.lab=function(t){let e=w.rgb.xyz(t),r=e[0],n=e[1],s=e[2];r/=95.047,n/=100,s/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let o=116*n-16,i=500*(r-n),a=200*(n-s);return[o,i,a]};w.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,s,o,i;if(r===0)return i=n*255,[i,i,i];n<.5?s=n*(1+r):s=n+r-n*r;let a=2*n-s,u=[0,0,0];for(let c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?i=a+(s-a)*6*o:2*o<1?i=s:3*o<2?i=a+(s-a)*(2/3-o)*6:i=a,u[c]=i*255;return u};w.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,s=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,s*=o<=1?o:2-o;let i=(n+r)/2,a=n===0?2*s/(o+s):2*r/(n+r);return[e,a*100,i*100]};w.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,s=Math.floor(e)%6,o=e-Math.floor(e),i=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,s){case 0:return[n,u,i];case 1:return[a,n,i];case 2:return[i,n,u];case 3:return[i,a,n];case 4:return[u,i,n];case 5:return[n,i,a]}};w.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,s=Math.max(n,.01),o,i;i=(2-r)*n;let a=(2-r)*s;return o=r*s,o/=a<=1?a:2-a,o=o||0,i/=2,[e,o*100,i*100]};w.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,s=r+n,o;s>1&&(r/=s,n/=s);let i=Math.floor(6*e),a=1-n;o=6*e-i,(i&1)!==0&&(o=1-o);let u=r+o*(a-r),c,l,d;switch(i){default:case 6:case 0:c=a,l=u,d=r;break;case 1:c=u,l=a,d=r;break;case 2:c=r,l=a,d=u;break;case 3:c=r,l=u,d=a;break;case 4:c=u,l=r,d=a;break;case 5:c=a,l=r,d=u;break}return[c*255,l*255,d*255]};w.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,s=t[3]/100,o=1-Math.min(1,e*(1-s)+s),i=1-Math.min(1,r*(1-s)+s),a=1-Math.min(1,n*(1-s)+s);return[o*255,i*255,a*255]};w.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,s,o,i;return s=e*3.2406+r*-1.5372+n*-.4986,o=e*-.9689+r*1.8758+n*.0415,i=e*.0557+r*-.204+n*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),[s*255,o*255,i*255]};w.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let s=116*r-16,o=500*(e-r),i=200*(r-n);return[s,o,i]};w.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],s,o,i;o=(e+16)/116,s=r/500+o,i=o-n/200;let a=o**3,u=s**3,c=i**3;return o=a>.008856?a:(o-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,s*=95.047,o*=100,i*=108.883,[s,o,i]};w.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],s;s=Math.atan2(n,r)*360/2/Math.PI,s<0&&(s+=360);let i=Math.sqrt(r*r+n*n);return[e,i,s]};w.lch.lab=function(t){let e=t[0],r=t[1],s=t[2]/360*2*Math.PI,o=r*Math.cos(s),i=r*Math.sin(s);return[e,o,i]};w.rgb.ansi16=function(t,e=null){let[r,n,s]=t,o=e===null?w.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let i=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(i+=60),i};w.hsv.ansi16=function(t){return w.rgb.ansi16(w.hsv.rgb(t),t[2])};w.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};w.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,s=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,s,o]};w.ansi256.rgb=function(t){if(t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[r,n,s]};w.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};w.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),s=n>>16&255,o=n>>8&255,i=n&255;return[s,o,i]};w.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),i=s-o,a,u;return i<1?a=o/(1-i):a=0,i<=0?u=0:s===e?u=(r-n)/i%6:s===r?u=2+(n-e)/i:u=4+(e-r)/i,u/=6,u%=1,[u*360,i*100,a*100]};w.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),s=0;return n<1&&(s=(r-.5*n)/(1-n)),[t[0],n*100,s*100]};w.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,s=0;return n<1&&(s=(r-n)/(1-n)),[t[0],n*100,s*100]};w.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let s=[0,0,0],o=e%1*6,i=o%1,a=1-i,u=0;switch(Math.floor(o)){case 0:s[0]=1,s[1]=i,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=i;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=i,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return u=(1-r)*n,[(r*s[0]+u)*255,(r*s[1]+u)*255,(r*s[2]+u)*255]};w.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),s=0;return n>0&&(s=e/n),[t[0],s*100,n*100]};w.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,s=0;return n>0&&n<.5?s=e/(2*n):n>=.5&&n<1&&(s=e/(2*(1-n))),[t[0],s*100,n*100]};w.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};w.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,s=n-e,o=0;return s<1&&(o=(n-s)/(1-s)),[t[0],s*100,o*100]};w.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};w.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};w.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};w.gray.hsl=function(t){return[0,0,t[0]]};w.gray.hsv=w.gray.hsl;w.gray.hwb=function(t){return[0,100,t[0]]};w.gray.cmyk=function(t){return[0,0,0,t[0]]};w.gray.lab=function(t){return[t[0],0,0]};w.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};w.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var eh=h((WI,Zm)=>{var Xs=pu();function aC(){let t={},e=Object.keys(Xs);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function uC(t){let e=aC(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),s=Object.keys(Xs[n]);for(let o=s.length,i=0;i<o;i++){let a=s[i],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}}return e}function cC(t,e){return function(r){return e(t(r))}}function lC(t,e){let r=[e[t].parent,t],n=Xs[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)r.unshift(e[s].parent),n=cC(Xs[e[s].parent][s],n),s=e[s].parent;return n.conversion=r,n}Zm.exports=function(t){let e=uC(t),r={},n=Object.keys(e);for(let s=n.length,o=0;o<s;o++){let i=n[o];e[i].parent!==null&&(r[i]=lC(i,e))}return r}});var rh=h((KI,th)=>{var mu=pu(),dC=eh(),jr={},fC=Object.keys(mu);function pC(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function mC(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let s=t(r);if(typeof s=="object")for(let o=s.length,i=0;i<o;i++)s[i]=Math.round(s[i]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}fC.forEach(t=>{jr[t]={},Object.defineProperty(jr[t],"channels",{value:mu[t].channels}),Object.defineProperty(jr[t],"labels",{value:mu[t].labels});let e=dC(t);Object.keys(e).forEach(n=>{let s=e[n];jr[t][n]=mC(s),jr[t][n].raw=pC(s)})});th.exports=jr});var uh=h((JI,ah)=>{"use strict";var nh=(t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,sh=(t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},oh=(t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},Ys=t=>t,ih=(t,e,r)=>[t,e,r],Rr=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},hu,kr=(t,e,r,n)=>{hu===void 0&&(hu=rh());let s=n?10:0,o={};for(let[i,a]of Object.entries(hu)){let u=i==="ansi16"?"ansi":i;i===e?o[u]=t(r,s):typeof a=="object"&&(o[u]=t(a[e],s))}return o};function hC(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[s,o]of Object.entries(n))e[s]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},n[s]=e[s],t.set(o[0],o[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",Rr(e.color,"ansi",()=>kr(nh,"ansi16",Ys,!1)),Rr(e.color,"ansi256",()=>kr(sh,"ansi256",Ys,!1)),Rr(e.color,"ansi16m",()=>kr(oh,"rgb",ih,!1)),Rr(e.bgColor,"ansi",()=>kr(nh,"ansi16",Ys,!0)),Rr(e.bgColor,"ansi256",()=>kr(sh,"ansi256",Ys,!0)),Rr(e.bgColor,"ansi16m",()=>kr(oh,"rgb",ih,!0)),e}Object.defineProperty(ah,"exports",{enumerable:!0,get:hC})});var lh=h((XI,ch)=>{"use strict";ch.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),s=e.indexOf("--");return n!==-1&&(s===-1||n<s)}});var ph=h((YI,fh)=>{"use strict";var gC=require("os"),dh=require("tty"),et=lh(),{env:fe}=process,Bt;et("no-color")||et("no-colors")||et("color=false")||et("color=never")?Bt=0:(et("color")||et("colors")||et("color=true")||et("color=always"))&&(Bt=1);"FORCE_COLOR"in fe&&(fe.FORCE_COLOR==="true"?Bt=1:fe.FORCE_COLOR==="false"?Bt=0:Bt=fe.FORCE_COLOR.length===0?1:Math.min(parseInt(fe.FORCE_COLOR,10),3));function gu(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Du(t,e){if(Bt===0)return 0;if(et("color=16m")||et("color=full")||et("color=truecolor"))return 3;if(et("color=256"))return 2;if(t&&!e&&Bt===void 0)return 0;let r=Bt||0;if(fe.TERM==="dumb")return r;if(process.platform==="win32"){let n=gC.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in fe)||fe.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(fe.TEAMCITY_VERSION)?1:0;if(fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in fe){let n=parseInt((fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(fe.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(fe.TERM)||"COLORTERM"in fe?1:r}function DC(t){let e=Du(t,t&&t.isTTY);return gu(e)}fh.exports={supportsColor:DC,stdout:gu(Du(!0,dh.isatty(1))),stderr:gu(Du(!0,dh.isatty(2)))}});var hh=h((QI,mh)=>{"use strict";var yC=(t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let s=e.length,o=0,i="";do i+=t.substr(o,n-o)+e+r,o=n+s,n=t.indexOf(e,o);while(n!==-1);return i+=t.substr(o),i},EC=(t,e,r,n)=>{let s=0,o="";do{let i=t[n-1]==="\r";o+=t.substr(s,(i?n-1:n)-s)+e+(i?`\r
`:`
`)+r,s=n+1,n=t.indexOf(`
`,s)}while(n!==-1);return o+=t.substr(s),o};mh.exports={stringReplaceAll:yC,stringEncaseCRLFWithFirstIndex:EC}});var vh=h((ZI,Eh)=>{"use strict";var vC=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,gh=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,$C=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,bC=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,wC=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function yh(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):wC.get(t)||t}function _C(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),s;for(let o of n){let i=Number(o);if(!Number.isNaN(i))r.push(i);else if(s=o.match($C))r.push(s[2].replace(bC,(a,u,c)=>u?yh(u):c));else throw new Error(`Invalid Chalk template style argument: ${o} (in style '${t}')`)}return r}function CC(t){gh.lastIndex=0;let e=[],r;for(;(r=gh.exec(t))!==null;){let n=r[1];if(r[2]){let s=_C(n,r[2]);e.push([n].concat(s))}else e.push([n])}return e}function Dh(t,e){let r={};for(let s of e)for(let o of s.styles)r[o[0]]=s.inverse?null:o.slice(1);let n=t;for(let[s,o]of Object.entries(r))if(Array.isArray(o)){if(!(s in n))throw new Error(`Unknown Chalk style: ${s}`);n=o.length>0?n[s](...o):n[s]}return n}Eh.exports=(t,e)=>{let r=[],n=[],s=[];if(e.replace(vC,(o,i,a,u,c,l)=>{if(i)s.push(yh(i));else if(u){let d=s.join("");s=[],n.push(r.length===0?d:Dh(t,r)(d)),r.push({inverse:a,styles:CC(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Dh(t,r)(s.join(""))),s=[],r.pop()}else s.push(l)}),n.push(s.join("")),r.length>0){let o=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(o)}return n.join("")}});var qr=h((eA,Sh)=>{"use strict";var Rn=uh(),{stdout:Eu,stderr:vu}=ph(),{stringReplaceAll:SC,stringEncaseCRLFWithFirstIndex:OC}=hh(),{isArray:Qs}=Array,bh=["ansi","ansi","ansi256","ansi16m"],Nr=Object.create(null),IC=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Eu?Eu.level:0;t.level=e.level===void 0?r:e.level},$u=class{constructor(e){return wh(e)}},wh=t=>{let e={};return IC(e,t),e.template=(...r)=>Ch(e.template,...r),Object.setPrototypeOf(e,Zs.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=$u,e.template};function Zs(t){return wh(t)}for(let[t,e]of Object.entries(Rn))Nr[t]={get(){let r=eo(this,bu(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};Nr.visible={get(){let t=eo(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var _h=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of _h)Nr[t]={get(){let{level:e}=this;return function(...r){let n=bu(Rn.color[bh[e]][t](...r),Rn.color.close,this._styler);return eo(this,n,this._isEmpty)}}};for(let t of _h){let e="bg"+t[0].toUpperCase()+t.slice(1);Nr[e]={get(){let{level:r}=this;return function(...n){let s=bu(Rn.bgColor[bh[r]][t](...n),Rn.bgColor.close,this._styler);return eo(this,s,this._isEmpty)}}}}var AC=Object.defineProperties(()=>{},{...Nr,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),bu=(t,e,r)=>{let n,s;return r===void 0?(n=t,s=e):(n=r.openAll+t,s=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:s,parent:r}},eo=(t,e,r)=>{let n=(...s)=>Qs(s[0])&&Qs(s[0].raw)?$h(n,Ch(n,...s)):$h(n,s.length===1?""+s[0]:s.join(" "));return Object.setPrototypeOf(n,AC),n._generator=t,n._styler=e,n._isEmpty=r,n},$h=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:s}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=SC(e,r.close,r.open),r=r.parent;let o=e.indexOf(`
`);return o!==-1&&(e=OC(e,s,n,o)),n+e+s},yu,Ch=(t,...e)=>{let[r]=e;if(!Qs(r)||!Qs(r.raw))return e.join(" ");let n=e.slice(1),s=[r.raw[0]];for(let o=1;o<r.length;o++)s.push(String(n[o-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[o]));return yu===void 0&&(yu=vh()),yu(t,s.join(""))};Object.defineProperties(Zs.prototype,Nr);var to=Zs();to.supportsColor=Eu;to.stderr=Zs({level:vu?vu.level:0});to.stderr.supportsColor=vu;Sh.exports=to});var ro=h((tA,Ih)=>{var wu=[],Oh=0,Oe=(t,e)=>{Oh>=e&&wu.push(t)};Oe.WARN=1;Oe.INFO=2;Oe.DEBUG=3;Oe.reset=()=>{wu=[]};Oe.setDebugLevel=t=>{Oh=t};Oe.warn=t=>Oe(t,Oe.WARN);Oe.info=t=>Oe(t,Oe.INFO);Oe.debug=t=>Oe(t,Oe.DEBUG);Oe.debugMessages=()=>wu;Ih.exports=Oe});var Fh=h((rA,Ah)=>{"use strict";Ah.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var Ph=h((nA,xh)=>{"use strict";var FC=Fh();xh.exports=t=>typeof t=="string"?t.replace(FC(),""):t});var jh=h((sA,_u)=>{"use strict";var Th=t=>Number.isNaN(t)?!1:t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);_u.exports=Th;_u.exports.default=Th});var kh=h((oA,Rh)=>{"use strict";Rh.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var qh=h((iA,Cu)=>{"use strict";var xC=Ph(),PC=jh(),TC=kh(),Nh=t=>{if(typeof t!="string"||t.length===0||(t=xC(t),t.length===0))return 0;t=t.replace(TC(),"  ");let e=0;for(let r=0;r<t.length;r++){let n=t.codePointAt(r);n<=31||n>=127&&n<=159||n>=768&&n<=879||(n>65535&&r++,e+=PC(n)?2:1)}return e};Cu.exports=Nh;Cu.exports.default=Nh});var Su=h((aA,Uh)=>{var Lh=qh();function no(t){return t?/\u001b\[((?:\d*;){0,5}\d*)m/g:/\u001b\[(?:\d*;){0,5}\d*m/g}function gt(t){let e=no();return(""+t).replace(e,"").split(`
`).reduce(function(s,o){return Lh(o)>s?Lh(o):s},0)}function kn(t,e){return Array(e+1).join(t)}function jC(t,e,r,n){let s=gt(t);if(e+1>=s){let o=e-s;switch(n){case"right":{t=kn(r,o)+t;break}case"center":{let i=Math.ceil(o/2),a=o-i;t=kn(r,a)+t+kn(r,i);break}default:{t=t+kn(r,o);break}}}return t}var Lr={};function Nn(t,e,r){e="\x1B["+e+"m",r="\x1B["+r+"m",Lr[e]={set:t,to:!0},Lr[r]={set:t,to:!1},Lr[t]={on:e,off:r}}Nn("bold",1,22);Nn("italics",3,23);Nn("underline",4,24);Nn("inverse",7,27);Nn("strikethrough",9,29);function Mh(t,e){let r=e[1]?parseInt(e[1].split(";")[0]):0;if(r>=30&&r<=39||r>=90&&r<=97){t.lastForegroundAdded=e[0];return}if(r>=40&&r<=49||r>=100&&r<=107){t.lastBackgroundAdded=e[0];return}if(r===0){for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&delete t[s];return}let n=Lr[e[0]];n&&(t[n.set]=n.to)}function RC(t){let e=no(!0),r=e.exec(t),n={};for(;r!==null;)Mh(n,r),r=e.exec(t);return n}function Bh(t,e){let r=t.lastBackgroundAdded,n=t.lastForegroundAdded;return delete t.lastBackgroundAdded,delete t.lastForegroundAdded,Object.keys(t).forEach(function(s){t[s]&&(e+=Lr[s].off)}),r&&r!="\x1B[49m"&&(e+="\x1B[49m"),n&&n!="\x1B[39m"&&(e+="\x1B[39m"),e}function kC(t,e){let r=t.lastBackgroundAdded,n=t.lastForegroundAdded;return delete t.lastBackgroundAdded,delete t.lastForegroundAdded,Object.keys(t).forEach(function(s){t[s]&&(e=Lr[s].on+e)}),r&&r!="\x1B[49m"&&(e=r+e),n&&n!="\x1B[39m"&&(e=n+e),e}function NC(t,e){if(t.length===gt(t))return t.substr(0,e);for(;gt(t)>e;)t=t.slice(0,-1);return t}function qC(t,e){let r=no(!0),n=t.split(no()),s=0,o=0,i="",a,u={};for(;o<e;){a=r.exec(t);let c=n[s];if(s++,o+gt(c)>e&&(c=NC(c,e-o)),i+=c,o+=gt(c),o<e){if(!a)break;i+=a[0],Mh(u,a)}}return Bh(u,i)}function LC(t,e,r){if(r=r||"\u2026",gt(t)<=e)return t;e-=gt(r);let s=qC(t,e);s+=r;let o="\x1B]8;;\x07";return t.includes(o)&&!s.includes(o)&&(s+=o),s}function MC(){return{chars:{top:"\u2500","top-mid":"\u252C","top-left":"\u250C","top-right":"\u2510",bottom:"\u2500","bottom-mid":"\u2534","bottom-left":"\u2514","bottom-right":"\u2518",left:"\u2502","left-mid":"\u251C",mid:"\u2500","mid-mid":"\u253C",right:"\u2502","right-mid":"\u2524",middle:"\u2502"},truncate:"\u2026",colWidths:[],rowHeights:[],colAligns:[],rowAligns:[],style:{"padding-left":1,"padding-right":1,head:["red"],border:["grey"],compact:!1},head:[]}}function BC(t,e){t=t||{},e=e||MC();let r=Object.assign({},e,t);return r.chars=Object.assign({},e.chars,t.chars),r.style=Object.assign({},e.style,t.style),r}function UC(t,e){let r=[],n=e.split(/(\s+)/g),s=[],o=0,i;for(let a=0;a<n.length;a+=2){let u=n[a],c=o+gt(u);o>0&&i&&(c+=i.length),c>t?(o!==0&&r.push(s.join("")),s=[u],o=gt(u)):(s.push(i||"",u),o=c),i=n[a+1]}return o&&r.push(s.join("")),r}function VC(t,e){let r=[],n="";function s(i,a){for(n.length&&a&&(n+=a),n+=i;n.length>t;)r.push(n.slice(0,t)),n=n.slice(t)}let o=e.split(/(\s+)/g);for(let i=0;i<o.length;i+=2)s(o[i],i&&o[i-1]);return n.length&&r.push(n),r}function GC(t,e,r=!0){let n=[];e=e.split(`
`);let s=r?UC:VC;for(let o=0;o<e.length;o++)n.push.apply(n,s(t,e[o]));return n}function zC(t){let e={},r=[];for(let n=0;n<t.length;n++){let s=kC(e,t[n]);e=RC(s);let o=Object.assign({},e);r.push(Bh(o,s))}return r}function HC(t,e){return["\x1B]","8",";",";",t||e,"\x07",e,"\x1B]","8",";",";","\x07"].join("")}Uh.exports={strlen:gt,repeat:kn,pad:jC,truncate:LC,mergeOptions:BC,wordWrap:GC,colorizeLines:zC,hyperlink:HC}});var Hh=h((uA,zh)=>{var Gh={};zh.exports=Gh;var Vh={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(Vh).forEach(function(t){var e=Vh[t],r=Gh[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var Kh=h((cA,Wh)=>{"use strict";Wh.exports=function(t,e){e=e||process.argv;var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",s=e.indexOf(n+t);return s!==-1&&(r===-1?!0:s<r)}});var Xh=h((lA,Jh)=>{"use strict";var WC=require("os"),at=Kh(),je=process.env,Mr=void 0;at("no-color")||at("no-colors")||at("color=false")?Mr=!1:(at("color")||at("colors")||at("color=true")||at("color=always"))&&(Mr=!0);"FORCE_COLOR"in je&&(Mr=je.FORCE_COLOR.length===0||parseInt(je.FORCE_COLOR,10)!==0);function KC(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function JC(t){if(Mr===!1)return 0;if(at("color=16m")||at("color=full")||at("color=truecolor"))return 3;if(at("color=256"))return 2;if(t&&!t.isTTY&&Mr!==!0)return 0;var e=Mr?1:0;if(process.platform==="win32"){var r=WC.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in je)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(s){return s in je})||je.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in je)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(je.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in je){var n=parseInt((je.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(je.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(je.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(je.TERM)||"COLORTERM"in je?1:(je.TERM==="dumb",e)}function Ou(t){var e=JC(t);return KC(e)}Jh.exports={supportsColor:Ou,stdout:Ou(process.stdout),stderr:Ou(process.stderr)}});var Qh=h((dA,Yh)=>{Yh.exports=function(e,r){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var s={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(o){o=o.toLowerCase();var i=s[o]||[" "],a=Math.floor(Math.random()*i.length);typeof s[o]<"u"?n+=s[o][a]:n+=o}),n}});var eg=h((fA,Zh)=>{Zh.exports=function(e,r){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},s=[].concat(n.up,n.down,n.mid);function o(u){var c=Math.floor(Math.random()*u);return c}function i(u){var c=!1;return s.filter(function(l){c=l===u}),c}function a(u,c){var l="",d,p;c=c||{},c.up=typeof c.up<"u"?c.up:!0,c.mid=typeof c.mid<"u"?c.mid:!0,c.down=typeof c.down<"u"?c.down:!0,c.size=typeof c.size<"u"?c.size:"maxi",u=u.split("");for(p in u)if(!i(p)){switch(l=l+u[p],d={up:0,down:0,mid:0},c.size){case"mini":d.up=o(8),d.mid=o(2),d.down=o(8);break;case"maxi":d.up=o(16)+3,d.mid=o(4)+1,d.down=o(64)+3;break;default:d.up=o(8)+1,d.mid=o(6)/2,d.down=o(8)+1;break}var f=["up","mid","down"];for(var m in f)for(var g=f[m],D=0;D<=d[g];D++)c[g]&&(l=l+n[g][o(n[g].length)])}return l}return a(e,r)}});var rg=h((pA,tg)=>{tg.exports=function(t){return function(e,r,n){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var sg=h((mA,ng)=>{ng.exports=function(t){return function(e,r,n){return r%2===0?e:t.inverse(e)}}});var ig=h((hA,og)=>{og.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,s){return r===" "?r:t[e[n++%e.length]](r)}}});var ug=h((gA,ag)=>{ag.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,s){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var mg=h((yA,pg)=>{var B={};pg.exports=B;B.themes={};var XC=require("util"),sr=B.styles=Hh(),lg=Object.defineProperties,YC=new RegExp(/[\r\n]+/g);B.supportsColor=Xh().supportsColor;typeof B.enabled>"u"&&(B.enabled=B.supportsColor()!==!1);B.enable=function(){B.enabled=!0};B.disable=function(){B.enabled=!1};B.stripColors=B.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var DA=B.stylize=function(e,r){if(!B.enabled)return e+"";var n=sr[r];return!n&&r in B?B[r](e):n.open+e+n.close},QC=/[|\\{}()[\]^$+*?.]/g,ZC=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(QC,"\\$&")};function dg(t){var e=function r(){return tS.apply(r,arguments)};return e._styles=t,e.__proto__=eS,e}var fg=(function(){var t={};return sr.grey=sr.gray,Object.keys(sr).forEach(function(e){sr[e].closeRe=new RegExp(ZC(sr[e].close),"g"),t[e]={get:function(){return dg(this._styles.concat(e))}}}),t})(),eS=lg(function(){},fg);function tS(){var t=Array.prototype.slice.call(arguments),e=t.map(function(i){return i!=null&&i.constructor===String?i:XC.inspect(i)}).join(" ");if(!B.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,n=this._styles,s=n.length;s--;){var o=sr[n[s]];e=o.open+e.replace(o.closeRe,o.open)+o.close,r&&(e=e.replace(YC,function(i){return o.close+i+o.open}))}return e}B.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){B[r]=function(n){if(typeof t[r]=="object"){var s=n;for(var o in t[r])s=B[t[r][o]](s);return s}return B[t[r]](n)}})(e)};function rS(){var t={};return Object.keys(fg).forEach(function(e){t[e]={get:function(){return dg([e])}}}),t}var nS=function(e,r){var n=r.split("");return n=n.map(e),n.join("")};B.trap=Qh();B.zalgo=eg();B.maps={};B.maps.america=rg()(B);B.maps.zebra=sg()(B);B.maps.rainbow=ig()(B);B.maps.random=ug()(B);for(cg in B.maps)(function(t){B[t]=function(e){return nS(B.maps[t],e)}})(cg);var cg;lg(B,rS())});var gg=h((EA,hg)=>{var sS=mg();hg.exports=sS});var vg=h((vA,so)=>{var{info:oS,debug:Eg}=ro(),ze=Su(),Au=class t{constructor(e){this.setOptions(e),this.x=null,this.y=null}setOptions(e){["boolean","number","bigint","string"].indexOf(typeof e)!==-1&&(e={content:""+e}),e=e||{},this.options=e;let r=e.content;if(["boolean","number","bigint","string"].indexOf(typeof r)!==-1)this.content=String(r);else if(!r)this.content=this.options.href||"";else throw new Error("Content needs to be a primitive, got: "+typeof r);this.colSpan=e.colSpan||1,this.rowSpan=e.rowSpan||1,this.options.href&&Object.defineProperty(this,"href",{get(){return this.options.href}})}mergeTableOptions(e,r){this.cells=r;let n=this.options.chars||{},s=e.chars,o=this.chars={};aS.forEach(function(u){Iu(n,s,u,o)}),this.truncate=this.options.truncate||e.truncate;let i=this.options.style=this.options.style||{},a=e.style;Iu(i,a,"padding-left",this),Iu(i,a,"padding-right",this),this.head=i.head||a.head,this.border=i.border||a.border,this.fixedWidth=e.colWidths[this.x],this.lines=this.computeLines(e),this.desiredWidth=ze.strlen(this.content)+this.paddingLeft+this.paddingRight,this.desiredHeight=this.lines.length}computeLines(e){let r=e.wordWrap||e.textWrap,{wordWrap:n=r}=this.options;if(this.fixedWidth&&n){if(this.fixedWidth-=this.paddingLeft+this.paddingRight,this.colSpan){let i=1;for(;i<this.colSpan;)this.fixedWidth+=e.colWidths[this.x+i],i++}let{wrapOnWordBoundary:s=!0}=e,{wrapOnWordBoundary:o=s}=this.options;return this.wrapLines(ze.wordWrap(this.fixedWidth,this.content,o))}return this.wrapLines(this.content.split(`
`))}wrapLines(e){let r=ze.colorizeLines(e);return this.href?r.map(n=>ze.hyperlink(this.href,n)):r}init(e){let r=this.x,n=this.y;this.widths=e.colWidths.slice(r,r+this.colSpan),this.heights=e.rowHeights.slice(n,n+this.rowSpan),this.width=this.widths.reduce(yg,-1),this.height=this.heights.reduce(yg,-1),this.hAlign=this.options.hAlign||e.colAligns[r],this.vAlign=this.options.vAlign||e.rowAligns[n],this.drawRight=r+this.colSpan==e.colWidths.length}draw(e,r){if(e=="top")return this.drawTop(this.drawRight);if(e=="bottom")return this.drawBottom(this.drawRight);let n=ze.truncate(this.content,10,this.truncate);e||oS(`${this.y}-${this.x}: ${this.rowSpan-e}x${this.colSpan} Cell ${n}`);let s=Math.max(this.height-this.lines.length,0),o;switch(this.vAlign){case"center":o=Math.ceil(s/2);break;case"bottom":o=s;break;default:o=0}if(e<o||e>=o+this.lines.length)return this.drawEmpty(this.drawRight,r);let i=this.lines.length>this.height&&e+1>=this.height;return this.drawLine(e-o,this.drawRight,i,r)}drawTop(e){let r=[];return this.cells?this.widths.forEach(function(n,s){r.push(this._topLeftChar(s)),r.push(ze.repeat(this.chars[this.y==0?"top":"mid"],n))},this):(r.push(this._topLeftChar(0)),r.push(ze.repeat(this.chars[this.y==0?"top":"mid"],this.width))),e&&r.push(this.chars[this.y==0?"topRight":"rightMid"]),this.wrapWithStyleColors("border",r.join(""))}_topLeftChar(e){let r=this.x+e,n;if(this.y==0)n=r==0?"topLeft":e==0?"topMid":"top";else if(r==0)n="leftMid";else if(n=e==0?"midMid":"bottomMid",this.cells&&(this.cells[this.y-1][r]instanceof t.ColSpanCell&&(n=e==0?"topMid":"mid"),e==0)){let o=1;for(;this.cells[this.y][r-o]instanceof t.ColSpanCell;)o++;this.cells[this.y][r-o]instanceof t.RowSpanCell&&(n="leftMid")}return this.chars[n]}wrapWithStyleColors(e,r){if(this[e]&&this[e].length)try{let n=gg();for(let s=this[e].length-1;s>=0;s--)n=n[this[e][s]];return n(r)}catch{return r}else return r}drawLine(e,r,n,s){let o=this.chars[this.x==0?"left":"middle"];if(this.x&&s&&this.cells){let p=this.cells[this.y+s][this.x-1];for(;p instanceof qn;)p=this.cells[p.y][p.x-1];p instanceof Ln||(o=this.chars.rightMid)}let i=ze.repeat(" ",this.paddingLeft),a=r?this.chars.right:"",u=ze.repeat(" ",this.paddingRight),c=this.lines[e],l=this.width-(this.paddingLeft+this.paddingRight);n&&(c+=this.truncate||"\u2026");let d=ze.truncate(c,l,this.truncate);return d=ze.pad(d,l," ",this.hAlign),d=i+d+u,this.stylizeLine(o,d,a)}stylizeLine(e,r,n){return e=this.wrapWithStyleColors("border",e),n=this.wrapWithStyleColors("border",n),this.y===0&&(r=this.wrapWithStyleColors("head",r)),e+r+n}drawBottom(e){let r=this.chars[this.x==0?"bottomLeft":"bottomMid"],n=ze.repeat(this.chars.bottom,this.width),s=e?this.chars.bottomRight:"";return this.wrapWithStyleColors("border",r+n+s)}drawEmpty(e,r){let n=this.chars[this.x==0?"left":"middle"];if(this.x&&r&&this.cells){let i=this.cells[this.y+r][this.x-1];for(;i instanceof qn;)i=this.cells[i.y][i.x-1];i instanceof Ln||(n=this.chars.rightMid)}let s=e?this.chars.right:"",o=ze.repeat(" ",this.width);return this.stylizeLine(n,o,s)}},qn=class{constructor(){}draw(e){return typeof e=="number"&&Eg(`${this.y}-${this.x}: 1x1 ColSpanCell`),""}init(){}mergeTableOptions(){}},Ln=class{constructor(e){this.originalCell=e}init(e){let r=this.y,n=this.originalCell.y;this.cellOffset=r-n,this.offset=iS(e.rowHeights,n,this.cellOffset)}draw(e){return e=="top"?this.originalCell.draw(this.offset,this.cellOffset):e=="bottom"?this.originalCell.draw("bottom"):(Eg(`${this.y}-${this.x}: 1x${this.colSpan} RowSpanCell for ${this.originalCell.content}`),this.originalCell.draw(this.offset+1+e))}mergeTableOptions(){}};function Dg(...t){return t.filter(e=>e!=null).shift()}function Iu(t,e,r,n){let s=r.split("-");s.length>1?(s[1]=s[1].charAt(0).toUpperCase()+s[1].substr(1),s=s.join(""),n[s]=Dg(t[s],t[r],e[s],e[r])):n[r]=Dg(t[r],e[r])}function iS(t,e,r){let n=t[e];for(let s=1;s<r;s++)n+=1+t[e+s];return n}function yg(t,e){return t+e+1}var aS=["top","top-mid","top-left","top-right","bottom","bottom-mid","bottom-left","bottom-right","left","left-mid","mid","mid-mid","right","right-mid","middle"];so.exports=Au;so.exports.ColSpanCell=qn;so.exports.RowSpanCell=Ln});var wg=h(($A,bg)=>{var{warn:uS,debug:cS}=ro(),Fu=vg(),{ColSpanCell:lS,RowSpanCell:dS}=Fu;(function(){function t(f,m){return f[m]>0?t(f,m+1):m}function e(f){let m={};f.forEach(function(g,D){let y=0;g.forEach(function(v){v.y=D,v.x=D?t(m,y):y;let C=v.rowSpan||1,R=v.colSpan||1;if(C>1)for(let O=0;O<R;O++)m[v.x+O]=C;y=v.x+R}),Object.keys(m).forEach(v=>{m[v]--,m[v]<1&&delete m[v]})})}function r(f){let m=0;return f.forEach(function(g){g.forEach(function(D){m=Math.max(m,D.x+(D.colSpan||1))})}),m}function n(f){return f.length}function s(f,m){let g=f.y,D=f.y-1+(f.rowSpan||1),y=m.y,v=m.y-1+(m.rowSpan||1),C=!(g>v||y>D),R=f.x,O=f.x-1+(f.colSpan||1),ke=m.x,tt=m.x-1+(m.colSpan||1),Gr=!(R>tt||ke>O);return C&&Gr}function o(f,m,g){let D=Math.min(f.length-1,g),y={x:m,y:g};for(let v=0;v<=D;v++){let C=f[v];for(let R=0;R<C.length;R++)if(s(y,C[R]))return!0}return!1}function i(f,m,g,D){for(let y=g;y<D;y++)if(o(f,y,m))return!1;return!0}function a(f){f.forEach(function(m,g){m.forEach(function(D){for(let y=1;y<D.rowSpan;y++){let v=new dS(D);v.x=D.x,v.y=D.y+y,v.colSpan=D.colSpan,c(v,f[g+y])}})})}function u(f){for(let m=f.length-1;m>=0;m--){let g=f[m];for(let D=0;D<g.length;D++){let y=g[D];for(let v=1;v<y.colSpan;v++){let C=new lS;C.x=y.x+v,C.y=y.y,g.splice(D+1,0,C)}}}}function c(f,m){let g=0;for(;g<m.length&&m[g].x<f.x;)g++;m.splice(g,0,f)}function l(f){let m=n(f),g=r(f);cS(`Max rows: ${m}; Max cols: ${g}`);for(let D=0;D<m;D++)for(let y=0;y<g;y++)if(!o(f,y,D)){let v={x:y,y:D,colSpan:1,rowSpan:1};for(y++;y<g&&!o(f,y,D);)v.colSpan++,y++;let C=D+1;for(;C<m&&i(f,C,v.x,v.x+v.colSpan);)v.rowSpan++,C++;let R=new Fu(v);R.x=v.x,R.y=v.y,uS(`Missing cell at ${R.y}-${R.x}.`),c(R,f[D])}}function d(f){return f.map(function(m){if(!Array.isArray(m)){let g=Object.keys(m)[0];m=m[g],Array.isArray(m)?(m=m.slice(),m.unshift(g)):m=[g,m]}return m.map(function(g){return new Fu(g)})})}function p(f){let m=d(f);return e(m),l(m),a(m),u(m),m}bg.exports={makeTableLayout:p,layoutTable:e,addRowSpanCells:a,maxWidth:r,fillInTable:l,computeWidths:$g("colSpan","desiredWidth","x",1),computeHeights:$g("rowSpan","desiredHeight","y",1)}})();function $g(t,e,r,n){return function(s,o){let i=[],a=[],u={};o.forEach(function(c){c.forEach(function(l){(l[t]||1)>1?a.push(l):i[l[r]]=Math.max(i[l[r]]||0,l[e]||0,n)})}),s.forEach(function(c,l){typeof c=="number"&&(i[l]=c)});for(let c=a.length-1;c>=0;c--){let l=a[c],d=l[t],p=l[r],f=i[p],m=typeof s[p]=="number"?0:1;if(typeof f=="number")for(let g=1;g<d;g++)f+=1+i[p+g],typeof s[p+g]!="number"&&m++;else f=e==="desiredWidth"?l.desiredWidth-1:1,(!u[p]||u[p]<f)&&(u[p]=f);if(l[e]>f){let g=0;for(;m>0&&l[e]>f;){if(typeof s[p+g]!="number"){let D=Math.round((l[e]-f)/m);f+=D,i[p+g]+=D,m--}g++}}}Object.assign(s,i,u);for(let c=0;c<s.length;c++)s[c]=Math.max(n,s[c]||0)}}});var Cg=h((bA,_g)=>{var Ct=ro(),fS=Su(),xu=wg(),oo=class extends Array{constructor(e){super();let r=fS.mergeOptions(e);if(Object.defineProperty(this,"options",{value:r,enumerable:r.debug}),r.debug){switch(typeof r.debug){case"boolean":Ct.setDebugLevel(Ct.WARN);break;case"number":Ct.setDebugLevel(r.debug);break;case"string":Ct.setDebugLevel(parseInt(r.debug,10));break;default:Ct.setDebugLevel(Ct.WARN),Ct.warn(`Debug option is expected to be boolean, number, or string. Received a ${typeof r.debug}`)}Object.defineProperty(this,"messages",{get(){return Ct.debugMessages()}})}}toString(){let e=this,r=this.options.head&&this.options.head.length;r?(e=[this.options.head],this.length&&e.push.apply(e,this)):this.options.style.head=[];let n=xu.makeTableLayout(e);n.forEach(function(o){o.forEach(function(i){i.mergeTableOptions(this.options,n)},this)},this),xu.computeWidths(this.options.colWidths,n),xu.computeHeights(this.options.rowHeights,n),n.forEach(function(o){o.forEach(function(i){i.init(this.options)},this)},this);let s=[];for(let o=0;o<n.length;o++){let i=n[o],a=this.options.rowHeights[o];(o===0||!this.options.style.compact||o==1&&r)&&Pu(i,"top",s);for(let u=0;u<a;u++)Pu(i,u,s);o+1==n.length&&Pu(i,"bottom",s)}return s.join(`
`)}get width(){return this.toString().split(`
`)[0].length}};oo.reset=()=>Ct.reset();function Pu(t,e,r){let n=[];t.forEach(function(o){n.push(o.draw(e))});let s=n.join("");s.length&&r.push(s)}_g.exports=oo});var Og=h((wA,Sg)=>{Sg.exports=Cg()});var pc=ve(fc(),1),{program:e2,createCommand:t2,createArgument:r2,createOption:n2,CommanderError:s2,InvalidArgumentError:o2,InvalidOptionArgumentError:i2,Command:W,Argument:a2,Option:u2,Help:c2}=pc.default;var xg=require("child_process");var Lm=ve(qm()),le=ve(require("fs")),xr=ve(require("path")),Pn=ve(require("os")),rC={apiUrl:"https://api.embrdev.io",timeout:300},ae=new Lm.default({projectName:"embr-cli",defaults:rC}),Mm=!1;function Bm(t){Mm=t}function Um(){return Mm}function Se(){return{apiUrl:ae.get("apiUrl"),token:ae.get("token"),timeout:ae.get("timeout"),projectId:ae.get("projectId"),environmentId:ae.get("environmentId"),installationId:ae.get("installationId")}}function wt(t){Object.entries(t).forEach(([e,r])=>{r!==void 0&&ae.set(e,r)})}function Hs(t){ae.delete(t)}function Pr(){let t=Pn.platform();return t==="win32"?xr.join(process.env.APPDATA||"","embr-cli"):t==="darwin"?xr.join(Pn.homedir(),"Library","Application Support","embr-cli"):xr.join(Pn.homedir(),".config","embr-cli")}function lu(){return xr.join(Pr(),"token")}function du(){return xr.join(Pr(),"refresh_token")}function Ws(){let t=lu();try{if(le.existsSync(t))return le.readFileSync(t,"utf-8").trim()}catch{}}function Ks(){let t=du();try{if(le.existsSync(t))return le.readFileSync(t,"utf-8").trim()}catch{}}function Tr(t){let e=Pr();le.existsSync(e)||le.mkdirSync(e,{recursive:!0});let r=lu();le.writeFileSync(r,t,{mode:384})}function Vm(t){let e=Pr();le.existsSync(e)||le.mkdirSync(e,{recursive:!0});let r=du();le.writeFileSync(r,t,{mode:384})}function Gm(){let t=lu();try{le.existsSync(t)&&le.unlinkSync(t)}catch{}}function zm(){let t=du();try{le.existsSync(t)&&le.unlinkSync(t)}catch{}}function Mt(){return ae.get("profiles")||{}}function Js(){return ae.get("activeProfile")}function Hm(t){let e=Se(),r=Mt(),n=new Date().toISOString(),s={name:t,config:{apiUrl:e.apiUrl,timeout:e.timeout,projectId:e.projectId,environmentId:e.environmentId},createdAt:r[t]?.createdAt||n,updatedAt:n};return r[t]=s,ae.set("profiles",r),ae.set("activeProfile",t),s}function Wm(t){let r=Mt()[t];if(r)return r.config.apiUrl&&ae.set("apiUrl",r.config.apiUrl),r.config.timeout&&ae.set("timeout",r.config.timeout),r.config.projectId?ae.set("projectId",r.config.projectId):ae.delete("projectId"),r.config.environmentId?ae.set("environmentId",r.config.environmentId):ae.delete("environmentId"),ae.set("activeProfile",t),r}function Km(t){let e=Mt();return e[t]?(delete e[t],ae.set("profiles",e),ae.get("activeProfile")===t&&ae.delete("activeProfile"),!0):!1}function Tn(){return process.env.EMBR_TOKEN||process.env.EMBR_API_TOKEN||process.env.GITHUB_TOKEN||process.env.GH_TOKEN}function nC(t){try{let e=t.split(".");if(e.length!==3)return null;let r=Buffer.from(e[1],"base64url").toString("utf-8");return JSON.parse(r)}catch{return null}}function sC(t,e=60){let r=nC(t);if(!r?.exp)return!1;let n=Math.floor(Date.now()/1e3);return r.exp<=n+e}async function oC(t,e,r){try{let n=`${t}/auth/refresh`,s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({refreshToken:r})});if(!s.ok)return null;let o=await s.json();return o.accessToken?(Tr(o.accessToken),o.accessToken):null}catch{return null}}var _t=class extends Error{constructor(e,r,n,s,o){super(e),this.name="EmbrClientError",this.statusCode=r,this.details=n,this.url=s,this.cause=o}};function P(t){if(t instanceof _t)return t;if(t instanceof Error){let e=new _t(t.message);return e.cause=t,e}return new _t(String(t))}var fu=class{constructor(e,r,n,s){this.apiUrl=e.replace(/\/+$/,""),this.token=r,this.refreshToken=s,this.timeoutMs=n}async ensureValidToken(){if(!this.token||!this.refreshToken||!sC(this.token))return;let e=await oC(this.apiUrl,this.token,this.refreshToken);e&&(this.token=e)}async request(e,r,n){await this.ensureValidToken();let s=r.startsWith("/")?r:`/${r}`,o=new URL(`${this.apiUrl}${s}`);n?.query&&Object.entries(n.query).forEach(([l,d])=>{d!=null&&o.searchParams.set(l,String(d))});let i={...n?.headers||{}};this.token&&(i.Authorization=`Bearer ${this.token}`);let a;n?.rawBody!==void 0?(a=n.rawBody,n.contentType&&(i["Content-Type"]=n.contentType)):n?.body!==void 0&&(a=JSON.stringify(n.body),i["Content-Type"]="application/json");let u=new AbortController,c=setTimeout(()=>u.abort(),this.timeoutMs);try{let l=await fetch(o,{method:e,headers:i,body:a,signal:u.signal}),d=l.headers.get("content-type")||"",p=await l.text(),f=d.includes("application/json")&&p?JSON.parse(p):p;if(!l.ok){let m=(typeof f=="object"&&f&&"message"in f?String(f.message):l.statusText)||`HTTP ${l.status}`;throw new _t(m,l.status,f,o.toString())}return f}catch(l){if(l instanceof _t)throw l;let d=l,p=d.cause instanceof Error?d.cause.message:"",f=p?`${d.message} (${p})`:d.message;throw new _t(f,void 0,void 0,o.toString(),d)}finally{clearTimeout(c)}}async stream(e){await this.ensureValidToken();let r=e.startsWith("/")?e:`/${e}`,n=new URL(`${this.apiUrl}${r}`),s={Accept:"text/event-stream"};this.token&&(s.Authorization=`Bearer ${this.token}`);let o=await fetch(n,{headers:s});if(!o.ok||!o.body)throw new _t(`Stream failed: ${o.statusText}`,o.status);return o.body}};function F(){let t=Se(),e=Ws()||Tn(),r=Ks();return new fu(t.apiUrl,e,t.timeout*1e3,r)}var E=ve(qr()),Ig=ve(Og());function De(t){if(t<1024)return`${t} B`;let e=t/1024;if(e<1024)return`${e.toFixed(0)} KiB`;let r=e/1024;return r<1024?`${r.toFixed(0)} MiB`:`${(r/1024).toFixed(1)} GiB`}function Tu(t){if(t<60)return`${Math.floor(t)}s`;let e=Math.floor(t/60);if(e<60)return`${e}m`;let r=Math.floor(e/60),n=e%60;return r<24?`${r}h ${n}m`:`${Math.floor(r/24)}d`}function _(t){console.log(E.default.green("\u2713")+" "+t)}function I(t){console.error(E.default.red("\u2717")+" "+t)}function J(t,e){if(I(t),!e)return;let r=Um();if(e.message==="fetch failed"||e.message.includes("ECONNREFUSED")){let n=Se();console.error(E.default.dim(`  \u2192 Could not connect to API at: ${e.url||n.apiUrl}`)),console.error(E.default.dim("  \u2192 Is the server running? Check your apiUrl with: embr config get apiUrl"))}else e.statusCode===401?console.error(E.default.dim("  \u2192 Authentication failed. Try: embr auth login --token <token>")):e.statusCode===404&&console.error(E.default.dim(`  \u2192 Resource not found at: ${e.url||"(unknown URL)"}`));r?(console.error(E.default.dim(`
--- Verbose Error Details ---`)),e.url&&console.error(E.default.dim(`  URL:         ${e.url}`)),e.statusCode&&console.error(E.default.dim(`  Status:      ${e.statusCode}`)),e.cause&&(console.error(E.default.dim(`  Cause:       ${e.cause.message}`)),e.cause.code&&console.error(E.default.dim(`  Error Code:  ${e.cause.code}`))),e.details&&console.error(E.default.dim(`  Details:     ${JSON.stringify(e.details,null,2)}`)),e.stack&&console.error(E.default.dim(`  Stack:
${e.stack.split(`
`).map(n=>"    "+n).join(`
`)}`))):(e.url||e.statusCode||e.details)&&console.error(E.default.dim("  \u2192 Use -v or --verbose for more details"))}function Re(t){console.log(E.default.yellow("!")+" "+t)}function A(t){console.log(E.default.blue("\u2139")+" "+t)}function T(t){console.log(JSON.stringify(t,null,2))}function St(t,e,r){console.log(E.default.bold(`
${t}`));let n=new Ig.default({head:e.map(s=>E.default.cyan(s)),style:{head:[],border:[]}});r.forEach(s=>n.push(s)),console.log(n.toString())}function Br(t,e,r,n){St(t,n,r),console.log(E.default.dim(`Page ${e.page} of ${e.totalPages} | ${e.total} total | ${e.pageSize} per page`))}function Ut(t){if(!t)return E.default.dim("unknown");let e=t.toLowerCase();return["running","ready","succeeded"].includes(e)?E.default.green(t):["pending","creating","starting","provisioning","building","uploading","queued"].includes(e)?E.default.yellow(t):["stopped","cancelled","superseded"].includes(e)?E.default.blue(t):["failed","error"].includes(e)?E.default.red(t):t}function pS(t){if(t==null)return"-";if(typeof t=="string"||typeof t=="number")return String(t);if(typeof t=="object"&&"value"in t){let e=t.value;return e===void 0?JSON.stringify(t):String(e)}return JSON.stringify(t)}function Mn(t){console.log(E.default.bold(`
\u250C\u2500 Project \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510`)),console.log(`  ${E.default.cyan("ID")}:              ${t.id}`),console.log(`  ${E.default.cyan("Name")}:            ${t.name}`),console.log(`  ${E.default.cyan("Repository")}:      ${t.repositoryFullName}`),console.log(`  ${E.default.cyan("Installation")}:   ${pS(t.installationId)}`),console.log(`  ${E.default.cyan("Default Branch")}: ${t.defaultBranch}`),console.log(`  ${E.default.cyan("Trigger Mode")}:   ${t.triggerMode}`),t.settings&&(console.log(`  ${E.default.cyan("Settings")}:`),console.log(`    Auto-Deploy:     ${t.settings.autoDeploy?E.default.green("enabled"):E.default.yellow("disabled")}`),console.log(`    Idle Timeout:    ${t.settings.idleTimeoutHours===0?"never":`${t.settings.idleTimeoutHours} hours`}`),console.log(`    Max Snapshots:   ${t.settings.maxSnapshots}`),console.log(`    Branch Pattern:  ${t.settings.branchAutoCreatePattern||E.default.dim("default branch only")}`)),console.log(`  ${E.default.cyan("Created")}:         ${t.createdAt}`),console.log(E.default.bold(`\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
`))}function io(t){if(console.log(E.default.bold(`
\u250C\u2500 Environment \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510`)),console.log(`  ${E.default.cyan("ID")}:        ${t.id}`),console.log(`  ${E.default.cyan("Project")}:   ${t.projectId}`),console.log(`  ${E.default.cyan("Name")}:      ${t.name}`),console.log(`  ${E.default.cyan("Branch")}:    ${t.branch}`),console.log(`  ${E.default.cyan("Status")}:    ${Ut(t.status)}`),console.log(`  ${E.default.cyan("Auto-Deploy")}: ${t.autoDeploy?E.default.green("enabled"):E.default.yellow("disabled")}`),t.url&&console.log(`  ${E.default.cyan("URL")}:       ${t.url}`),t.activeDeploymentId&&console.log(`  ${E.default.cyan("Deployment")}: ${t.activeDeploymentId}`),t.database){let e=t.database.framework||"unknown",r=t.database.state||"unknown",n=t.database.lastSyncedAt?new Date(t.database.lastSyncedAt).toLocaleString():"never";console.log(`  ${E.default.cyan("Database")}:  ${e} (${Ut(r)})`),console.log(`  ${E.default.cyan("Last Sync")}: ${n}`)}if(t.effectiveSettings){let e=t.settingsOverrides;console.log(`  ${E.default.cyan("Settings")} (effective):`),console.log(`    Auto-Deploy:   ${t.effectiveSettings.autoDeploy?E.default.green("enabled"):E.default.yellow("disabled")} ${e?.autoDeploy!=null?E.default.dim("(overridden)"):E.default.dim("(inherited)")}`),console.log(`    Idle Timeout:  ${t.effectiveSettings.idleTimeoutHours===0?"never":`${t.effectiveSettings.idleTimeoutHours}h`} ${e?.idleTimeoutHours!=null?E.default.dim("(overridden)"):E.default.dim("(inherited)")}`),console.log(`    Max Snapshots: ${t.effectiveSettings.maxSnapshots} ${e?.maxSnapshots!=null?E.default.dim("(overridden)"):E.default.dim("(inherited)")}`)}console.log(E.default.bold(`\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
`))}function Ur(t){if(console.log(E.default.bold(`
\u250C\u2500 Deployment \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510`)),console.log(`  ${E.default.cyan("ID")}:        ${t.id}`),console.log(`  ${E.default.cyan("Project")}:   ${t.projectId}`),console.log(`  ${E.default.cyan("Env")}:       ${t.environmentId}`),console.log(`  ${E.default.cyan("Revision")}:  ${t.revisionNumber}`),console.log(`  ${E.default.cyan("Commit")}:    ${t.commitSha.substring(0,8)}`),console.log(`  ${E.default.cyan("Branch")}:    ${t.branch}`),console.log(`  ${E.default.cyan("Status")}:    ${Ut(t.status)}`),t.statusMessage&&console.log(`  ${E.default.cyan("Message")}:   ${t.statusMessage}`),console.log(`  ${E.default.cyan("Traffic")}:   ${t.trafficPercentage}%`),t.steps&&t.steps.length>0){console.log(`  ${E.default.cyan("Steps")}:`);for(let e of t.steps){let r=e.durationSeconds?` (${e.durationSeconds}s)`:"";console.log(`    ${e.order}. ${e.name}: ${Ut(e.status)}${r}`)}}if(t.buildConfig){let e=t.buildConfig.platform||t.buildConfig.detectedPlatform||"unknown",r=t.buildConfig.platformVersion||t.buildConfig.detectedPlatformVersion||"";console.log(`  ${E.default.cyan("Platform")}: ${e}${r?" "+r:""}`),t.buildConfig.database?.enabled&&console.log(`  ${E.default.cyan("Database")}: ${t.buildConfig.database.framework||"enabled"}`)}if(t.instances&&t.instances.length>0){console.log(`  ${E.default.cyan("Instances")}: ${t.instances.length}`);for(let e of t.instances)console.log(`    - ${e.sandboxId}: ${Ut(e.status)}`),e.sandboxUrl&&console.log(`      ${E.default.dim(e.sandboxUrl)}`)}t.durationSeconds&&console.log(`  ${E.default.cyan("Duration")}: ${t.durationSeconds}s`),console.log(E.default.bold(`\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
`))}function Ag(t){if(console.log(E.default.bold(`
\u250C\u2500 Snapshot \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510`)),console.log(`  ${E.default.cyan("ID")}:          ${t.id}`),console.log(`  ${E.default.cyan("Sandbox")}:     ${t.sandboxId}`),console.log(`  ${E.default.cyan("Created")}:     ${t.createdAtUtc}`),t.resources){let e=t.resources,r=[e.cpu&&`CPU: ${e.cpu}`,e.memory&&`Mem: ${e.memory}`,e.disk&&`Disk: ${e.disk}`].filter(Boolean);r.length>0&&console.log(`  ${E.default.cyan("Resources")}:   ${r.join(", ")}`)}if(t.labels&&Object.keys(t.labels).length>0){console.log(`  ${E.default.cyan("Labels")}:`);for(let[e,r]of Object.entries(t.labels))console.log(`    ${e}: ${r}`)}console.log(E.default.bold(`\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
`))}function Fg(t){console.log(E.default.bold(`
\u250C\u2500 Database Lease \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510`)),console.log(`  ${E.default.cyan("ID")}:           ${t.id}`),console.log(`  ${E.default.cyan("Template")}:     ${t.templateName}`),console.log(`  ${E.default.cyan("Sandbox")}:      ${t.sandboxId}`),console.log(`  ${E.default.cyan("State")}:        ${Ut(t.state)}`),t.snapshotId&&console.log(`  ${E.default.cyan("Snapshot")}:     ${t.snapshotId}`),t.connectionUrl&&console.log(`  ${E.default.cyan("URL")}:          ${t.connectionUrl}`),t.tunnelUrl&&console.log(`  ${E.default.cyan("Tunnel")}:       ${t.tunnelUrl}`),console.log(`  ${E.default.cyan("Created")}:      ${t.createdAt}`),console.log(E.default.bold(`\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
`))}function ao(t){if(t.length===0){console.log(E.default.yellow("No database templates found."));return}console.log(E.default.bold(`
\u250C\u2500 Database Templates \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510`));for(let e of t)console.log(`  ${E.default.cyan(e.templateName)} (${e.engine} ${e.version})`),e.snapshotId&&console.log(`    Snapshot: ${e.snapshotId.substring(0,12)}...`),e.region&&console.log(`    Region:   ${e.region}`);console.log(E.default.bold(`\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
`))}function ie(t){if(t)return t;let e=Se();if(e.projectId)return A(`Using project from context: ${e.projectId}`),e.projectId;I("Project ID required. Provide it as an argument or set context with: embr config context -p <projectId>"),process.exit(1)}function ce(t){if(t)return t;let e=Se();if(e.environmentId)return A(`Using environment from context: ${e.environmentId}`),e.environmentId;I("Environment ID required. Provide it as an argument or set context with: embr config context -e <environmentId>"),process.exit(1)}var Pg=ve(qr()),mS="api://1361fc58-440c-4ab5-9a0b-bb511eac4c0c",hS="https://management.azuredevcompute.io";async function ju(t){await F().request("PATCH","/auth/me/settings",{body:{adcApiKey:t}})}async function gS(){A("Getting Azure AD token via az CLI...");let t;try{if(t=(0,xg.execSync)(`az account get-access-token --resource "${mS}" --query accessToken -o tsv`,{encoding:"utf-8",stdio:["pipe","pipe","pipe"]}).trim(),!t)throw new Error("Empty token returned")}catch(s){let o=s instanceof Error?s.message:String(s);throw new Error(`Failed to get Azure AD token. Ensure Azure CLI is installed and you are logged in.
Run: az login
Details: ${o}`)}A("Creating ADC API key...");let e=await fetch(`${hS}/apikeys`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!e.ok){let s=await e.text();throw new Error(`Failed to create ADC API key (HTTP ${e.status}): ${s}`)}let r=await e.json(),n=r.apiKey||r.key||r.token;if(!n)throw new Error(`Unexpected response from ADC management API: ${JSON.stringify(r)}`);return n}async function DS(t){try{await ju(t),_("ADC API key updated successfully.")}catch(e){let r=e instanceof Error?e.message:String(e);I(`Failed to update ADC API key: ${r}`),process.exit(1)}}async function yS(){try{let t=await gS();await ju(t),_("ADC API key generated and saved to your user settings."),console.log(Pg.default.dim(`  Key: ${t.slice(0,8)}...${t.slice(-4)}`))}catch(t){let e=t instanceof Error?t.message:String(t);I(`Failed to generate ADC API key: ${e}`),process.exit(1)}}async function ES(){try{await ju(""),_("ADC API key cleared. The global default key will be used.")}catch(t){let e=t instanceof Error?t.message:String(t);I(`Failed to clear ADC API key: ${e}`),process.exit(1)}}function Ru(){let t=new W("adc").description("Manage ADC (Azure Dev Compute) API key overrides.");return t.command("set-token <token>").description("Set your personal ADC API key (overrides the global key for your builds/deployments).").action(DS),t.command("generate-token").description("Generate an ADC API key via Azure AD and save it to your user settings.").action(yS),t.command("clear-token").description("Clear your personal ADC API key (revert to the global default).").action(ES),t}var pe=ve(qr());async function vS(t){let{exec:e}=await import("child_process"),{promisify:r}=await import("util"),n=r(e),s=process.platform,o;s==="win32"?o=`start "" "${t}"`:s==="darwin"?o=`open "${t}"`:o=`xdg-open "${t}"`;try{await n(o)}catch{}}function $S(t){return new Promise(e=>setTimeout(e,t))}async function Tg(t){if(t.token){Tr(t.token),_("Token saved");return}let e=Tn();if(e){_("Found token in environment variable"),Tr(e),_("Token cached for Embr CLI");return}let n=Se().apiUrl.replace(/\/+$/,"");console.log(pe.default.cyan(`
\u{1F510} Logging in to Embr via GitHub...
`));try{let s=await fetch(`${n}/auth/device`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok){let u=await s.text();I(`Failed to initiate login: ${s.status} ${u}`),process.exit(1)}let o=await s.json();console.log(pe.default.bold(`  Enter this code at GitHub:
`)),console.log(pe.default.bgYellow.black.bold(`    ${o.userCode}    
`)),console.log(`  Verification URL: ${pe.default.underline(o.verificationUri)}
`),t.browser!==!1?(console.log(pe.default.dim("  Opening browser...")),await vS(o.verificationUri)):console.log(pe.default.dim("  Open the URL above in your browser to continue.")),console.log(pe.default.dim(`
  Waiting for authorization (expires in ${o.expiresIn}s)...
`));let i=Math.max(o.interval,5)*1e3,a=Math.ceil(o.expiresIn*1e3/i);for(let u=0;u<a;u++){await $S(i);let c=await fetch(`${n}/auth/device/poll`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceCode:o.deviceCode})});if(!c.ok){let d=await c.text();I(`Poll failed: ${c.status} ${d}`),process.exit(1)}let l=await c.json();if(!l.isComplete){process.stdout.write(pe.default.dim("."));continue}if(console.log(""),l.error&&(l.error==="expired_token"?I("Authorization timed out. Please try again."):l.error==="access_denied"?I("Authorization was denied."):I(`Authorization failed: ${l.errorDescription||l.error}`),process.exit(1)),l.accessToken){Tr(l.accessToken),l.refreshToken&&Vm(l.refreshToken),console.log(""),_(`Logged in as ${pe.default.bold(l.user?.username||"unknown")}`),l.user?.email&&console.log(pe.default.dim(`  Email: ${l.user.email}`));let d=l.user?.installations;if(d&&d.length>0){let p=d[0];wt({installationId:p.installationId}),console.log(pe.default.dim(`  Installation: ${p.accountLogin} (${p.installationId})`)),d.length>1&&(A(`${d.length} installations available. Using ${p.accountLogin} as default.`),console.log(pe.default.dim("  To change: embr config set installationId <id>")))}A("Token saved. You can now use Embr CLI.");return}I("Unexpected response from server."),process.exit(1)}console.log(""),I("Authorization timed out. Please try again."),process.exit(1)}catch(s){let o=s;I(`Login failed: ${o.message}`),(o.message.includes("fetch failed")||o.message.includes("ECONNREFUSED"))&&(console.error(pe.default.dim(`  \u2192 Could not connect to API at: ${n}`)),console.error(pe.default.dim("  \u2192 Is the server running? Check: embr config get apiUrl"))),process.exit(1)}}function jg(){Gm(),zm(),_("Cached token cleared"),A("Note: This does not clear environment variables.")}function ku(){let t=new W("auth").description("Authentication commands");return t.command("login").description("Login to Embr using GitHub (opens browser for authentication)").option("-t, --token <token>","Provide token directly (skips browser flow)").option("--no-browser","Do not automatically open the browser").action(Tg),t.command("status").description("Show current authentication status").action(()=>{let e=Ws();if(e){_("Token is cached");let s=e.length>12?`${e.substring(0,8)}...${e.slice(-4)}`:"[cached]";console.log(`  Token: ${s}`);try{let o=e.split(".");if(o.length===3){let i=JSON.parse(Buffer.from(o[1],"base64url").toString("utf-8"));if(i.exp){let a=new Date(i.exp*1e3),u=new Date;if(a>u){let c=Math.round((a.getTime()-u.getTime())/6e4);console.log(pe.default.dim(`  Expires: ${a.toLocaleString()} (${c}m remaining)`))}else Re("Access token is expired")}}}catch{}}Ks()?_("Refresh token is cached (auto-refresh enabled)"):e&&(Re("No refresh token cached. Token will not auto-refresh."),console.log(pe.default.dim("  Run: embr auth login (to get a refresh token)")));let n=Tn();n&&_("Token found in environment variable"),e||n?_("Ready to use Embr CLI"):(Re("No authentication configured"),console.log(pe.default.dim("  Run: embr auth login")))}),t.command("logout").description("Clear cached authentication token").action(jg),t}function Nu(){return new W("login").description('Login to Embr using GitHub (shortcut for "embr auth login")').option("-t, --token <token>","Provide token directly (skips browser flow)").option("--no-browser","Do not automatically open the browser").action(Tg)}function qu(){return new W("logout").description('Clear cached authentication token (shortcut for "embr auth logout")').action(jg)}var Ue=ve(qr());var Rg=new Set(["apiUrl","timeout","projectId","environmentId"]);function Lu(){let t=new W("config").description("Manage CLI configuration");t.command("get").description("Get current configuration").argument("[key]","Configuration key (apiUrl, timeout, projectId, environmentId)").action(r=>{let n=Se();if(!r){T(n);return}Rg.has(r)||(I(`Unknown key: ${r}`),process.exit(1));let s=n[r];A(`${r}: ${s!==void 0?String(s):"(not set)"}`)}),t.command("set").description("Set a configuration value").argument("<key>","Configuration key (apiUrl, timeout, projectId, environmentId)").argument("<value>","New value").action((r,n)=>{if(Rg.has(r)||(I(`Unknown key: ${r}`),process.exit(1)),r==="timeout"){let s=Number(n);(Number.isNaN(s)||s<=0)&&(I("timeout must be a positive number"),process.exit(1)),wt({timeout:s})}else wt({[r]:n});_(`Updated ${r}`)}),t.command("unset").description("Clear a configuration value").argument("<key>","Configuration key to clear (projectId, environmentId)").action(r=>{["projectId","environmentId"].includes(r)||(I(`Cannot unset ${r}. Only projectId and environmentId can be cleared.`),process.exit(1)),Hs(r),_(`Cleared ${r}`)}),t.command("path").description("Show config directory path").action(()=>{A(Pr())}),t.command("context").description("Show or set the current project/environment context").option("-p, --project <projectId>","Set current project").option("-e, --environment <environmentId>","Set current environment").option("--clear","Clear the current context").action(r=>{if(r.clear){Hs("projectId"),Hs("environmentId"),_("Context cleared");return}if(r.project||r.environment){r.project&&(wt({projectId:r.project}),_(`Project context set to: ${r.project}`)),r.environment&&(wt({environmentId:r.environment}),_(`Environment context set to: ${r.environment}`));return}let n=Se();console.log(`
Current Context:`),n.projectId?A(`  Project:     ${n.projectId}`):Re("  Project:     (not set)"),n.environmentId?A(`  Environment: ${n.environmentId}`):Re("  Environment: (not set)"),console.log(`
Set context with:`),console.log("  embr config context -p <projectId> -e <environmentId>"),console.log("")});let e=new W("profile").description("Manage named configuration profiles");return e.command("save").description("Save current configuration as a named profile").argument("<name>","Profile name").action(r=>{let n=Hm(r);_(`Profile "${r}" saved`),uo(n)}),e.command("use").description("Switch to a named profile").argument("<name>","Profile name to switch to").action(r=>{let n=Wm(r);if(!n){I(`Profile "${r}" not found`);let s=Object.keys(Mt());s.length>0&&A(`Available profiles: ${s.join(", ")}`),process.exit(1)}_(`Switched to profile "${r}"`),uo(n)}),e.command("list").alias("ls").description("List all saved profiles").option("-j, --json","Output as JSON").action(r=>{let n=Mt(),s=Js();if(r.json){T({profiles:n,activeProfile:s});return}let o=Object.keys(n);if(o.length===0){Re("No profiles saved"),console.log(`
Save a profile with:`),console.log("  embr config profile save <name>");return}console.log(Ue.default.bold(`
Saved Profiles:
`));for(let i of o){let a=n[i],u=i===s,c=u?Ue.default.green("* "):"  ",l=u?Ue.default.green.bold(i):i;console.log(`${c}${l}`),a.config.projectId&&console.log(Ue.default.dim(`    Project:     ${a.config.projectId}`)),a.config.environmentId&&console.log(Ue.default.dim(`    Environment: ${a.config.environmentId}`)),a.config.apiUrl&&a.config.apiUrl!=="https://api.embrdev.io"&&console.log(Ue.default.dim(`    API URL:     ${a.config.apiUrl}`))}console.log()}),e.command("show").description("Show details of a specific profile").argument("<name>","Profile name").option("-j, --json","Output as JSON").action((r,n)=>{let o=Mt()[r];if(o||(I(`Profile "${r}" not found`),process.exit(1)),n.json){T(o);return}let i=Js(),a=r===i;console.log(Ue.default.bold(`
Profile: ${r}`)+(a?Ue.default.green(" (active)"):"")),uo(o)}),e.command("delete").alias("rm").description("Delete a named profile").argument("<name>","Profile name to delete").action(r=>{Km(r)||(I(`Profile "${r}" not found`),process.exit(1)),_(`Profile "${r}" deleted`)}),e.command("current").description("Show the currently active profile").action(()=>{let r=Js();if(!r){Re("No active profile"),console.log(`
Switch to a profile with:`),console.log("  embr config profile use <name>");return}let s=Mt()[r];s?(console.log(Ue.default.bold(`
Active Profile: ${r}`)),uo(s)):Re(`Active profile "${r}" no longer exists`)}),t.addCommand(e),t}function uo(t){console.log(Ue.default.dim(`  Project:     ${t.config.projectId||"(not set)"}`)),console.log(Ue.default.dim(`  Environment: ${t.config.environmentId||"(not set)"}`)),console.log(Ue.default.dim(`  API URL:     ${t.config.apiUrl||"(default)"}`)),console.log(Ue.default.dim(`  Timeout:     ${t.config.timeout||"(default)"}s`))}function bS(t){return new Promise(e=>{let n=require("readline").createInterface({input:process.stdin,output:process.stdout});n.question(t,s=>{n.close(),e(s.toLowerCase()==="y")})})}function Mu(){let t=new W("projects").description("Project management commands");return t.command("list").description("List projects").option("-p, --page <number>","Page number","1").option("-s, --page-size <number>","Page size","25").option("-l, --labels <labels>","Label selector (key=value,...)").option("-j, --json","Output as JSON").action(async e=>{let r=F();try{let n=await r.request("GET","/projects",{query:{page:Number(e.page),pageSize:Number(e.pageSize),labels:e.labels}});if(e.json){T(n);return}if(n.items.length===0){A("No projects found");return}let s=n.items.map(o=>[o.id,o.name,o.repositoryFullName,o.defaultBranch,o.triggerMode]);Br("Projects",n,s,["ID","Name","Repo","Branch","Trigger"])}catch(n){let s=P(n);J(`Failed to list projects: ${s.message}`,s),process.exit(1)}}),t.command("get").description("Get a project by ID").argument("<projectId>","Project ID").option("-j, --json","Output as JSON").action(async(e,r)=>{let n=F();try{let s=await n.request("GET",`/projects/${e}`);r.json?T(s):Mn(s)}catch(s){let o=P(s);J(`Failed to get project: ${o.message}`,o),process.exit(1)}}),t.command("get-by-repo").description("Get a project by repo (owner/repo)").argument("<owner>","Repository owner").argument("<repo>","Repository name").option("-j, --json","Output as JSON").action(async(e,r,n)=>{let s=F();try{let o=await s.request("GET",`/projects/repo/${e}/${r}`);n.json?T(o):Mn(o)}catch(o){let i=P(o);J(`Failed to get project: ${i.message}`,i),process.exit(1)}}),t.command("create").description("Create a new project").requiredOption("-r, --repo <owner/repo>","Repository full name (owner/repo)").requiredOption("-i, --installation-id <id>","GitHub App installation ID").option("-j, --json","Output as JSON").action(async e=>{let r=F();try{let n=await r.request("POST","/projects",{body:{repositoryFullName:e.repo,installationId:Number(e.installationId)}});e.json?T(n):(_(`Project created: ${n.id}`),Mn(n))}catch(n){let s=P(n);J(`Failed to create project: ${s.message}`,s),process.exit(1)}}),t.command("update").description("Update a project").argument("<projectId>","Project ID").option("-t, --trigger-mode <mode>","Trigger mode (pr|commit)").option("-b, --default-branch <branch>","Default branch").option("--auto-deploy","Enable auto-deploy for new environments (project default)").option("--no-auto-deploy","Disable auto-deploy for new environments (project default)").option("--idle-timeout <hours>","Idle timeout in hours (0-24, 0=never)",parseInt).option("--max-snapshots <count>","Max snapshots per environment (0-20)",parseInt).option("--branch-auto-create <pattern>",'Branch auto-create pattern (e.g. "feature/*,release/*")').option("--clear-branch-auto-create","Reset branch auto-create to default branch only").option("-j, --json","Output as JSON").action(async(e,r)=>{let n=F();try{let s={triggerMode:r.triggerMode,defaultBranch:r.defaultBranch},o={};r.autoDeploy!==void 0&&(o.autoDeploy=r.autoDeploy),r.idleTimeout!==void 0&&(o.idleTimeoutHours=r.idleTimeout),r.maxSnapshots!==void 0&&(o.maxSnapshots=r.maxSnapshots),r.branchAutoCreate!==void 0&&(o.branchAutoCreatePattern=r.branchAutoCreate),r.clearBranchAutoCreate&&(o.branchAutoCreatePattern=""),Object.keys(o).length>0&&(s.settings=o);let i=await n.request("PATCH",`/projects/${e}`,{body:s});r.json?T(i):(_(`Project updated: ${i.id}`),Mn(i))}catch(s){let o=P(s);J(`Failed to update project: ${o.message}`,o),process.exit(1)}}),t.command("delete").description("Delete a project").argument("<projectId>","Project ID").option("-f, --force","Skip confirmation").action(async(e,r)=>{if(!r.force&&!await bS(`Delete project ${e}? (y/N) `)){A("Cancelled");return}let n=F();try{await n.request("DELETE",`/projects/${e}`),_(`Project deleted: ${e}`)}catch(s){let o=P(s);J(`Failed to delete project: ${o.message}`,o),process.exit(1)}}),t}function wS(t){return new Promise(e=>{let n=require("readline").createInterface({input:process.stdin,output:process.stdout});n.question(t,s=>{n.close(),e(s.toLowerCase()==="y")})})}function Bu(){let t=new W("environments").description("Environment management commands");return t.command("list").description("List environments in a project").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("--page <number>","Page number","1").option("-s, --page-size <number>","Page size","25").option("-l, --labels <labels>","Label selector (key=value,...)").option("-j, --json","Output as JSON").action(async e=>{let r=ie(e.project),n=F();try{let s=await n.request("GET",`/projects/${r}/environments`,{query:{page:Number(e.page),pageSize:Number(e.pageSize),labels:e.labels}});if(e.json){T(s);return}if(s.items.length===0){A("No environments found");return}let o=s.items.map(i=>[i.id,i.name,i.branch,i.status,i.url||"-"]);Br("Environments",s,o,["ID","Name","Branch","Status","URL"])}catch(s){let o=P(s);J(`Failed to list environments: ${o.message}`,o),process.exit(1)}}),t.command("get").description("Get an environment by ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async e=>{let r=ie(e.project),n=ce(e.environment),s=F();try{let o=await s.request("GET",`/projects/${r}/environments/${n}`);e.json?T(o):io(o)}catch(o){let i=P(o);J(`Failed to get environment: ${i.message}`,i),process.exit(1)}}),t.command("create").description("Create a new environment").option("-p, --project <projectId>","Project ID (uses context if not provided)").requiredOption("-n, --name <name>","Environment name").requiredOption("-b, --branch <branch>","Git branch").option("--production","Mark as production environment").option("--no-auto-deploy","Disable automatic deployments on push").option("-j, --json","Output as JSON").action(async e=>{let r=ie(e.project),n=F();try{let s=await n.request("POST",`/projects/${r}/environments`,{body:{name:e.name,branch:e.branch,isProduction:!!e.production,autoDeploy:e.autoDeploy}});e.json?T(s):(_(`Environment created: ${s.id}`),io(s))}catch(s){let o=P(s);J(`Failed to create environment: ${o.message}`,o),process.exit(1)}}),t.command("update").description("Update an environment").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("--auto-deploy","Enable automatic deployments on push").option("--no-auto-deploy","Disable automatic deployments on push").option("--production","Mark as production environment").option("--no-production","Unmark as production environment").option("--idle-timeout <hours>","Override idle timeout in hours (0-24)",parseInt).option("--max-snapshots <count>","Override max snapshots (0-20)",parseInt).option("--clear-settings","Remove all setting overrides (inherit from project)").option("--clear-idle-timeout","Remove idle timeout override").option("--clear-max-snapshots","Remove max snapshots override").option("-j, --json","Output as JSON").action(async e=>{let r=ie(e.project),n=ce(e.environment),s=F(),o={};if(e.production!==void 0&&(o.isProduction=e.production),e.clearSettings)o.settingsOverrides={autoDeploy:null,idleTimeoutHours:null,maxSnapshots:null};else if(e.autoDeploy!==void 0||e.idleTimeout!==void 0||e.maxSnapshots!==void 0||e.clearIdleTimeout||e.clearMaxSnapshots){let u=(await s.request("GET",`/projects/${r}/environments/${n}`)).settingsOverrides??{},c={autoDeploy:u.autoDeploy??null,idleTimeoutHours:u.idleTimeoutHours??null,maxSnapshots:u.maxSnapshots??null};e.autoDeploy!==void 0&&(c.autoDeploy=e.autoDeploy),e.idleTimeout!==void 0&&(c.idleTimeoutHours=e.idleTimeout),e.maxSnapshots!==void 0&&(c.maxSnapshots=e.maxSnapshots),e.clearIdleTimeout&&(c.idleTimeoutHours=null),e.clearMaxSnapshots&&(c.maxSnapshots=null),o.settingsOverrides=c}e.autoDeploy!==void 0&&!o.settingsOverrides&&(o.autoDeploy=e.autoDeploy),Object.keys(o).length===0&&(I("No update options specified. Use --auto-deploy, --idle-timeout, --max-snapshots, --production, or --clear-settings"),process.exit(1));try{let i=await s.request("PATCH",`/projects/${r}/environments/${n}`,{body:o});e.json?T(i):(_(`Environment updated: ${i.id}`),io(i))}catch(i){let a=P(i);J(`Failed to update environment: ${a.message}`,a),process.exit(1)}}),t.command("delete").description("Delete an environment").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-f, --force","Skip confirmation").action(async e=>{let r=ie(e.project),n=ce(e.environment);if(!e.force&&!await wS(`Delete environment ${n}? (y/N) `)){A("Cancelled");return}let s=F();try{await s.request("DELETE",`/projects/${r}/environments/${n}`),_(`Environment deleted: ${n}`)}catch(o){let i=P(o);J(`Failed to delete environment: ${i.message}`,i),process.exit(1)}}),t.command("scale").description("Scale the active deployment to a desired instance count").argument("<instances>","Desired number of instances",parseInt).option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").option("-w, --wait","Wait for scaling to complete").action(async(e,r)=>{let n=ie(r.project),s=ce(r.environment),o=F();try{let i=await o.request("POST",`/projects/${n}/environments/${s}/scale`,{body:{desiredCount:e}});if(r.json&&!r.wait){T(i);return}if(_(`Scaling environment ${s} to ${e} instance(s)`),A(`Previous: ${i.previousCount} instance(s)`),A(`Target:   ${i.desiredCount} instance(s)`),r.wait){let a=`/projects/${n}/environments/${s}/scale`;await kg(o,a,r.json)}else A("Status:   Scaling in progress \u2014 poll with 'embr environments scale-status'")}catch(i){let a=P(i);J(`Failed to scale: ${a.message}`,a),process.exit(1)}}),t.command("scale-status").description("Get current scaling status for an environment").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").option("-w, --wait","Wait for scaling to complete").action(async e=>{let r=ie(e.project),n=ce(e.environment),s=F(),o=`/projects/${r}/environments/${n}/scale`;try{if(e.wait){await kg(s,o,e.json);return}let i=await s.request("GET",o);if(e.json){T(i);return}SS(i)}catch(i){let a=P(i);J(`Failed to get scale status: ${a.message}`,a),process.exit(1)}}),t}var _S=3e3,CS=3e5;function SS(t){let r=t.desiredCount===t.actualCount?"\u2713 Converged":"\u23F3 Scaling...";console.log(`
Scale Status: ${t.environmentId}`),console.log(`  Desired:    ${t.desiredCount} instance(s)`),console.log(`  Actual:     ${t.actualCount} instance(s)`),console.log(`  Status:     ${r}`),console.log(`  Max:        ${t.maxInstances} instance(s)`),t.instances&&t.instances.length>0&&(console.log(""),St("Instances",["Sandbox ID","URL","Status","Started"],t.instances.map(n=>[n.sandboxId,n.sandboxUrl??"\u2014",Ut(n.status),n.startedAt?new Date(n.startedAt).toLocaleString():"\u2014"])))}async function kg(t,e,r){let n=Date.now();for(;Date.now()-n<CS;){let s=await t.request("GET",e);if(s.desiredCount===s.actualCount){if(r){T(s);return}_(`Scaling complete: ${s.actualCount}/${s.desiredCount} instances ready`);return}process.stdout.write(`\r\u23F3 Scaling: ${s.actualCount}/${s.desiredCount} instances ready...`),await new Promise(o=>setTimeout(o,_S))}I("Scaling timed out"),process.exit(1)}function Uu(){let t=new W("deployments").description("Deployment management commands");t.command("trigger").description("Trigger a new deployment from a commit").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-c, --commit <sha>","Commit SHA (uses latest on branch if not provided)").option("-m, --message <message>","Commit message").option("--pr <number>","Pull request number").option("-j, --json","Output as JSON").action(async r=>{let n=ie(r.project),s=ce(r.environment),o=F();try{let i=await o.request("POST",`/projects/${n}/environments/${s}/deployments`,{body:{commitSha:r.commit,commitMessage:r.message,pullRequestNumber:r.pr?Number(r.pr):void 0}});r.json?T(i):(_(`Deployment triggered: ${i.id}`),Ur(i))}catch(i){let a=P(i);J(`Failed to trigger deployment: ${a.message}`,a),process.exit(1)}}),t.command("list").description("List deployments for an environment").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("--page <number>","Page number","1").option("-s, --page-size <number>","Page size","25").option("--status <status>","Filter by status (queued, building, provisioning, active, failed, etc.)").option("-j, --json","Output as JSON").action(async r=>{let n=ie(r.project),s=ce(r.environment),o=F();try{let i=await o.request("GET",`/projects/${n}/environments/${s}/deployments`,{query:{page:Number(r.page),pageSize:Number(r.pageSize),status:r.status}});if(r.json){T(i);return}if(i.items.length===0){A("No deployments found");return}let a=i.items.map(u=>[u.id,u.revisionNumber.toString(),u.commitSha.substring(0,8),u.status,`${u.trafficPercentage}%`]);Br("Deployments",i,a,["ID","Rev","Commit","Status","Traffic"])}catch(i){let a=P(i);J(`Failed to list deployments: ${a.message}`,a),process.exit(1)}}),t.command("get").description("Get a deployment by ID").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("GET",`/projects/${s}/environments/${o}/deployments/${r}`);n.json?T(a):Ur(a)}catch(a){let u=P(a);J(`Failed to get deployment: ${u.message}`,u),process.exit(1)}}),t.command("activate").description("Activate a deployment to receive traffic").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("POST",`/projects/${s}/environments/${o}/deployments/${r}/activate`);n.json?T(a):_(`Deployment activated: ${r}`)}catch(a){let u=P(a);J(`Failed to activate deployment: ${u.message}`,u),process.exit(1)}}),t.command("stop").description("Stop a deployment").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("POST",`/projects/${s}/environments/${o}/deployments/${r}/stop`);n.json?T(a):_(`Deployment stopped: ${r}`)}catch(a){let u=P(a);J(`Failed to stop deployment: ${u.message}`,u),process.exit(1)}}),t.command("cancel").description("Cancel an in-progress deployment (building or provisioning)").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("POST",`/projects/${s}/environments/${o}/deployments/${r}/cancel`);n.json?T(a):_(`Deployment cancelled: ${r}`)}catch(a){let u=P(a);J(`Failed to cancel deployment: ${u.message}`,u),process.exit(1)}}),t.command("rollback").description("Create a new deployment from a previous deployment's commit").argument("<deploymentId>","Deployment ID to rollback to").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("POST",`/projects/${s}/environments/${o}/deployments/${r}/rollback`);n.json?T(a):(_(`Rollback deployment created: ${a.id}`),Ur(a))}catch(a){let u=P(a);J(`Failed to rollback to deployment: ${u.message}`,u),process.exit(1)}}),t.command("logs").description("Get deployment logs (build or runtime)").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("--step <type>","Step type to get logs for (build, runtime)").option("--lines <number>","Number of log lines").option("--follow","Follow logs").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("GET",`/projects/${s}/environments/${o}/deployments/${r}/logs`,{query:{stepType:n.step,lines:n.lines,follow:n.follow?"true":void 0}});n.json?T(a):console.log(a.logs??a)}catch(a){let u=P(a);J(`Failed to get deployment logs: ${u.message}`,u),process.exit(1)}}),t.command("stream").description("Stream deployment logs via SSE (build phase)").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").action(async(r,n)=>{let s=ie(n.project),o=F();try{let a=(await o.stream(`/stream/deployments/${s}/${r}/logs`)).getReader(),u=new TextDecoder("utf-8"),c="";for(;;){let{value:l,done:d}=await a.read();if(d)break;c+=u.decode(l,{stream:!0});let p;for(;(p=c.indexOf(`
`))>=0;){let f=c.slice(0,p).trimEnd();if(c=c.slice(p+1),f.startsWith("data:")){let m=f.replace(/^data:\s?/,"");m&&console.log(m)}}}}catch(i){let a=P(i);J(`Failed to stream deployment logs: ${a.message}`,a),process.exit(1)}});let e=new W("snapshots").description("Manage deployment snapshots");return e.command("list").description("List snapshots for a deployment").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("GET",`/projects/${s}/environments/${o}/deployments/${r}/snapshots`);if(n.json){T(a);return}if(a.length===0){A("No snapshots found");return}let u=a.map(c=>[c.id,c.sandboxId,c.createdAtUtc,c.resources?`${c.resources.cpu||"-"}/${c.resources.memory||"-"}`:"-"]);St("Snapshots",["ID","Sandbox","Created","CPU/Memory"],u)}catch(a){let u=P(a);J(`Failed to list snapshots: ${u.message}`,u),process.exit(1)}}),e.command("create").description("Create a snapshot from a deployment").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("POST",`/projects/${s}/environments/${o}/deployments/${r}/snapshots`);if(n.json){T(a);return}_(`Created ${a.snapshots.length} snapshot(s) for deployment ${a.deploymentId}`);for(let u of a.snapshots)Ag(u)}catch(a){let u=P(a);J(`Failed to create snapshot: ${u.message}`,u),process.exit(1)}}),e.command("delete").description("Delete a snapshot from a deployment").argument("<deploymentId>","Deployment ID").argument("<snapshotId>","Snapshot ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async(r,n,s)=>{let o=ie(s.project),i=ce(s.environment),a=F();try{let u=await a.request("DELETE",`/projects/${o}/environments/${i}/deployments/${r}/snapshots/${n}`);if(s.json){T(u);return}_(`Deleted snapshot: ${n}`)}catch(u){let c=P(u);J(`Failed to delete snapshot: ${c.message}`,c),process.exit(1)}}),t.addCommand(e),t.command("instances").description("List active instances for a deployment (use --stats for live resource usage)").argument("<deploymentId>","Deployment ID").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-s, --stats","Include live CPU, memory, network stats").option("-j, --json","Output as JSON").action(async(r,n)=>{let s=ie(n.project),o=ce(n.environment),i=F();try{let a=await i.request("GET",`/projects/${s}/environments/${o}/deployments/${r}/sandboxes`);if(a.length===0){A("No active instances found");return}if(n.stats){try{let c=await i.request("GET",`/projects/${s}/environments/${o}/stats`);if(n.json){T({instances:a,stats:c});return}let l=new Map(c.instances.map(p=>[p.sandboxId,p])),d=a.map(p=>{let f=l.get(p.id);return[p.id,p.state||"-",f?.cpu?f.cpu.loadAvg1.toFixed(2):"-",f?.memory?`${De(f.memory.usedBytes)}/${De(f.memory.totalBytes)}`:"-",f?.network?`\u2193${De(f.network.rxBytes)} \u2191${De(f.network.txBytes)}`:"-",f?Tu(f.uptimeSecs):"-"]});if(St("Active Instances",["ID","State","CPU Load","Memory","Network","Uptime"],d),c.instances.length>1&&c.aggregate){let p=c.aggregate;console.log(""),console.log(`  Totals (${c.instanceCount} instances)`),p.cpu&&console.log(`    CPU Load:  ${p.cpu.avgLoadAvg1.toFixed(2)} avg, ${p.cpu.maxLoadAvg1.toFixed(2)} max`),p.memory&&console.log(`    Memory:    ${De(p.memory.usedBytes)}/${De(p.memory.totalBytes)} (${p.memory.avgUsagePercent}% avg)`),p.network&&console.log(`    Network:   \u2193${De(p.network.totalRxBytes)} \u2191${De(p.network.totalTxBytes)}`),p.tokenUsage&&console.log(`    Tokens:    In: ${p.tokenUsage.totalInputTokens.toLocaleString()}  Out: ${p.tokenUsage.totalOutputTokens.toLocaleString()}  Reqs: ${p.tokenUsage.totalRequestCount.toLocaleString()}`)}}catch{A("Stats unavailable, showing basic instance list");let c=a.map(l=>[l.id,l.state||"-",l.snapshotId||"-",l.createdAt||"-"]);St("Active Instances",["ID","State","Snapshot","Created"],c)}return}if(n.json){T(a);return}let u=a.map(c=>[c.id,c.state||"-",c.snapshotId||"-",c.createdAt||"-"]);St("Active Instances",["ID","State","Snapshot","Created"],u)}catch(a){let u=P(a);J(`Failed to list instances: ${u.message}`,u),process.exit(1)}}),t.command("stats").description("Show live resource stats for the active deployment").option("-p, --project <projectId>","Project ID (uses context if not provided)").option("-e, --environment <environmentId>","Environment ID (uses context if not provided)").option("-j, --json","Output as JSON").action(async r=>{let n=ie(r.project),s=ce(r.environment),o=F();try{let i=await o.request("GET",`/projects/${n}/environments/${s}/stats`);if(r.json){T(i);return}if(i.instanceCount===0){A("No running instances");return}console.log(`
  Active Instances: ${i.instanceCount}
`);let a=i.aggregate;if(a.cpu&&(console.log("  CPU"),console.log(`    Avg Load (1m): ${a.cpu.avgLoadAvg1.toFixed(2)}    Max Load (1m): ${a.cpu.maxLoadAvg1.toFixed(2)}`)),a.memory&&(console.log(`
  Memory`),console.log(`    Total: ${De(a.memory.totalBytes)}    Used: ${De(a.memory.usedBytes)} (${a.memory.avgUsagePercent}%)`)),a.network&&(console.log(`
  Network`),console.log(`    Received: ${De(a.network.totalRxBytes)}    Transmitted: ${De(a.network.totalTxBytes)}`)),a.tokenUsage&&(console.log(`
  Token Usage`),console.log(`    Input: ${a.tokenUsage.totalInputTokens.toLocaleString()}    Output: ${a.tokenUsage.totalOutputTokens.toLocaleString()}    Requests: ${a.tokenUsage.totalRequestCount.toLocaleString()}`)),i.instances.length>0){let u=i.instances.map(c=>[c.sandboxId,c.status,c.cpu?c.cpu.loadAvg1.toFixed(2):"-",c.memory?`${De(c.memory.usedBytes)}/${De(c.memory.totalBytes)}`:"-",c.network?`\u2193${De(c.network.rxBytes)} \u2191${De(c.network.txBytes)}`:"-",c.tokenUsage?`In:${c.tokenUsage.totalInputTokens} Out:${c.tokenUsage.totalOutputTokens}`:"-",Tu(c.uptimeSecs)]);St("Per-Instance",["ID","Status","CPU Load","Memory","Network","Tokens","Uptime"],u)}console.log("")}catch(i){let a=P(i);J(`Failed to get stats: ${a.message}`,a),process.exit(1)}}),t}function Vu(){let t=new W("installations").description("GitHub App installation commands");return t.command("get").description("Get installation details and repositories").argument("<installationId>","Installation ID").option("-j, --json","Output as JSON").action(async(e,r)=>{let n=F();try{let s=await n.request("GET",`/installations/${e}`);r.json?T(s):(_(`Installation ${s.installation.id}`),T(s))}catch(s){let o=P(s);I(`Failed to get installation: ${o.message}`),process.exit(1)}}),t.command("config").description("Get GitHub App configuration").option("-j, --json","Output as JSON").action(async e=>{let r=F();try{let n=await r.request("GET","/installations/config");e.json?T(n):T(n)}catch(n){let s=P(n);I(`Failed to get app config: ${s.message}`),process.exit(1)}}),t}function Gu(){let t=new W("stream").description("Streaming commands");return t.command("build-logs").description("Stream build logs for a deployment via SSE").argument("<projectId>","Project ID").argument("<deploymentId>","Deployment ID").action(async(e,r)=>{let n=F();try{let o=(await n.stream(`/stream/deployments/${e}/${r}/logs`)).getReader(),i=new TextDecoder("utf-8"),a="";for(;;){let{value:u,done:c}=await o.read();if(c)break;a+=i.decode(u,{stream:!0});let l;for(;(l=a.indexOf(`
`))>=0;){let d=a.slice(0,l).trimEnd();if(a=a.slice(l+1),d.startsWith("data:")){let p=d.replace(/^data:\s?/,"");p&&console.log(p)}}}}catch(s){let o=P(s);I(`Failed to stream logs: ${o.message}`),process.exit(1)}}),t}var Vt=ve(require("fs")),ye=ve(require("path")),Gg=require("child_process");var Ng="0c8c5ec6-ac18-4dc1-bb6a-0665e4e37e21",qg="Microsoft.Embr.Global.Rollout",Lg="Microsoft.Azure.SDP.Standard",Mg="0.0.10",zu="Test";function Wu(t=process.cwd()){let e=ye.resolve(t);for(;;){if(Vt.existsSync(ye.join(e,"Embr.slnx")))return e;let r=ye.dirname(e);if(r===e)return null;e=r}}function Bn(t,e){if(e)return ye.resolve(e);let r=t??Wu();if(!r)throw new Error("Unable to locate repository root. Use --ev2-root to specify path.");return ye.join(r,"ev2","embr-global-rollout")}function Bg(t,e){if(e)return ye.resolve(e);let r=t??Wu();if(!r)throw new Error("Unable to locate repository root. Use --script to specify path.");return ye.join(r,"src","Embr.Global.Api","deploy","build-and-push-image.ps1")}function Hu(t,e){if(e)return ye.resolve(e);let r=t??Wu();if(!r)throw new Error("Unable to locate repository root. Use --ev2-shell to specify path.");return ye.join(r,"ev2","Ev2_PowerShell","AzureServiceDeployClient.ps1")}function OS(t){return t.replace(/'/g,"''")}function lo(t){if(process.platform!=="win32")throw new Error("EV2 commands are currently supported on Windows only.");return new Promise((e,r)=>{let n=(0,Gg.spawn)("powershell",t,{stdio:"inherit"});n.on("error",r),n.on("exit",s=>{s===0?e():r(new Error(`PowerShell exited with code ${s}`))})})}function co(t,e){let n=`& { . '${OS(t)}' -skipScriptUpdate:$true; ${e} }`;return lo(["-NoProfile","-ExecutionPolicy","Bypass","-Command",n])}function IS(t,e){let r=ye.join(t,"helm"),n=ye.join(r,e),o=`tar -czf "${ye.join(r,`${e}-1.0.0.tgz`)}" -C "${r}" ${e}`;return lo(["-NoProfile","-ExecutionPolicy","Bypass","-Command",o])}function Ug(t,e,r){let n=ye.join(t,"configuration",e,"configurationSettings.json");if(!Vt.existsSync(n))throw new Error(`Configuration not found: ${n}`);let s=Vt.readFileSync(n,"utf-8"),o=JSON.parse(s);o.Settings=o.Settings||{};let i=o.Settings;(!i.image||typeof i.image!="object")&&(i.image={}),i.image.tag=r,Vt.writeFileSync(n,JSON.stringify(o,null,2)+`
`)}function Vg(t,e){let r=ye.join(t,"version.txt");Vt.writeFileSync(r,`${e}
`)}function Ku(){let t=new W("ev2").description("EV2 deployment commands");return t.command("build-push").description("Build and push the Embr.Global.Api image to ACR").requiredOption("--acr <name>","ACR name (without .azurecr.io)").requiredOption("--tag <tag>","Image tag").option("--script <path>","Override path to build-and-push-image.ps1").action(async e=>{try{let r=Bg(void 0,e.script);await lo(["-NoProfile","-ExecutionPolicy","Bypass","-File",r,"-AcrName",e.acr,"-ImageTag",e.tag]),_("Image build and push completed")}catch(r){I(`Build/push failed: ${r.message}`),process.exit(1)}}),t.command("set-image-tag").description("Update EV2 configuration image tag").requiredOption("--env <name>","Environment folder (Test or Prod)").requiredOption("--tag <tag>","Image tag").option("--ev2-root <path>","Override EV2 root path").action(e=>{try{let r=Bn(void 0,e.ev2Root);Ug(r,e.env,e.tag),_(`Updated image tag to ${e.tag} for ${e.env}`)}catch(r){I(`Failed to update image tag: ${r.message}`),process.exit(1)}}),t.command("set-version").description("Update EV2 artifacts version").requiredOption("--version <version>","Artifacts version").option("--ev2-root <path>","Override EV2 root path").action(e=>{try{let r=Bn(void 0,e.ev2Root);Vg(r,e.version),_(`Updated version to ${e.version}`)}catch(r){I(`Failed to update version: ${r.message}`),process.exit(1)}}),t.command("register").description("Register EV2 artifacts").option("--ev2-root <path>","Override EV2 root path").option("--ev2-shell <path>","Override EV2 PowerShell shell script path").option("--rollout-infra <name>","Rollout infra (Test/Prod)",zu).action(async e=>{try{let r=Bn(void 0,e.ev2Root),n=Hu(void 0,e.ev2Shell),s=`Register-AzureServiceArtifacts -ServiceGroupRoot "${r}" -RolloutSpec rolloutSpec.json -RolloutInfra ${e.rolloutInfra}`;await co(n,s),_("Artifacts registered")}catch(r){I(`Failed to register artifacts: ${r.message}`),process.exit(1)}}),t.command("rollout").description("Start EV2 rollout").requiredOption("--artifacts-version <version>","Artifacts version").option("--ev2-root <path>","Override EV2 root path (used for context only)").option("--ev2-shell <path>","Override EV2 PowerShell shell script path").option("--service-identifier <id>","Service identifier",Ng).option("--service-group <name>","Service group",qg).option("--stage-map-name <name>","Stage map name",Lg).option("--stage-map-version <version>","Stage map version",Mg).option("--select <select>","Select regions/filter","regions(australiaeast)").option("--rollout-infra <name>","Rollout infra (Test/Prod)",zu).option("--no-wait","Do not wait for completion").action(async e=>{try{e.ev2Root&&Bn(void 0,e.ev2Root);let r=Hu(void 0,e.ev2Shell),n=e.wait?"-WaitToComplete":"",s=`New-AzureServiceRollout -ServiceIdentifier "${e.serviceIdentifier}" -ServiceGroup "${e.serviceGroup}" -StageMapName "${e.stageMapName}" -StageMapVersion "${e.stageMapVersion}" -Select "${e.select}" -ArtifactsVersion ${e.artifactsVersion} -RolloutInfra ${e.rolloutInfra} ${n}`.trim();await co(r,s),_("Rollout started")}catch(r){I(`Failed to start rollout: ${r.message}`),process.exit(1)}}),t.command("deploy").description("Build+push image, update EV2 config/version, register, and rollout").requiredOption("--acr <name>","ACR name (without .azurecr.io)").option("--image-tag <tag>","Image tag (overrides default behavior)").option("--latest",'Use image tag "latest" instead of the artifacts version').requiredOption("--artifacts-version <version>","Artifacts version").option("--env <name>","Environment folder (Test or Prod)","Test").option("--ev2-root <path>","Override EV2 root path").option("--ev2-shell <path>","Override EV2 PowerShell shell script path").option("--script <path>","Override path to build-and-push-image.ps1").option("--rebuild-helm","Rebuild Helm chart package (embr-global-1.0.0.tgz)").option("--helm-chart <name>","Helm chart folder name","embr-global").option("--rollout-infra <name>","Rollout infra (Test/Prod)",zu).option("--service-identifier <id>","Service identifier",Ng).option("--service-group <name>","Service group",qg).option("--stage-map-name <name>","Stage map name",Lg).option("--stage-map-version <version>","Stage map version",Mg).option("--select <select>","Select regions/filter","regions(australiaeast)").option("--skip-register","Skip artifact registration").option("--skip-rollout","Skip rollout").option("--skip-build","Skip build and push to ACR").option("--no-wait","Do not wait for completion").action(async e=>{try{let r=Bn(void 0,e.ev2Root),n=Hu(void 0,e.ev2Shell),s=e.artifactsVersion,o=e.imageTag;if(o||(o=e.latest?"latest":s),e.skipBuild)A("Skipping build and push to ACR");else{A("Building and pushing image...");let i=Bg(void 0,e.script);await lo(["-NoProfile","-ExecutionPolicy","Bypass","-File",i,"-AcrName",e.acr,"-ImageTag",o])}if(e.rebuildHelm&&(A("Rebuilding Helm chart package..."),await IS(r,e.helmChart)),Ug(r,e.env,o),Vg(r,s),_(`Updated EV2 configuration (tag: ${o}, version: ${s})`),!e.skipRegister){A("Registering artifacts...");let i=`Register-AzureServiceArtifacts -ServiceGroupRoot "${r}" -RolloutSpec rolloutSpec.json -RolloutInfra ${e.rolloutInfra}`;await co(n,i)}if(!e.skipRollout){A("Starting rollout...");let i=e.wait?"-WaitToComplete":"",a=`New-AzureServiceRollout -ServiceIdentifier "${e.serviceIdentifier}" -ServiceGroup "${e.serviceGroup}" -StageMapName "${e.stageMapName}" -StageMapVersion "${e.stageMapVersion}" -Select "${e.select}" -ArtifactsVersion ${s} -RolloutInfra ${e.rolloutInfra} ${i}`.trim();await co(n,a)}_("EV2 deploy completed")}catch(r){I(`EV2 deploy failed: ${r.message}`),process.exit(1)}}),t}var AS="0.0.1";function Ju(){let t=new W("version").description("Show CLI version");return t.action(()=>{console.log(AS)}),t}var k=ve(qr()),fo=ve(require("readline"));function FS(){let t=Se();return t.apiUrl.includes("localhost")||t.apiUrl.includes("127.0.0.1")?"https://localhost:5173":"https://portal.embrdev.io"}var xS=5e3,PS=6e5,TS=5e3,jS=3e5;function RS(){try{let t=require("fs"),e=require("path"),r=t.statSync(e.resolve(__dirname,__filename)),n=new Date(r.mtimeMs),s=Math.floor((Date.now()-r.mtimeMs)/1e3),o;return s<60?o=`${s}s ago`:s<3600?o=`${Math.floor(s/60)}m ago`:s<86400?o=`${Math.floor(s/3600)}h ago`:o=`${Math.floor(s/86400)}d ago`,`built ${n.toISOString()} (${o})`}catch{return"built unknown"}}function kS(){let t=Date.now();return{elapsed(){let e=((Date.now()-t)/1e3).toFixed(1);return k.default.dim(`[+${e}s]`)}}}function Wg(t){return new Promise(e=>setTimeout(e,t))}function NS(t){let e=t.split("/");if(e.length!==2||!e[0]||!e[1])throw new Error(`Invalid repository format: ${t}. Expected format: owner/repo`);return{owner:e[0],repo:e[1]}}async function qS(t,e,r){let s=await F().request("GET",`/installations/${t}`),o=s.repositories.find(i=>i.fullName.toLowerCase()===`${e}/${r}`.toLowerCase());if(!o)throw new Error(`Repository ${e}/${r} not found in installation ${t}. Accessible repos: ${s.repositories.map(i=>i.fullName).join(", ")}`);return{defaultBranch:o.defaultBranch||"main"}}async function LS(t,e,r,n){let o=await F().request("GET",`/installations/${t}/repos/${e}/${r}/branches/${n}/head`);return{sha:o.sha,message:o.message}}var Vr={pending:k.default.dim("\u25CB"),inProgress:k.default.blue("\u25C9"),succeeded:k.default.green("\u2713"),failed:k.default.red("\u2717"),skipped:k.default.dim("\u2298")};function Kg(t){if(t<60)return`${t}s`;let e=Math.floor(t/60),r=t%60;return`${e}m ${r}s`}function MS(t){let e=t.toLowerCase();return e==="succeeded"||e==="completed"?Vr.succeeded:e==="inprogress"||e==="in_progress"||e==="running"?Vr.inProgress:e==="failed"||e==="error"?Vr.failed:e==="skipped"?Vr.skipped:Vr.pending}function BS(t){for(let e=0;e<t;e++)fo.moveCursor(process.stdout,0,-1),fo.clearLine(process.stdout,0)}async function zg(t,e,r){try{let s=await F().request("GET",`/projects/${t}/environments/${e}/deployments/${r}/logs`,{query:{stepType:"build"}});if(s.logs)return s.logs.split(`
`)}catch{}return[]}function US(t){let e=0;for(let r of t){let n=MS(r.status),s=r.durationSeconds?k.default.dim(` (${Kg(r.durationSeconds)})`):"",o=r.status.toLowerCase()==="inprogress"||r.status.toLowerCase()==="in_progress"||r.status.toLowerCase()==="running"?k.default.bold(r.name):r.status.toLowerCase()==="succeeded"||r.status.toLowerCase()==="completed"?k.default.green(r.name):r.status.toLowerCase()==="failed"||r.status.toLowerCase()==="error"?k.default.red(r.name):k.default.dim(r.name);console.log(`  ${n} ${o}${s}`),e++}return e}function Hg(t,e=12){if(t.length===0)return 0;let r=0;console.log(k.default.dim("  \u250C\u2500 Build Output \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500")),r++;let n=t.slice(-e);t.length>e&&(console.log(k.default.dim(`  \u2502 ... ${t.length-e} earlier lines hidden`)),r++);for(let s of n){let o=s.substring(0,80),i=s.toLowerCase(),a;i.includes("error")||i.includes("exception")||i.includes("failed")?a=k.default.red(o):i.includes("warning")||i.includes("warn")?a=k.default.yellow(o):i.includes("success")||i.includes("build succeeded")?a=k.default.green(o):a=k.default.dim(o),console.log(`  ${k.default.dim("\u2502")} ${a}`),r++}return console.log(k.default.dim("  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500")),r++,r}async function VS(t,e,r,n=PS){let s=F(),o=Date.now(),i=0,a=0,u=!1,c=[],l=!1;for(console.log(),console.log(k.default.bold("  Deployment Pipeline")),console.log();Date.now()-o<n;){let d=await s.request("GET",`/projects/${t}/environments/${e}/deployments/${r}`),p=d.status.toLowerCase(),f=d.steps?.find(v=>v.type.toLowerCase()==="build"),m=f&&(f.status.toLowerCase()==="inprogress"||f.status.toLowerCase()==="in_progress"||f.status.toLowerCase()==="running"),g=f&&(f.status.toLowerCase()==="succeeded"||f.status.toLowerCase()==="completed"),D=f&&(f.status.toLowerCase()==="failed"||f.status.toLowerCase()==="error"),y=[];if(m&&!u?y=await zg(t,e,r):D&&!u?(y=await zg(t,e,r),c=y,u=!0,l=!0):g&&!u&&(u=!0,l=!1),i+a>0&&BS(i+a),i=0,d.steps&&d.steps.length>0?i=US(d.steps):(console.log(`  ${Vr.inProgress} ${k.default.bold("Initializing...")}`),i=1),a=0,l&&c.length>0?a=Hg(c,20):m&&y.length>0&&(a=Hg(y,12)),p==="active"||p==="succeeded"||p==="ready")return d;if(p==="failed"||p==="error"||p==="cancelled")throw Object.assign(new Error(`Deployment ${r} ${p}. ${d.statusMessage||""}`),{deployment:d});await Wg(xS)}throw new Error(`Deployment ${r} timed out after ${n/1e3} seconds`)}async function GS(t,e,r=jS){let n=F(),s=Date.now();for(;Date.now()-s<r;){let o=await n.request("GET",`/projects/${t}/environments/${e}`),i=o.status.toLowerCase();if(i==="running"||i==="ready")return o;if(i==="failed"||i==="error")throw new Error(`Environment failed with status: ${o.status}. ${o.statusMessage||""}`);process.stdout.write(k.default.dim(".")),await Wg(TS)}throw new Error(`Environment timed out after ${r/1e3} seconds`)}function Xu(){let t=new W("quickstart").description("One-command project setup: creates project, environment, and triggers deployment");return t.command("deploy").description("Create a project, production environment, and trigger a deployment in one command").argument("<repo>","Repository full name (owner/repo)").option("-i, --installation-id <id>","GitHub App installation ID (uses default from config if not provided)").option("-b, --branch <branch>","Branch to deploy (defaults to repo default branch)").option("-n, --env-name <name>",'Environment name (defaults to "production")').option("-j, --json","Output as JSON").action(async(e,r)=>{let n=F(),s=Se(),o=kS();console.log(k.default.dim(`embr quickstart \u2014 ${RS()}`));try{let{owner:i,repo:a}=NS(e),u;r.installationId?(u=Number(r.installationId),isNaN(u)&&(I("Invalid installation ID"),process.exit(1))):s.installationId?(u=s.installationId,A(`${o.elapsed()} Using installation from config: ${u}`)):(I("Installation ID is required. Use -i <id> or set default with: embr config set installationId <id>"),process.exit(1));let c=r.envName||"production";A(`${o.elapsed()} Fetching repository info for ${i}/${a}...`);let l=r.branch;if(!l)try{l=(await qS(u,i,a)).defaultBranch,A(`${o.elapsed()} Using default branch: ${l}`)}catch{l="main",Re(`${o.elapsed()} Could not determine default branch, using: ${l}`)}A(`${o.elapsed()} Creating project for ${i}/${a}...`);let d;try{d=await n.request("POST","/projects",{body:{repositoryFullName:`${i}/${a}`,installationId:u}}),_(`${o.elapsed()} Project created: ${d.id}`)}catch(v){if(P(v).statusCode===409)Re(`${o.elapsed()} Project already exists, fetching existing project...`),d=await n.request("GET",`/projects/repo/${i}/${a}`),A(`${o.elapsed()} Using existing project: ${d.id}`);else throw v}A(`${o.elapsed()} Creating ${c} environment...`);let p;try{p=await n.request("POST",`/projects/${d.id}/environments`,{body:{name:c,branch:l,isProduction:c.toLowerCase()==="production"}}),_(`${o.elapsed()} Environment created: ${p.id}`)}catch(v){if(P(v).statusCode===409){Re(`${o.elapsed()} Environment ${c} already exists, fetching...`);let O=(await n.request("GET",`/projects/${d.id}/environments`)).items.find(ke=>ke.name.toLowerCase()===c.toLowerCase());if(!O)throw new Error(`Environment ${c} conflict but not found`);p=O,A(`${o.elapsed()} Using existing environment: ${p.id}`)}else throw v}wt({projectId:d.id,environmentId:p.id}),_(`${o.elapsed()} Context set to project: ${d.id}, environment: ${p.id}`),A(`${o.elapsed()} Fetching latest commit from ${l}...`);let f,m;try{let v=await LS(u,i,a,l);f=v.sha,m=v.message,A(`${o.elapsed()} Latest commit: ${f.substring(0,8)}`)}catch{I(`Could not fetch latest commit SHA. Context has been set, so you can trigger manually:
  embr deployments trigger -c <sha>

Or override context with explicit project/environment:
  embr deployments trigger -p ${d.id} -e ${p.id} -c <sha>`),process.exit(1)}A(`${o.elapsed()} Triggering deployment for commit ${f.substring(0,8)}...`);let g=await n.request("POST",`/projects/${d.id}/environments/${p.id}/deployments`,{body:{commitSha:f,commitMessage:m}});_(`${o.elapsed()} Deployment triggered: ${g.id}`),A(`${o.elapsed()} Waiting for deployment to complete...`);try{g=await VS(d.id,p.id,g.id),_(`${o.elapsed()} Deployment completed: ${g.status}`)}catch(v){let C=P(v);I(`${o.elapsed()} Deployment failed: ${C.message}`),console.log(k.default.dim(`
  View full build logs with:`)),console.log(`  ${k.default.cyan(`embr deployments logs ${g.id} --step build`)}
`),r.json||Ur(g),process.exit(1)}A(`${o.elapsed()} Fetching environment details...`);try{p=await GS(d.id,p.id),console.log()}catch{Re(`${o.elapsed()} Environment not yet serving traffic, URL may not be ready.`)}let y=`${FS()}/project/${d.id}`;if(r.json)T({project:d,environment:p,deployment:g});else{if(console.log(k.default.bold.green(`
\u2713 Quickstart complete! ${o.elapsed()}`)),console.log(k.default.dim(`
  Build logs (no longer shown): embr deployments logs ${g.id} --step build
`)),console.log(k.default.bold("\u250C\u2500 Summary \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500")),console.log(`  ${k.default.cyan("Project")}:      ${d.id}`),console.log(`  ${k.default.cyan("Environment")}:  ${p.id} (${p.name})`),console.log(`  ${k.default.cyan("Deployment")}:   ${g.id}`),console.log(`  ${k.default.cyan("Commit")}:       ${f.substring(0,8)}${m?" \u2014 "+m.substring(0,50):""}`),g.durationSeconds&&console.log(`  ${k.default.cyan("Duration")}:     ${Kg(g.durationSeconds)}`),p.database){let v=p.database.framework||"database",C=p.database.state||"ready";console.log(`  ${k.default.cyan("Database")}:     ${v} (${C})`)}if(console.log(k.default.bold("\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500")),p.url){let v=p.url.startsWith("http")?p.url:`https://${p.url}`;console.log(`
  ${k.default.bold.green("\u{1F310} App")}:    ${k.default.underline(v)}`)}console.log(`  ${k.default.bold.blue("\u{1F4BB} Portal")}: ${k.default.underline(y)}`),console.log(k.default.dim(`
  Context has been set. Future commands will use this project and environment.`)),console.log()}}catch(i){let a=P(i);I(`${o.elapsed()} Quickstart failed: ${a.message}`),!r.json&&a.details&&console.error(k.default.dim(JSON.stringify(a.details,null,2))),process.exit(1)}}),t}function Yu(){let t=new W("dbs").description("Database lease commands");return t.command("template-create").description("Create or update a database template snapshot from a disk image").requiredOption("-m, --template <templateName>","Template name (e.g., postgres)").option("--disk-image-id <diskImageId>","Disk image ID override").option("--image-name <imageName>","Disk image name override").option("--base-image <baseImage>","Base image override").option("--engine <engine>","Database engine (e.g., postgres)").option("--version <version>","Database version (e.g., 15)").option("-r, --region <region>","Region override").option("-l, --label <label...>","Template labels in key=value format (repeatable)").option("-j, --json","Output as JSON").action(async e=>{let r=F();try{let n=e.label?e.label.reduce((o,i)=>{let[a,u]=i.split("=",2);return a&&u&&(o[a]=u),o},{}):void 0,s=await r.request("POST",`/api/dbs/templates/${e.template}`,{body:{diskImageId:e.diskImageId,imageName:e.imageName,baseImage:e.baseImage,engine:e.engine,version:e.version,region:e.region,labels:n}});e.json?T(s):(_(`Template created: ${s.templateName}`),ao([s]))}catch(n){let s=P(n);I(`Failed to create template: ${s.message}`),process.exit(1)}}),t.command("get").description("Get a database lease by ID").argument("<leaseId>","Lease ID").option("-j, --json","Output as JSON").action(async(e,r)=>{let n=F();try{let s=await n.request("GET",`/api/dbs/${e}`);r.json?T(s):Fg(s)}catch(s){let o=P(s);I(`Failed to get database lease: ${o.message}`),process.exit(1)}}),t.command("templates").description("List database templates").option("-j, --json","Output as JSON").action(async e=>{let r=F();try{let n=await r.request("GET","/api/dbs/templates");e.json?T(n):ao(n)}catch(n){let s=P(n);I(`Failed to list templates: ${s.message}`),process.exit(1)}}),t.command("template-snapshot").description("Create or update a database template snapshot from a sandbox").requiredOption("-m, --template <templateName>","Template name (e.g., postgres)").requiredOption("-s, --sandbox-id <sandboxId>","Template sandbox ID").requiredOption("--engine <engine>","Database engine (e.g., postgres)").requiredOption("--version <version>","Database version (e.g., 15)").option("-r, --region <region>","Region override").option("-l, --label <label...>","Snapshot label in key=value format (repeatable)").option("-j, --json","Output as JSON").action(async e=>{let r=F();try{let n=e.label?e.label.reduce((o,i)=>{let[a,u]=i.split("=",2);return a&&u&&(o[a]=u),o},{}):void 0,s=await r.request("POST",`/api/dbs/templates/${e.template}/snapshot`,{body:{sandboxId:e.sandboxId,engine:e.engine,version:e.version,region:e.region,labels:n}});e.json?T(s):(_(`Template snapshot updated: ${s.templateName}`),ao([s]))}catch(n){let s=P(n);I(`Failed to create template snapshot: ${s.message}`),process.exit(1)}}),t}var zS="0.0.1",Ee=new W;Ee.name("embr").description("Embr CLI - manage Embr Global API resources and EV2 deployments.").version(zS).option("-v, --verbose","Enable verbose output for debugging").hook("preAction",t=>{t.opts().verbose&&Bm(!0)});Ee.addCommand(Ru());Ee.addCommand(ku());Ee.addCommand(Nu());Ee.addCommand(qu());Ee.addCommand(Lu());Ee.addCommand(Mu());Ee.addCommand(Bu());Ee.addCommand(Uu());Ee.addCommand(Vu());Ee.addCommand(Gu());Ee.addCommand(Ku());Ee.addCommand(Ju());Ee.addCommand(Xu());Ee.addCommand(Yu());process.argv.length===2&&Ee.help();Ee.parse(process.argv);
